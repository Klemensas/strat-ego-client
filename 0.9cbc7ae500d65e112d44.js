(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"5xlC":function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},i=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},a=t("CcnG"),o=t("UpIn"),r=function(){function e(e){this.onFileSelected=new a.EventEmitter,this.element=e}return e.prototype.getOptions=function(){return this.uploader.options},e.prototype.getFilters=function(){return{}},e.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},e.prototype.onChange=function(){var e=this.element.nativeElement.files,n=this.getOptions(),t=this.getFilters();this.uploader.addToQueue(e,n,t),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},e}();l([a.Input(),i("design:type",o.FileUploader)],r.prototype,"uploader",void 0),l([a.Output(),i("design:type",a.EventEmitter)],r.prototype,"onFileSelected",void 0),l([a.HostListener("change"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Object)],r.prototype,"onChange",null),r=l([a.Directive({selector:"[ng2FileSelect]"}),i("design:paramtypes",[a.ElementRef])],r),n.FileSelectDirective=r},"6QML":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=function(e){return e&&"string"==typeof e&&null!==e.trim().match(/^{[\s\S]*?}$/)};n.isJsonLikeString=l;var i=function(e){return e&&("NamedNodeMap"===e.constructor.name||e instanceof NamedNodeMap)};n.isNamedNodeMap=i;var a=function(e){var n={};return Object.keys(e).forEach(function(t){var l=e[t].name,i=e[t].value;n[l]=i}),n};n.namedNodeMapToObject=a;var o=function(e){var n=e;return l(e)?n=JSON.parse(e):i(e)&&(n=a(e)),Array.isArray(n)?n=n.map(function(e){return o(e)}):"object"==typeof n&&Object.keys(n).forEach(function(e){var t=e.replace(/-/g,"_").toLocaleLowerCase().replace(/^cld(-|_)?/,""),l=o(n[e]);delete n[e],n[t]=l}),n};n.transformKeyNames=o;var r=function(){function e(e,n){e.CloudinaryJQuery?this._cloudinaryInstance=new e.CloudinaryJQuery(n):this._cloudinaryInstance=new e.Cloudinary(n)}return Object.defineProperty(e.prototype,"cloudinaryInstance",{get:function(){return this._cloudinaryInstance},enumerable:!0,configurable:!0}),e.prototype.config=function(){return this._cloudinaryInstance.config()},e.prototype.url=function(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return(e=this._cloudinaryInstance).url.apply(e,n)},e.prototype.imageTag=function(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return(e=this._cloudinaryInstance).imageTag.apply(e,n)},e.prototype.videoTag=function(){for(var e,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return(e=this._cloudinaryInstance).videoTag.apply(e,n)},e.prototype.responsive=function(e,n){this._cloudinaryInstance.cloudinary_update(e,n),this._cloudinaryInstance.responsive(n,!1)},e.prototype.toCloudinaryAttributes=function(e,n){var t=this,l=o(e);return n&&n.length>0&&(l.transformation=[],n.forEach(function(e){l.transformation.push(t.toCloudinaryAttributes(e.getAttributes()))})),""!==l.responsive&&"true"!==l.responsive&&!0!==l.responsive||(l.responsive=!0),l},e}();n.Cloudinary=r,n.provideCloudinary=function(e,n){return{provide:r,useFactory:function(){return new r(e,n)}}};n.isBrowser=function(){return"undefined"!=typeof window}},"6rTD":function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},i=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)};Object.defineProperty(n,"__esModule",{value:!0});var a=t("CcnG"),o=t("6QML"),r=t("BHEk"),u=t("6QML"),s=function(){function e(e,n){this.el=e,this.cloudinary=n}return e.prototype.ngAfterViewInit=function(){if(u.isBrowser()){var e=void 0,n=void 0;this.clHref?(e="href",n=this.clHref):this.clSrc?(e="src",n=this.clSrc):this.clSrcset&&(e="srcset",n=this.clSrcset);var t=!1;if(this.clHref&&toString.call("[object SVGAnimatedString]"===this.el.nativeElement.href)&&(this.el.nativeElement.setAttribute("xlinkHref","xlink:href"),t=!0),!e||!n)throw new Error("Directive value is missing for clHref/clSrc/clSrcset");var l=this.el.nativeElement,i=this.cloudinary.toCloudinaryAttributes(l.attributes,this.transformations),a=this.cloudinary.url(n,i);this.el.nativeElement.setAttribute(e,a),this.el.nativeElement.ownerDocument.documentMode&&!t&&(this.el.nativeElement[e]=a)}},l([a.Input(),i("design:type",String)],e.prototype,"clHref",void 0),l([a.Input(),i("design:type",String)],e.prototype,"clSrc",void 0),l([a.Input(),i("design:type",String)],e.prototype,"clSrcset",void 0),l([a.ContentChildren(r.CloudinaryTransformationDirective),i("design:type",a.QueryList)],e.prototype,"transformations",void 0),e=l([a.Directive({selector:"[clHref], [clSrc], [clSrcset]"}),i("design:paramtypes",[a.ElementRef,o.Cloudinary])],e)}();n.CloudinaryImageSourceDirective=s},BHEk:function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},i=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)};Object.defineProperty(n,"__esModule",{value:!0});var a=t("CcnG"),o=function(){function e(e){this.el=e}return e.prototype.getAttributes=function(){return this.el.nativeElement.attributes},e=l([a.Directive({selector:"cl-transformation"}),i("design:paramtypes",[a.ElementRef])],e)}();n.CloudinaryTransformationDirective=o},BJTO:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t("O/bx"))},NQJK:function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},i=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)};Object.defineProperty(n,"__esModule",{value:!0});var a=t("CcnG"),o=t("6QML"),r=t("BHEk"),u=t("6QML"),s=function(){function e(e,n){this.el=e,this.cloudinary=n,this.onLoad=new a.EventEmitter,this.onError=new a.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;if(u.isBrowser()){this.observer=new MutationObserver(function(){e.loadImage()});this.observer.observe(this.el.nativeElement,{attributes:!0,childList:!0})}},e.prototype.ngOnChanges=function(e){e.publicId&&!e.publicId.isFirstChange()&&this.loadImage()},e.prototype.ngOnDestroy=function(){this.observer&&this.observer.disconnect&&this.observer.disconnect()},e.prototype.ngAfterViewInit=function(){this.loadImage()},e.prototype.loadImage=function(){var e=this;if(u.isBrowser()){if(!this.publicId)throw new Error("You must set the public id of the image to load, e.g. <cl-image public-id={{photo.public_id}}...></cl-image>");var n=this.el.nativeElement,t=n.children[0];t.onload=function(n){e.onLoad.emit(n)},t.onerror=function(n){e.onError.emit(n)};var l=this.cloudinary.toCloudinaryAttributes(n.attributes,this.transformations),i=this.cloudinary.imageTag(this.publicId,l);this.setElementAttributes(t,i.attributes()),l.responsive&&this.cloudinary.responsive(t,l)}},e.prototype.setElementAttributes=function(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})},l([a.Input("public-id"),i("design:type",String)],e.prototype,"publicId",void 0),l([a.ContentChildren(r.CloudinaryTransformationDirective),i("design:type",a.QueryList)],e.prototype,"transformations",void 0),l([a.Output(),i("design:type",a.EventEmitter)],e.prototype,"onLoad",void 0),l([a.Output(),i("design:type",a.EventEmitter)],e.prototype,"onError",void 0),e=l([a.Component({selector:"cl-image",template:"<img>"}),i("design:paramtypes",[a.ElementRef,o.Cloudinary])],e)}();n.CloudinaryImage=s},"O/bx":function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o};Object.defineProperty(n,"__esModule",{value:!0});var i=t("CcnG"),a=t("6QML"),o=t("NQJK"),r=t("fylK"),u=t("BHEk"),s=t("6rTD"),c=t("mb0K"),d=t("NQJK");n.CloudinaryImage=d.CloudinaryImage;var p=t("fylK");n.CloudinaryVideo=p.CloudinaryVideo;var f=t("BHEk");n.CloudinaryTransformationDirective=f.CloudinaryTransformationDirective;var m=t("6rTD");n.CloudinaryImageSourceDirective=m.CloudinaryImageSourceDirective;var h=t("mb0K");n.CloudinaryBackgroundImageDirective=h.CloudinaryBackgroundImageDirective;var g=t("6QML");function v(e,n){return new a.Cloudinary(e,n)}n.Cloudinary=g.Cloudinary,n.provideCloudinary=g.provideCloudinary,n.CLOUDINARY_LIB=new i.InjectionToken("CLOUDINARY_LIB"),n.CLOUDINARY_CONFIGURATION=new i.InjectionToken("CLOUDINARY_CONFIGURATION"),n.createCloudinary=v;var b=function(){function e(){}return t=e,e.forRoot=function(e,l){return{ngModule:t,providers:[{provide:n.CLOUDINARY_LIB,useValue:e},{provide:n.CLOUDINARY_CONFIGURATION,useValue:l},{provide:a.Cloudinary,useFactory:v,deps:[n.CLOUDINARY_LIB,n.CLOUDINARY_CONFIGURATION]}]}},e=t=l([i.NgModule({declarations:[s.CloudinaryImageSourceDirective,c.CloudinaryBackgroundImageDirective,o.CloudinaryImage,r.CloudinaryVideo,u.CloudinaryTransformationDirective],exports:[s.CloudinaryImageSourceDirective,c.CloudinaryBackgroundImageDirective,o.CloudinaryImage,r.CloudinaryVideo,u.CloudinaryTransformationDirective]})],e);var t}();n.CloudinaryModule=b},QGqX:function(e,n,t){"use strict";var l=function(){function e(){}return e.getMimeClass=function(e){var n="application";return-1!==this.mime_psd.indexOf(e.type)?n="image":e.type.match("image.*")?n="image":e.type.match("video.*")?n="video":e.type.match("audio.*")?n="audio":"application/pdf"===e.type?n="pdf":-1!==this.mime_compress.indexOf(e.type)?n="compress":-1!==this.mime_doc.indexOf(e.type)?n="doc":-1!==this.mime_xsl.indexOf(e.type)?n="xls":-1!==this.mime_ppt.indexOf(e.type)&&(n="ppt"),"application"===n&&(n=this.fileTypeDetection(e.name)),n},e.fileTypeDetection=function(e){var n={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},t=e.split(".");if(t.length<2)return"application";var l=t[t.length-1].toLowerCase();return void 0===n[l]?"application":n[l]},e}();l.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],l.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],l.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],l.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],l.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream"],n.FileType=l},"RjY/":function(e,n,t){"use strict";function l(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),l(t("hMlM")),l(t("euAv")),l(t("wfqj"))},S6T7:function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},i=t("Ip0R"),a=t("CcnG"),o=t("pKD1"),r=t("5xlC"),u=function(){return function(){}}();u=l([a.NgModule({imports:[i.CommonModule],declarations:[o.FileDropDirective,r.FileSelectDirective],exports:[o.FileDropDirective,r.FileSelectDirective]})],u),n.FileUploadModule=u},UpIn:function(e,n,t){"use strict";var l=t("CcnG"),i=t("oQam"),a=t("b6v0"),o=t("QGqX");var r=function(){function e(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(e){return e._file},formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new l.EventEmitter}return e.prototype.setOptions=function(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var n=0;n<this.queue.length;n++)this.queue[n].url=this.options.url},e.prototype.addToQueue=function(e,n,t){for(var l=this,o=[],r=0,u=e;r<u.length;r++){var s=u[r];o.push(s)}var c=this._getFilters(t),d=this.queue.length,p=[];o.map(function(e){n||(n=l.options);var t=new i.FileLikeObject(e);if(l._isValidFile(t,c,n)){var o=new a.FileItem(l,e,n);p.push(o),l.queue.push(o),l._onAfterAddingFile(o)}else{var r=c[l._failFilterIndex];l._onWhenAddingFileFailed(t,r,n)}}),this.queue.length!==d&&(this._onAfterAddingAll(p),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},e.prototype.removeFromQueue=function(e){var n=this.getIndexOfItem(e),t=this.queue[n];t.isUploading&&t.cancel(),this.queue.splice(n,1),this.progress=this._getTotalProgress()},e.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},e.prototype.uploadItem=function(e){var n=this.getIndexOfItem(e),t=this.queue[n],l=this.options.isHTML5?"_xhrTransport":"_iframeTransport";t._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[l](t))},e.prototype.cancelItem=function(e){var n=this.getIndexOfItem(e),t=this.queue[n],l=this.options.isHTML5?t._xhr:t._form;t&&t.isUploading&&l.abort()},e.prototype.uploadAll=function(){var e=this.getNotUploadedItems().filter(function(e){return!e.isUploading});e.length&&(e.map(function(e){return e._prepareToUploading()}),e[0].upload())},e.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(e){return e.cancel()})},e.prototype.isFile=function(e){return function(e){return File&&e instanceof File}(e)},e.prototype.isFileLikeObject=function(e){return e instanceof i.FileLikeObject},e.prototype.getIndexOfItem=function(e){return"number"==typeof e?e:this.queue.indexOf(e)},e.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},e.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,n){return e.index-n.index})},e.prototype.destroy=function(){},e.prototype.onAfterAddingAll=function(e){return{fileItems:e}},e.prototype.onBuildItemForm=function(e,n){return{fileItem:e,form:n}},e.prototype.onAfterAddingFile=function(e){return{fileItem:e}},e.prototype.onWhenAddingFileFailed=function(e,n,t){return{item:e,filter:n,options:t}},e.prototype.onBeforeUploadItem=function(e){return{fileItem:e}},e.prototype.onProgressItem=function(e,n){return{fileItem:e,progress:n}},e.prototype.onProgressAll=function(e){return{progress:e}},e.prototype.onSuccessItem=function(e,n,t,l){return{item:e,response:n,status:t,headers:l}},e.prototype.onErrorItem=function(e,n,t,l){return{item:e,response:n,status:t,headers:l}},e.prototype.onCancelItem=function(e,n,t,l){return{item:e,response:n,status:t,headers:l}},e.prototype.onCompleteItem=function(e,n,t,l){return{item:e,response:n,status:t,headers:l}},e.prototype.onCompleteAll=function(){},e.prototype._mimeTypeFilter=function(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))},e.prototype._fileSizeFilter=function(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)},e.prototype._fileTypeFilter=function(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(o.FileType.getMimeClass(e)))},e.prototype._onErrorItem=function(e,n,t,l){e._onError(n,t,l),this.onErrorItem(e,n,t,l)},e.prototype._onCompleteItem=function(e,n,t,l){e._onComplete(n,t,l),this.onCompleteItem(e,n,t,l);var i=this.getReadyItems()[0];this.isUploading=!1,i?i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())},e.prototype._headersGetter=function(e){return function(n){return n?e[n.toLowerCase()]||void 0:e}},e.prototype._xhrTransport=function(e){var n,t=this,l=this,i=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)n=this.options.formatDataFunction(e);else{n=new FormData,this._onBuildItemForm(e,n);var a=function(){return n.append(e.alias,e._file,e.file.name)};this.options.parametersBeforeFiles||a(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(l){var i=t.options.additionalParameter[l];"string"==typeof i&&i.indexOf("{{file_name}}")>=0&&(i=i.replace("{{file_name}}",e.file.name)),n.append(l,i)}),this.options.parametersBeforeFiles&&a()}if(i.upload.onprogress=function(n){var l=Math.round(n.lengthComputable?100*n.loaded/n.total:0);t._onProgressItem(e,l)},i.onload=function(){var n=t._parseHeaders(i.getAllResponseHeaders()),l=t._transformResponse(i.response,n),a=t._isSuccessCode(i.status)?"Success":"Error";t["_on"+a+"Item"](e,l,i.status,n),t._onCompleteItem(e,l,i.status,n)},i.onerror=function(){var n=t._parseHeaders(i.getAllResponseHeaders()),l=t._transformResponse(i.response,n);t._onErrorItem(e,l,i.status,n),t._onCompleteItem(e,l,i.status,n)},i.onabort=function(){var n=t._parseHeaders(i.getAllResponseHeaders()),l=t._transformResponse(i.response,n);t._onCancelItem(e,l,i.status,n),t._onCompleteItem(e,l,i.status,n)},i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials,this.options.headers)for(var o=0,r=this.options.headers;o<r.length;o++){var u=r[o];i.setRequestHeader(u.name,u.value)}if(e.headers.length)for(var s=0,c=e.headers;s<c.length;s++){u=c[s];i.setRequestHeader(u.name,u.value)}this.authToken&&i.setRequestHeader(this.authTokenHeader,this.authToken),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&l.response.emit(i.responseText)},this.options.formatDataFunctionIsAsync?n.then(function(e){return i.send(JSON.stringify(e))}):i.send(n),this._render()},e.prototype._getTotalProgress=function(e){if(void 0===e&&(e=0),this.options.removeAfterUpload)return e;var n=this.getNotUploadedItems().length,t=n?this.queue.length-n:this.queue.length,l=100/this.queue.length,i=e*l/100;return Math.round(t*l+i)},e.prototype._getFilters=function(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){var n=e.match(/[^\s,]+/g);return this.options.filters.filter(function(e){return-1!==n.indexOf(e.name)})}return this.options.filters},e.prototype._render=function(){},e.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},e.prototype._isValidFile=function(e,n,t){var l=this;return this._failFilterIndex=-1,!n.length||n.every(function(n){return l._failFilterIndex++,n.fn.call(l,e,t)})},e.prototype._isSuccessCode=function(e){return e>=200&&e<300||304===e},e.prototype._transformResponse=function(e,n){return e},e.prototype._parseHeaders=function(e){var n,t,l,i={};return e?(e.split("\n").map(function(e){l=e.indexOf(":"),n=e.slice(0,l).trim().toLowerCase(),t=e.slice(l+1).trim(),n&&(i[n]=i[n]?i[n]+", "+t:t)}),i):i},e.prototype._onWhenAddingFileFailed=function(e,n,t){this.onWhenAddingFileFailed(e,n,t)},e.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},e.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},e.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},e.prototype._onBuildItemForm=function(e,n){e._onBuildForm(n),this.onBuildItemForm(e,n)},e.prototype._onProgressItem=function(e,n){var t=this._getTotalProgress(n);this.progress=t,e._onProgress(n),this.onProgressItem(e,n),this.onProgressAll(t),this._render()},e.prototype._onSuccessItem=function(e,n,t,l){e._onSuccess(n,t,l),this.onSuccessItem(e,n,t,l)},e.prototype._onCancelItem=function(e,n,t,l){e._onCancel(n,t,l),this.onCancelItem(e,n,t,l)},e}();n.FileUploader=r},YNBZ:function(e,n,t){"use strict";function l(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}l(t("5xlC")),l(t("pKD1")),l(t("UpIn")),l(t("b6v0")),l(t("oQam"));var i=t("S6T7");n.FileUploadModule=i.FileUploadModule},b6v0:function(e,n,t){"use strict";var l=t("oQam"),i=function(){function e(e,n,t){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=n,this.options=t,this.file=new l.FileLikeObject(n),this._file=n,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}return e.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},e.prototype.cancel=function(){this.uploader.cancelItem(this)},e.prototype.remove=function(){this.uploader.removeFromQueue(this)},e.prototype.onBeforeUpload=function(){},e.prototype.onBuildForm=function(e){return{form:e}},e.prototype.onProgress=function(e){return{progress:e}},e.prototype.onSuccess=function(e,n,t){return{response:e,status:n,headers:t}},e.prototype.onError=function(e,n,t){return{response:e,status:n,headers:t}},e.prototype.onCancel=function(e,n,t){return{response:e,status:n,headers:t}},e.prototype.onComplete=function(e,n,t){return{response:e,status:n,headers:t}},e.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},e.prototype._onBuildForm=function(e){this.onBuildForm(e)},e.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},e.prototype._onSuccess=function(e,n,t){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,n,t)},e.prototype._onError=function(e,n,t){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,n,t)},e.prototype._onCancel=function(e,n,t){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,n,t)},e.prototype._onComplete=function(e,n,t){this.onComplete(e,n,t),this.uploader.options.removeAfterUpload&&this.remove()},e.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},e}();n.FileItem=i},euAv:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.attack=0]="attack",e[e.support=1]="support",e[e.return=2]="return"}(n.MovementType||(n.MovementType={})),function(e){e[e.Attack=0]="Attack",e[e.Support=1]="Support",e[e.Return=2]="Return"}(n.MovementTypeName||(n.MovementTypeName={}))},fylK:function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},i=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},a=this&&this.__param||function(e,n){return function(t,l){n(t,l,e)}};Object.defineProperty(n,"__esModule",{value:!0});var o=t("CcnG"),r=t("Ip0R"),u=t("6QML"),s=t("BHEk"),c=function(){function e(e,n,t){this.el=e,this.cloudinary=n,this.platformId=t}return e.prototype.ngOnInit=function(){var e=this;if("undefined"!=typeof MutationObserver){this.observer=new MutationObserver(function(){e.loadVideo(e.publicId)});this.observer.observe(this.el.nativeElement,{attributes:!0,childList:!0})}},e.prototype.ngOnChanges=function(e){e.publicId&&!e.publicId.isFirstChange()&&this.loadVideo(e.publicId.currentValue)},e.prototype.ngOnDestroy=function(){this.observer&&this.observer.disconnect&&this.observer.disconnect()},e.prototype.ngAfterViewInit=function(){if(!this.publicId)throw new Error("You must set the public id of the video to load, e.g. <cl-video public-id={{video.public_id}}...></cl-video>");this.loadVideo(this.publicId)},e.prototype.loadVideo=function(e){if(r.isPlatformBrowser(this.platformId)){var n=this.el.nativeElement,t=n.children[0],l=this.cloudinary.toCloudinaryAttributes(n.attributes,this.transformations),i=this.cloudinary.videoTag(e,l);this.appendSourceElements(t,i.content()),this.setElementAttributes(t,i.attributes())}},e.prototype.setElementAttributes=function(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})},e.prototype.appendSourceElements=function(e,n){var t=document.createDocumentFragment();for(e.innerHTML=n;e.childNodes[0];)t.appendChild(e.childNodes[0]);e.appendChild(t)},l([o.Input("public-id"),i("design:type",String)],e.prototype,"publicId",void 0),l([o.ContentChildren(s.CloudinaryTransformationDirective),i("design:type",o.QueryList)],e.prototype,"transformations",void 0),e=l([o.Component({selector:"cl-video",template:"<video></video>"}),a(2,o.Inject(o.PLATFORM_ID)),i("design:paramtypes",[o.ElementRef,u.Cloudinary,Object])],e)}();n.CloudinaryVideo=c},hMlM:function(e,n,t){"use strict";var l;Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.alliance=0]="alliance",e[e.war=1]="war",e[e.nap=2]="nap"}(n.DiplomacyType||(n.DiplomacyType={})),function(e){e[e.pending=0]="pending",e[e.ongoing=1]="ongoing"}(n.DiplomacyStatus||(n.DiplomacyStatus={})),function(e){e[e.diplomacy=0]="diplomacy",e[e.invitation=1]="invitation",e[e.membership=2]="membership",e[e.roles=3]="roles",e[e.management=4]="management",e[e.profile=5]="profile",e[e.forum=6]="forum"}(n.EventType||(n.EventType={})),function(e){e[e.proposeAlliance=0]="proposeAlliance",e[e.cancelAlliance=1]="cancelAlliance",e[e.rejectAlliance=2]="rejectAlliance",e[e.startAlliance=3]="startAlliance",e[e.endAlliance=4]="endAlliance",e[e.proposeNap=5]="proposeNap",e[e.cancelNap=6]="cancelNap",e[e.rejectNap=7]="rejectNap",e[e.startNap=8]="startNap",e[e.endNap=9]="endNap",e[e.startWar=10]="startWar",e[e.endWar=11]="endWar",e[e.join=12]="join",e[e.leave=13]="leave",e[e.remove=14]="remove",e[e.update=15]="update",e[e.updateMember=16]="updateMember",e[e.reject=17]="reject",e[e.cancel=18]="cancel",e[e.updateProfile=19]="updateProfile",e[e.create=20]="create"}(l=n.EventStatus||(n.EventStatus={})),n.diplomacyTypeToEventStatus={0:l.proposeAlliance,2:l.proposeNap},n.diplomacyTypeName={0:"Alliance",2:"Nap"},n.ALLIANCE_PERMISSIONS=["viewInvites","editInvites","manageForum","editProfile","viewManagement","manageRoles","manageAlliance"]},mb0K:function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},i=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)};Object.defineProperty(n,"__esModule",{value:!0});var a=t("CcnG"),o=t("6QML"),r=t("BHEk"),u=function(){function e(e,n,t){this.renderer=e,this.el=n,this.cloudinary=t}return e.prototype.isBrowser=function(){return"undefined"!=typeof window},e.prototype.ngAfterViewInit=function(){if(this.isBrowser()){var e=this.el.nativeElement,n=this.cloudinary.toCloudinaryAttributes(e.attributes,this.transformations),t=this.cloudinary.url(this.clBackgroundImage,n);this.renderer.setStyle(e,"background-image","url('"+t+"')"),this.renderer.setStyle(e,"background-repeat","no-repeat"),this.renderer.setStyle(e,"background-position","center")}},l([a.Input(),i("design:type",String)],e.prototype,"clBackgroundImage",void 0),l([a.ContentChildren(r.CloudinaryTransformationDirective),i("design:type",a.QueryList)],e.prototype,"transformations",void 0),e=l([a.Directive({selector:"[clBackgroundImage]"}),i("design:paramtypes",[a.Renderer2,a.ElementRef,o.Cloudinary])],e)}();n.CloudinaryBackgroundImageDirective=u},oQam:function(e,n,t){"use strict";var l=function(){function e(e){this.rawFile=e;var n,t=!(!(n=e)||!(n.nodeName||n.prop&&n.attr&&n.find))?e.value:e;this["_createFrom"+("string"==typeof t?"FakePath":"Object")](t)}return e.prototype._createFromFakePath=function(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)},e.prototype._createFromObject=function(e){this.size=e.size,this.type=e.type,this.name=e.name},e}();n.FileLikeObject=l},pKD1:function(e,n,t){"use strict";var l=this&&this.__decorate||function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},i=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},a=t("CcnG"),o=t("UpIn"),r=function(){function e(e){this.fileOver=new a.EventEmitter,this.onFileDrop=new a.EventEmitter,this.element=e}return e.prototype.getOptions=function(){return this.uploader.options},e.prototype.getFilters=function(){return{}},e.prototype.onDrop=function(e){var n=this._getTransfer(e);if(n){var t=this.getOptions(),l=this.getFilters();this._preventAndStop(e),this.uploader.addToQueue(n.files,t,l),this.fileOver.emit(!1),this.onFileDrop.emit(n.files)}},e.prototype.onDragOver=function(e){var n=this._getTransfer(e);this._haveFiles(n.types)&&(n.dropEffect="copy",this._preventAndStop(e),this.fileOver.emit(!0))},e.prototype.onDragLeave=function(e){this.element&&e.currentTarget===this.element[0]||(this._preventAndStop(e),this.fileOver.emit(!1))},e.prototype._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},e.prototype._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},e.prototype._haveFiles=function(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))},e}();l([a.Input(),i("design:type",o.FileUploader)],r.prototype,"uploader",void 0),l([a.Output(),i("design:type",a.EventEmitter)],r.prototype,"fileOver",void 0),l([a.Output(),i("design:type",a.EventEmitter)],r.prototype,"onFileDrop",void 0),l([a.HostListener("drop",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],r.prototype,"onDrop",null),l([a.HostListener("dragover",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],r.prototype,"onDragOver",null),l([a.HostListener("dragleave",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",Object)],r.prototype,"onDragLeave",null),r=l([a.Directive({selector:"[ng2FileDrop]"}),i("design:paramtypes",[a.ElementRef])],r),n.FileDropDirective=r},rZCR:function(e,n,t){"use strict";t.r(n);var l={};t.d(l,"AllianceActionTypes",function(){return $}),t.d(l,"AllianceSuccessActions",function(){return V}),t.d(l,"AllianceFailActions",function(){return q}),t.d(l,"SetData",function(){return U}),t.d(l,"Create",function(){return B}),t.d(l,"CreateSuccess",function(){return H}),t.d(l,"CreateFail",function(){return W}),t.d(l,"Destroy",function(){return Z}),t.d(l,"DestroySuccess",function(){return X}),t.d(l,"DestroyFail",function(){return G}),t.d(l,"LeaveAlliance",function(){return Y}),t.d(l,"LeaveAllianceSuccess",function(){return Q}),t.d(l,"LeaveAllianceFail",function(){return K}),t.d(l,"EventInvitation",function(){return J}),t.d(l,"EventMembership",function(){return ee}),t.d(l,"EventRoles",function(){return ne}),t.d(l,"EventDiplomacy",function(){return te}),t.d(l,"EventProfile",function(){return le}),t.d(l,"CreateInvite",function(){return ie}),t.d(l,"CreateInviteSuccess",function(){return ae}),t.d(l,"CreateInviteFail",function(){return oe}),t.d(l,"CancelInvite",function(){return re}),t.d(l,"CancelInviteSuccess",function(){return ue}),t.d(l,"CancelInviteFail",function(){return se}),t.d(l,"AcceptInvite",function(){return ce}),t.d(l,"AcceptInviteSuccess",function(){return de}),t.d(l,"AcceptInviteFail",function(){return pe}),t.d(l,"RejectInvite",function(){return fe}),t.d(l,"RejectInviteSuccess",function(){return me}),t.d(l,"RejectInviteFail",function(){return he}),t.d(l,"UpdateRolePermissions",function(){return ge}),t.d(l,"UpdateRolePermissionsSuccess",function(){return ve}),t.d(l,"UpdateRolePermissionsFail",function(){return be}),t.d(l,"UpdateMemberRole",function(){return ye}),t.d(l,"UpdateMemberRoleSuccess",function(){return we}),t.d(l,"UpdateMemberRoleFail",function(){return _e}),t.d(l,"RemoveRole",function(){return xe}),t.d(l,"RemoveRoleSuccess",function(){return Ce}),t.d(l,"RemoveRoleFail",function(){return ke}),t.d(l,"RemoveMember",function(){return Re}),t.d(l,"RemoveMemberSuccess",function(){return Se}),t.d(l,"RemoveMemberFail",function(){return Ie}),t.d(l,"Invited",function(){return Oe}),t.d(l,"InviteCanceled",function(){return Pe}),t.d(l,"Removed",function(){return Te}),t.d(l,"UpdateSelfRole",function(){return De}),t.d(l,"ProposeAlliance",function(){return Ae}),t.d(l,"ProposeAllianceSuccess",function(){return Ee}),t.d(l,"ProposeAllianceFail",function(){return je}),t.d(l,"RejectAlliance",function(){return Fe}),t.d(l,"RejectAllianceSuccess",function(){return Me}),t.d(l,"RejectAllianceFail",function(){return Ne}),t.d(l,"AcceptAlliance",function(){return Le}),t.d(l,"AcceptAllianceSuccess",function(){return $e}),t.d(l,"AcceptAllianceFail",function(){return ze}),t.d(l,"EndAlliance",function(){return Ve}),t.d(l,"EndAllianceSuccess",function(){return qe}),t.d(l,"EndAllianceFail",function(){return Ue}),t.d(l,"CancelAlliance",function(){return Be}),t.d(l,"CancelAllianceSuccess",function(){return He}),t.d(l,"CancelAllianceFail",function(){return We}),t.d(l,"ProposeNap",function(){return Ze}),t.d(l,"ProposeNapSuccess",function(){return Xe}),t.d(l,"ProposeNapFail",function(){return Ge}),t.d(l,"RejectNap",function(){return Ye}),t.d(l,"RejectNapSuccess",function(){return Qe}),t.d(l,"RejectNapFail",function(){return Ke}),t.d(l,"CancelNap",function(){return Je}),t.d(l,"CancelNapSuccess",function(){return en}),t.d(l,"CancelNapFail",function(){return nn}),t.d(l,"AcceptNap",function(){return tn}),t.d(l,"AcceptNapSuccess",function(){return ln}),t.d(l,"AcceptNapFail",function(){return an}),t.d(l,"EndNap",function(){return on}),t.d(l,"EndNapSuccess",function(){return rn}),t.d(l,"EndNapFail",function(){return un}),t.d(l,"DeclareWar",function(){return sn}),t.d(l,"DeclareWarSuccess",function(){return cn}),t.d(l,"DeclareWarFail",function(){return dn}),t.d(l,"ViewProfile",function(){return pn}),t.d(l,"LoadProfile",function(){return fn}),t.d(l,"LoadProfileSuccess",function(){return mn}),t.d(l,"LoadProfileFail",function(){return hn}),t.d(l,"UpdateProfile",function(){return gn}),t.d(l,"UpdateProfileSuccess",function(){return vn}),t.d(l,"UpdateProfileFail",function(){return bn}),t.d(l,"RemoveAvatar",function(){return yn}),t.d(l,"RemoveAvatarSuccess",function(){return wn}),t.d(l,"RemoveAvatarFail",function(){return _n}),t.d(l,"AllianceEventActions",function(){return xn});var i,a=t("CcnG"),o=t("eUd/"),r=t("jYNz"),u=t("6blF"),s=t("67Y/"),c=t("/PH2");!function(e){e.Update="[Player] Update",e.SetSidenav="[Player] Set Sidenav",e.Restart="[Player] Restart",e.ViewProfile="[Player] View Profile",e.LoadProfile="[Player] Load Profile",e.LoadProfileSuccess="[Player] Load Profile Success",e.LoadProfileFail="[Player] Load Profile Fail",e.UpdateProfile="[Player] Update Profile",e.UpdateProfileSuccess="[Player] Update Profile Success",e.UpdateProfileFail="[Player] Update Profile Fail",e.RemoveAvatar="[Player] Remove Avatar",e.RemoveAvatarSuccess="[Player] Remove Avatar Success",e.RemoveAvatarFail="[Player] Remove Avatar Fail",e.ProgressTutorial="[Player] Progress Tutorial",e.ProgressTutorialSuccess="[Player] Progress Tutorial Success",e.ProgressTutorialFail="[Player] Progress Tutorial Fail"}(i||(i={}));var d=[i.LoadProfileSuccess,i.UpdateProfileSuccess,i.RemoveAvatarSuccess],p=[i.LoadProfileFail,i.UpdateProfileFail,i.RemoveAvatarFail],f=function(){return function(e){this.payload=e,this.type=i.Update}}(),m=function(){return function(e){this.payload=e,this.type=i.SetSidenav}}(),h=function(){return function(){this.type=i.Restart}}(),g=function(){return function(e){this.payload=e,this.type=i.ViewProfile}}(),v=(function(){}(),function(){return function(e){this.payload=e,this.type=i.LoadProfileSuccess}}()),b=function(){return function(e){this.payload=e,this.type=i.LoadProfileFail}}(),y=function(){return function(e){this.payload=e,this.type=i.UpdateProfile}}(),w=function(){return function(e){this.payload=e,this.type=i.UpdateProfileSuccess}}(),_=function(){return function(e){this.payload=e,this.type=i.UpdateProfileFail}}(),x=function(){return function(){this.type=i.RemoveAvatar}}(),C=function(){return function(e){this.payload=e,this.type=i.RemoveAvatarSuccess}}(),k=(function(){}(),function(){return function(){this.type=i.ProgressTutorial}}()),R=function(){return function(){this.type=i.ProgressTutorialSuccess}}(),S=function(){return function(e){this.payload=e,this.type=i.ProgressTutorialFail}}(),I=t("SGZX"),O=t("yGQT"),P=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},T={inProgress:!1,activeTown:null,currentPlayer:null,sidenavs:{left:null,right:null},players:{},viewedProfile:null};function D(e,n){switch(void 0===e&&(e=T),n.type){case i.Update:var t=n.payload.id;return P({},e,{inProgress:!1,currentPlayer:t,players:(o={},o[t]=n.payload,o)});case i.SetSidenav:var l=P({},e.sidenavs);return n.payload.forEach(function(e){var n=e.side,t=e.name;return l[n]=t}),P({},e,{sidenavs:l});case i.ViewProfile:return P({},e,{viewedProfile:n.payload});case i.LoadProfile:case i.UpdateProfile:case i.RemoveAvatar:return P({},e,{error:null,inProgress:!0});case i.UpdateProfileSuccess:case i.RemoveAvatarSuccess:return P({},e,{inProgress:!1,players:P({},e.players,(r={},r[e.currentPlayer]=P({},e.players[e.currentPlayer],n.payload),r))});case i.LoadProfileSuccess:return P({},e,{players:P({},e.players,(u={},u[n.payload.id]=n.payload,u)),inProgress:!1});case i.ProgressTutorial:var a=e.players[e.currentPlayer];return P({},e,{player:P({},e.players,(s={},s[e.currentPlayer]=P({},a,{tutorialStage:a.tutorialStage+1||1}),s))});default:return e}var o,r,u,s}var A,E,j,F=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},M={inProgress:!0,activeTown:null,playerTowns:{},ids:[]},N={build:{inProgress:!1,error:null},name:{inProgress:!1,error:null},movement:{inProgress:!1,error:null},recruit:{inProgress:!1,error:null},support:{inProgress:!1,error:null}};function L(e,n){switch(void 0===e&&(e=M),n.type){case"[Town] Set Player Towns":var t=n.payload.reduce(function(e,n){return e.ids.push(n.id),e.playerTowns[n.id]=F({},n,{_actionState:N}),e},{playerTowns:{},ids:[]}),l=t.playerTowns,i=t.ids;return F({},e,{playerTowns:l,ids:i,inProgress:!1});case"[Town] Update":var a=e.playerTowns[n.payload.id];return F({},e,{playerTowns:F({},e.playerTowns,(d={},d[n.payload.id]=F({},a,n.payload),d))});case"[Town] Set Active Town":return F({},e,{activeTown:n.payload});case"[Town] Rename":case"[Town] Recruit":case"[Town] Build":case"[Town] Recall Support":case"[Town] Send Back Support":var o=e.playerTowns[e.activeTown],r=A[n.type];return F({},e,{playerTowns:F({},e.playerTowns,(p={},p[e.activeTown]=F({},o,{_actionState:F({},o._actionState,(f={},f[r]={inProgress:!0,error:null},f))}),p))});case"[Town] Rename Fail":case"[Town] Recruit Fail":case"[Town] Build Fail":case"[Town] Move Troops Fail":case"[Town] Recall Support Fail":case"[Town] Send Back Support Fail":o=e.playerTowns[e.activeTown];var u=j[n.type];return F({},e,{playerTowns:F({},e.playerTowns,(m={},m[e.activeTown]=F({},o,{_actionState:F({},o._actionState,(h={},h[u]={inProgress:!1,error:n.payload},h))}),m))});case"[Town] Rename Success":o=e.playerTowns[e.activeTown];return F({},e,{playerTowns:F({},e.playerTowns,(g={},g[e.activeTown]=F({},o,{name:n.payload,_actionState:F({},o._actionState,{name:{inProgress:!1,error:null}})}),g))});case"[Town] Recruit Success":case"[Town] Build Success":case"[Town] Move Troops Success":r=E[n.type],o=n.payload;return F({},e,{playerTowns:F({},e.playerTowns,(v={},v[e.activeTown]=F({},o,{_actionState:F({},e.playerTowns[o.id]._actionState,(b={},b[r]={inProgress:!1,error:null},b))}),v))});case"[Town] Send Back Support Success":o=e.playerTowns[e.activeTown];var s=F({},o,{targetSupport:o.targetSupport.filter(function(e){return e.id!==n.payload}),_actionState:F({},e.playerTowns[e.activeTown]._actionState,{support:{inProgress:!1,error:null}})});return F({},e,{playerTowns:F({},e.playerTowns,(y={},y[e.activeTown]=s,y))});case"[Town] Recall Support Success":var c=(o=e.playerTowns[e.activeTown]).targetMovements.concat([n.payload.movement]).sort(function(e,n){return+e.endsAt-+n.endsAt});s=F({},o,{targetSupport:o.targetSupport.filter(function(e){return e.id!==n.payload.support}),targetMovements:c,_actionState:F({},e.playerTowns[e.activeTown]._actionState,{support:{inProgress:!1,error:null}})});return F({},e,{playerTowns:F({},e.playerTowns,(w={},w[e.activeTown]=s,w))});case"[Town] Support Sent Back":c=(a=e.playerTowns[n.payload.movement.targetTown.id]).targetMovements.concat([n.payload.movement]).sort(function(e,n){return+e.endsAt-+n.endsAt}),s=F({},a,{originSupport:a.originSupport.filter(function(e){return e.id!==n.payload.support}),targetMovements:c});return F({},e,{playerTowns:F({},e.playerTowns,(_={},_[e.activeTown]=s,_))});case"[Town] Support Recalled":a=e.playerTowns[n.payload.town],s=F({},a,{targetSupport:a.targetSupport.filter(function(e){return e.id!==n.payload.support})});return F({},e,{playerTowns:F({},e.playerTowns,(x={},x[e.activeTown]=s,x))});case"[Town] Incoming Movement":a=e.playerTowns[n.payload.targetTown.id],s=F({},a,{targetMovements:a.targetMovements.concat([n.payload]).sort(function(e,n){return+e.endsAt-+n.endsAt})});return F({},e,{playerTowns:F({},e.playerTowns,(C={},C[e.activeTown]=s,C))});default:return e}var d,p,f,m,h,g,v,b,y,w,_,x,C}!function(e){e["[Town] Rename"]="name",e["[Town] Build"]="build",e["[Town] Recruit"]="recruit",e["[Town] Move troops"]="movement",e["[Town] Recall Support"]="support",e["[Town] Send Back Support"]="support"}(A||(A={})),function(e){e["[Town] Rename Success"]="name",e["[Town] Build Success"]="build",e["[Town] Recruit Success"]="recruit",e["[Town] Move Troops Success"]="movement",e["[Town] Recall Support Success"]="support",e["[Town] Send Back Support Success"]="support"}(E||(E={})),function(e){e["[Town] Rename Fail"]="name",e["[Town] Build Fail"]="build",e["[Town] Recruit Fail"]="recruit",e["[Town] Move Troops Fail"]="movement",e["[Town] Recall Support Fail"]="support",e["[Town] Send Back Support Fail"]="support"}(j||(j={}));var $,z=t("RjY/");!function(e){e.SetData="[Alliance] Set Data",e.Create="[Alliance] Create",e.CreateSuccess="[Alliance] Create Success",e.CreateFail="[Alliance] Create Fail",e.Destroy="[Alliance] Destroy",e.DestroySuccess="[Alliance] Destroy Success",e.DestroyFail="[Alliance] Destroy Fail",e.LeaveAlliance="[Alliance] Leave Alliance",e.LeaveAllianceSuccess="[Alliance] Leave Alliance Success",e.LeaveAllianceFail="[Alliance] Leave Alliance Fail",e.EventInvitation="[Alliance][Event] Invitation",e.EventMembership="[Alliance][Event] Membership",e.EventRoles="[Alliance][Event] Roles",e.EventDiplomacy="[Alliance][Event] Diplomacy",e.EventProfile="[Alliance][Event] Profile",e.CreateInvite="[Alliance][Management] Create Invite",e.CreateInviteSuccess="[Alliance][Management] Create Invite Success",e.CreateInviteFail="[Alliance][Management] Create Invite Fail",e.CancelInvite="[Alliance][Management] Cancel Invite",e.CancelInviteSuccess="[Alliance][Management] Cancel Invite Success",e.CancelInviteFail="[Alliance][Management] Cancel Invite Fail",e.AcceptInvite="[Alliance][Management] Accept Invite",e.AcceptInviteSuccess="[Alliance][Management] Accept Invite Success",e.AcceptInviteFail="[Alliance][Management] Accept Invite Fail",e.RejectInvite="[Alliance][Management] Reject Invite",e.RejectInviteSuccess="[Alliance][Management] Reject Invite Success",e.RejectInviteFail="[Alliance][Management] Reject Invite Fail",e.UpdateRolePermissions="[Alliance][Management] Update Role Permissions",e.UpdateRolePermissionsSuccess="[Alliance][Management] Update Role Permissions Success",e.UpdateRolePermissionsFail="[Alliance][Management] Update Role Permissions Fail",e.UpdateMemberRole="[Alliance][Management] Update Member Role",e.UpdateMemberRoleSuccess="[Alliance][Management] Update Member Role Success",e.UpdateMemberRoleFail="[Alliance][Management] Update Member Role Fail",e.RemoveRole="[Alliance][Management] Remove Role",e.RemoveRoleSuccess="[Alliance][Management] Remove Role Success",e.RemoveRoleFail="[Alliance][Management] Remove Role Fail",e.RemoveMember="[Alliance][Management] Remove Member",e.RemoveMemberSuccess="[Alliance][Management] Remove Member Success",e.RemoveMemberFail="[Alliance][Management] Remove Member Fail",e.ProposeAlliance="[Alliance][Management] Propose Alliance",e.ProposeAllianceSuccess="[Alliance][Management] Propose Alliance Success",e.ProposeAllianceFail="[Alliance][Management] Propose Alliance Fail",e.RejectAlliance="[Alliance][Management] Reject Alliance",e.RejectAllianceSuccess="[Alliance][Management] Reject Alliance Success",e.RejectAllianceFail="[Alliance][Management] Reject Alliance Fail",e.CancelAlliance="[Alliance][Management] Cancel Alliance",e.CancelAllianceSuccess="[Alliance][Management] Cancel Alliance Success",e.CancelAllianceFail="[Alliance][Management] Cancel Alliance Fail",e.AcceptAlliance="[Alliance][Management] Accept Alliance",e.AcceptAllianceSuccess="[Alliance][Management] Accept Alliance Success",e.AcceptAllianceFail="[Alliance][Management] Accept Alliance Fail",e.EndAlliance="[Alliance][Management] End Alliance",e.EndAllianceSuccess="[Alliance][Management] End Alliance Success",e.EndAllianceFail="[Alliance][Management] End Alliance Fail",e.ProposeNap="[Alliance][Management] Propose Nap",e.ProposeNapSuccess="[Alliance][Management] Propose Nap Success",e.ProposeNapFail="[Alliance][Management] Propose Nap Fail",e.RejectNap="[Alliance][Management] Reject Nap",e.RejectNapSuccess="[Alliance][Management] Reject Nap Success",e.RejectNapFail="[Alliance][Management] Reject Nap Fail",e.CancelNap="[Alliance][Management] Cancel Nap",e.CancelNapSuccess="[Alliance][Management] Cancel Nap Success",e.CancelNapFail="[Alliance][Management] Cancel Nap Fail",e.AcceptNap="[Alliance][Management] Accept Nap",e.AcceptNapSuccess="[Alliance][Management] Accept Nap Success",e.AcceptNapFail="[Alliance][Management] Accept Nap Fail",e.EndNap="[Alliance][Management] End Nap",e.EndNapSuccess="[Alliance][Management] End Nap Success",e.EndNapFail="[Alliance][Management] End Nap Fail",e.DeclareWar="[Alliance][Management] Declare War",e.DeclareWarSuccess="[Alliance][Management] Declare War Success",e.DeclareWarFail="[Alliance][Management] Declare War Fail",e.ViewProfile="[Alliance] View Profile",e.LoadProfile="[Alliance] Load Profile",e.LoadProfileSuccess="[Alliance] Load Profile Success",e.LoadProfileFail="[Alliance] Load Profile Fail",e.UpdateProfile="[Alliance][Management] Update Profile",e.UpdateProfileSuccess="[Alliance][Management] Update Profile Success",e.UpdateProfileFail="[Alliance][Management] Update Profile Fail",e.RemoveAvatar="[Alliance][Management] Remove Avatar",e.RemoveAvatarSuccess="[Alliance][Management] Remove Avatar Success",e.RemoveAvatarFail="[Alliance][Management] Remove Avatar Fail",e.Invited="[Alliance][Affected] Invited",e.InviteCanceled="[Alliance][Affected] Invite Canceled",e.Removed="[Alliance][Affected] Removed",e.UpdateSelfRole="[Alliance][Affected] Update Self Role"}($||($={}));var V=[$.CreateSuccess,$.CreateInviteSuccess,$.CancelInviteSuccess,$.AcceptInviteSuccess,$.RejectInviteSuccess,$.UpdateRolePermissionsSuccess,$.UpdateMemberRoleSuccess,$.RemoveRoleSuccess,$.RemoveMemberSuccess,$.ProposeAllianceSuccess,$.RejectAllianceSuccess,$.CancelAllianceSuccess,$.AcceptAllianceSuccess,$.EndAllianceSuccess,$.ProposeNapSuccess,$.RejectNapSuccess,$.CancelNapSuccess,$.AcceptNapSuccess,$.EndNapSuccess,$.DeclareWarSuccess,$.UpdateProfileSuccess,$.RemoveAvatarSuccess,$.LoadProfileSuccess],q=[$.CreateFail,$.CreateInviteFail,$.CancelInviteFail,$.RemoveMemberFail,$.UpdateRolePermissionsFail,$.RemoveRoleFail,$.UpdateMemberRoleFail,$.RejectInviteFail,$.LeaveAllianceFail,$.DestroyFail,$.ProposeAllianceFail,$.ProposeNapFail,$.CancelAllianceFail,$.CancelNapFail,$.RejectAllianceFail,$.RejectNapFail,$.AcceptAllianceFail,$.AcceptNapFail,$.EndAllianceFail,$.EndNapFail,$.DeclareWarFail,$.LoadProfileFail,$.UpdateProfileFail,$.RemoveAvatarFail],U=function(){return function(e){this.payload=e,this.type=$.SetData}}(),B=function(){return function(e){this.payload=e,this.type=$.Create}}(),H=function(){return function(e){this.payload=e,this.type=$.CreateSuccess}}(),W=function(){return function(e){this.payload=e,this.type=$.CreateFail}}(),Z=function(){return function(){this.type=$.Destroy}}(),X=function(){return function(){this.type=$.DestroySuccess}}(),G=function(){return function(e){this.payload=e,this.type=$.DestroyFail}}(),Y=function(){return function(){this.type=$.LeaveAlliance}}(),Q=function(){return function(){this.type=$.LeaveAllianceSuccess}}(),K=function(){return function(e){this.payload=e,this.type=$.LeaveAllianceFail}}(),J=function(){return function(e){this.payload=e,this.type=$.EventInvitation}}(),ee=function(){return function(e){this.payload=e,this.type=$.EventMembership}}(),ne=function(){return function(e){this.payload=e,this.type=$.EventRoles}}(),te=function(){return function(e){this.payload=e,this.type=$.EventDiplomacy}}(),le=function(){return function(e){this.payload=e,this.type=$.EventProfile}}(),ie=function(){return function(e){this.payload=e,this.type=$.CreateInvite}}(),ae=function(){return function(e){this.payload=e,this.type=$.CreateInviteSuccess}}(),oe=function(){return function(e){this.payload=e,this.type=$.CreateInviteFail}}(),re=function(){return function(e){this.payload=e,this.type=$.CancelInvite}}(),ue=function(){return function(e){this.payload=e,this.type=$.CancelInviteSuccess}}(),se=function(){return function(e){this.payload=e,this.type=$.CancelInviteFail}}(),ce=function(){return function(e){this.payload=e,this.type=$.AcceptInvite}}(),de=function(){return function(e){this.payload=e,this.type=$.AcceptInviteSuccess}}(),pe=function(){return function(e){this.payload=e,this.type=$.AcceptInviteFail}}(),fe=function(){return function(e){this.payload=e,this.type=$.RejectInvite}}(),me=function(){return function(e){this.payload=e,this.type=$.RejectInviteSuccess}}(),he=function(){return function(e){this.payload=e,this.type=$.RejectInviteFail}}(),ge=function(){return function(e){this.payload=e,this.type=$.UpdateRolePermissions}}(),ve=function(){return function(e){this.payload=e,this.type=$.UpdateRolePermissionsSuccess}}(),be=function(){return function(e){this.payload=e,this.type=$.UpdateRolePermissionsFail}}(),ye=function(){return function(e){this.payload=e,this.type=$.UpdateMemberRole}}(),we=function(){return function(e){this.payload=e,this.type=$.UpdateMemberRoleSuccess}}(),_e=function(){return function(e){this.payload=e,this.type=$.UpdateMemberRoleFail}}(),xe=function(){return function(e){this.payload=e,this.type=$.RemoveRole}}(),Ce=function(){return function(e){this.payload=e,this.type=$.RemoveRoleSuccess}}(),ke=function(){return function(e){this.payload=e,this.type=$.RemoveRoleFail}}(),Re=function(){return function(e){this.payload=e,this.type=$.RemoveMember}}(),Se=function(){return function(e){this.payload=e,this.type=$.RemoveMemberSuccess}}(),Ie=function(){return function(e){this.payload=e,this.type=$.RemoveMemberFail}}(),Oe=function(){return function(e){this.payload=e,this.type=$.Invited}}(),Pe=function(){return function(e){this.payload=e,this.type=$.InviteCanceled}}(),Te=function(){return function(){this.type=$.Removed}}(),De=function(){return function(e){this.payload=e,this.type=$.UpdateSelfRole}}(),Ae=function(){return function(e){this.payload=e,this.type=$.ProposeAlliance}}(),Ee=function(){return function(e){this.payload=e,this.type=$.ProposeAllianceSuccess}}(),je=function(){return function(e){this.payload=e,this.type=$.ProposeAllianceFail}}(),Fe=function(){return function(e){this.payload=e,this.type=$.RejectAlliance}}(),Me=function(){return function(e){this.payload=e,this.type=$.RejectAllianceSuccess}}(),Ne=function(){return function(e){this.payload=e,this.type=$.RejectAllianceFail}}(),Le=function(){return function(e){this.payload=e,this.type=$.AcceptAlliance}}(),$e=function(){return function(e){this.payload=e,this.type=$.AcceptAllianceSuccess}}(),ze=function(){return function(e){this.payload=e,this.type=$.AcceptAllianceFail}}(),Ve=function(){return function(e){this.payload=e,this.type=$.EndAlliance}}(),qe=function(){return function(e){this.payload=e,this.type=$.EndAllianceSuccess}}(),Ue=function(){return function(e){this.payload=e,this.type=$.EndAllianceFail}}(),Be=function(){return function(e){this.payload=e,this.type=$.CancelAlliance}}(),He=function(){return function(e){this.payload=e,this.type=$.CancelAllianceSuccess}}(),We=function(){return function(e){this.payload=e,this.type=$.CancelAllianceFail}}(),Ze=function(){return function(e){this.payload=e,this.type=$.ProposeNap}}(),Xe=function(){return function(e){this.payload=e,this.type=$.ProposeNapSuccess}}(),Ge=function(){return function(e){this.payload=e,this.type=$.ProposeNapFail}}(),Ye=function(){return function(e){this.payload=e,this.type=$.RejectNap}}(),Qe=function(){return function(e){this.payload=e,this.type=$.RejectNapSuccess}}(),Ke=function(){return function(e){this.payload=e,this.type=$.RejectNapFail}}(),Je=function(){return function(e){this.payload=e,this.type=$.CancelNap}}(),en=function(){return function(e){this.payload=e,this.type=$.CancelNapSuccess}}(),nn=function(){return function(e){this.payload=e,this.type=$.CancelNapFail}}(),tn=function(){return function(e){this.payload=e,this.type=$.AcceptNap}}(),ln=function(){return function(e){this.payload=e,this.type=$.AcceptNapSuccess}}(),an=function(){return function(e){this.payload=e,this.type=$.AcceptNapFail}}(),on=function(){return function(e){this.payload=e,this.type=$.EndNap}}(),rn=function(){return function(e){this.payload=e,this.type=$.EndNapSuccess}}(),un=function(){return function(e){this.payload=e,this.type=$.EndNapFail}}(),sn=function(){return function(e){this.payload=e,this.type=$.DeclareWar}}(),cn=function(){return function(e){this.payload=e,this.type=$.DeclareWarSuccess}}(),dn=function(){return function(e){this.payload=e,this.type=$.DeclareWarFail}}(),pn=function(){return function(e){this.payload=e,this.type=$.ViewProfile}}(),fn=function(){return function(e){this.payload=e,this.type=$.LoadProfile}}(),mn=function(){return function(e){this.payload=e,this.type=$.LoadProfileSuccess}}(),hn=function(){return function(e){this.payload=e,this.type=$.LoadProfileFail}}(),gn=function(){return function(e){this.payload=e,this.type=$.UpdateProfile}}(),vn=function(){return function(e){this.payload=e,this.type=$.UpdateProfileSuccess}}(),bn=function(){return function(e){this.payload=e,this.type=$.UpdateProfileFail}}(),yn=function(){return function(){this.type=$.RemoveAvatar}}(),wn=function(){return function(e){this.payload=e,this.type=$.RemoveAvatarSuccess}}(),_n=function(){return function(e){this.payload=e,this.type=$.RemoveAvatarFail}}(),xn=["EventDiplomacy","EventInvitation","EventMembership","EventRoles","EventManagement","EventProfile"],Cn=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},kn={playerAlliance:null,alliances:{},role:null,invitations:[],inProgress:!1,viewedProfile:null,error:null};function Rn(e,n){switch(void 0===e&&(e=kn),n.type){case $.SetData:var t=n.payload.allianceId?((o={})[n.payload.allianceId]=n.payload.alliance,o):{},l=Cn({},e.alliances,t);return Cn({},e,{alliances:l,playerAlliance:n.payload.allianceId,invitations:n.payload.invitations,role:n.payload.allianceRole});case $.CreateSuccess:l=Cn({},e.alliances,((r={})[n.payload.id]=n.payload,r));return Cn({},e,{alliances:l,playerAlliance:n.payload.id,role:n.payload.masterRole});case $.Removed:case $.LeaveAllianceSuccess:return Cn({},e,{playerAlliance:null,role:null});case $.DestroySuccess:l=Cn({},e.alliances,((u={})[e.playerAlliance]=null,u));return Cn({},e,l,{role:null,playerAlliance:null});case $.Invited:return Cn({},e,{invitations:e.invitations.concat([n.payload])});case $.RejectInviteSuccess:case $.InviteCanceled:return Cn({},e,{invitations:e.invitations.filter(function(e){return e.id!==n.payload})});case $.AcceptInviteSuccess:l=Cn({},e.alliances,((s={})[n.payload.id]=n.payload,s));var i=n.payload.defaultRole,a=e.invitations.filter(function(e){return e.id!==n.payload.id});return Cn({},e,{alliances:l,role:i,invitations:a,playerAlliance:n.payload.id});case $.CreateInviteSuccess:case $.CancelInviteSuccess:return On(n.payload,e,{inProgress:!1});case $.EventInvitation:return On(n.payload,e);case $.RemoveMemberSuccess:return In(n.payload,e,{inProgress:!1});case $.EventMembership:return In(n.payload,e);case $.EventRoles:return Pn(n.payload,e);case $.UpdateSelfRole:return Cn({},e,{role:n.payload});case $.UpdateRolePermissionsSuccess:case $.RemoveRoleSuccess:case $.UpdateMemberRoleSuccess:return Pn(n.payload,e,{inProgress:!1});case $.EventDiplomacy:return Tn(n.payload,e);case $.UpdateProfileSuccess:case $.RemoveAvatarSuccess:return Dn(n.payload,e,{inProgress:!1});case $.EventProfile:return Dn(n.payload,e);case $.ProposeAllianceSuccess:case $.ProposeNapSuccess:case $.CancelAllianceSuccess:case $.CancelNapSuccess:case $.RejectAllianceSuccess:case $.RejectNapSuccess:case $.AcceptAllianceSuccess:case $.AcceptNapSuccess:case $.EndAllianceSuccess:case $.EndNapSuccess:case $.DeclareWarSuccess:return Tn(n.payload,e,{inProgress:!1});case $.UpdateRolePermissions:case $.RemoveRole:case $.UpdateMemberRole:case $.CancelInvite:case $.CreateInvite:case $.ProposeAlliance:case $.ProposeNap:case $.CancelAlliance:case $.CancelNap:case $.RejectAlliance:case $.RejectNap:case $.AcceptAlliance:case $.AcceptNap:case $.EndAlliance:case $.EndNap:case $.DeclareWar:case $.UpdateProfile:case $.RemoveAvatar:return Cn({},e,{error:null,inProgress:!0});case $.CreateFail:case $.CreateInviteFail:case $.CancelInviteFail:case $.RemoveMemberFail:case $.UpdateRolePermissionsFail:case $.RemoveRoleFail:case $.UpdateMemberRoleFail:case $.RejectInviteFail:case $.LeaveAllianceFail:case $.DestroyFail:case $.ProposeAllianceFail:case $.ProposeNapFail:case $.CancelAllianceFail:case $.CancelNapFail:case $.RejectAllianceFail:case $.RejectNapFail:case $.AcceptAllianceFail:case $.AcceptNapFail:case $.EndAllianceFail:case $.EndNapFail:case $.DeclareWarFail:case $.LoadProfileFail:case $.UpdateProfileFail:case $.RemoveAvatarFail:return Cn({},e,{error:n.payload,inProgress:!1});case $.ViewProfile:return Cn({},e,{viewedProfile:n.payload});case $.LoadProfile:return Cn({},e,{error:null,inProgress:!0});case $.LoadProfileSuccess:return Cn({},e,{alliances:Cn({},e.alliances,(c={},c[n.payload.id]=n.payload,c)),inProgress:!1});default:return e}var o,r,u,s,c}var Sn,In=function(e,n,t){void 0===t&&(t={});var l,i=e.event.status===z.EventStatus.join,a=n.alliances[n.playerAlliance];return Cn({},n,{alliances:Cn({},n.alliances,(l={},l[n.playerAlliance]=Cn({},a,{events:[e.event].concat(a.events),invitations:i?a.invitations.filter(function(n){return n.id!==e.data.id}):a.invitations,members:i?[e.data].concat(a.members):a.members.filter(function(n){return n.id!==e.data})}),l))})},On=function(e,n,t){void 0===t&&(t={});var l,i=e.event.status===z.EventStatus.create,a=n.alliances[n.playerAlliance];return Cn({},n,{alliances:Cn({},n.alliances,(l={},l[n.playerAlliance]=Cn({},a,{events:[e.event].concat(a.events),invitations:i?[e.data].concat(a.invitations):a.invitations.filter(function(n){return n.id!==e.data})}),l))},t)},Pn=function(e,n,t){void 0===t&&(t={});var l,i=e.data,a=i.created,o=i.updated,r=i.removed,u=i.updatedMember,s=n.alliances[n.playerAlliance],c=s.members.slice(),d=s.roles.slice(),p=s.defaultRole,f=n.role;return o&&o.forEach(function(e){var n=d.findIndex(function(n){return n.id===e.id});d[n]=e,e.id===s.defaultRoleId&&(p=e),f.id===e.id&&(f=e),c=c.map(function(n){return n.allianceRole.id===e.id?Cn({},n,{allianceRole:e}):n})}),r&&(d=d.filter(function(e){var n=e.id;return!r.includes(n)}),r.includes(f.id)&&(f=p),c=c.map(function(e){return r.includes(e.allianceRole.id)?Cn({},e,{allianceRole:p}):e})),a&&d.push.apply(d,a),u&&u.forEach(function(e){var n=e.id,t=e.role,l=c.findIndex(function(e){return e.id===n});c[l].allianceRole=t}),Cn({},n,{role:f,alliances:Cn({},n.alliances,(l={},l[n.playerAlliance]=Cn({},s,{members:c,roles:d,defaultRole:p,events:[e.event].concat(s.events)}),l))})},Tn=function(e,n,t){void 0===t&&(t={});var l,i={},a=n.alliances[n.playerAlliance],o="number"!=typeof e.data;if(o||e.event.status!==z.EventStatus.startAlliance&&e.event.status!==z.EventStatus.startNap)if(o){var r=e.data.targetAllianceId===n.playerAlliance?"diplomacyTarget":"diplomacyOrigin";i[r]=[e.data].concat(a[r])}else i={diplomacyTarget:a.diplomacyTarget.filter(function(n){return n.id!==e.data}),diplomacyOrigin:a.diplomacyOrigin.filter(function(n){return n.id!==e.data})};else((i={diplomacyTarget:a.diplomacyTarget.slice(),diplomacyOrigin:a.diplomacyOrigin.slice()}).diplomacyTarget.find(function(n){return n.id===e.data})||i.diplomacyOrigin.find(function(n){return n.id===e.data})).status=z.DiplomacyStatus.ongoing;return Cn({},n,{alliances:Cn({},n.alliances,(l={},l[n.playerAlliance]=Cn({},a,i,{events:[e.event].concat(a.events)}),l))})},Dn=function(e,n,t){void 0===t&&(t={});var l,i=n.alliances[n.playerAlliance];return Cn({},n,{alliances:Cn({},n.alliances,(l={},l[n.playerAlliance]=Cn({},i,e.data,{events:[e.event].concat(i.events)}),l))})};!function(e){e.Update="[Chat] UPDATE",e.PostMessage="[Chat] Post Message",e.PostMessageSuccess="[Chat] Post Message Success",e.AddMessage="[Chat] Add Message"}(Sn||(Sn={}));var An=function(){return function(e){this.payload=e,this.type=Sn.Update}}(),En=function(){return function(e){this.payload=e,this.type=Sn.PostMessage}}(),jn=function(){return function(e){this.payload=e,this.type=Sn.PostMessageSuccess}}(),Fn=function(){return function(e){this.payload=e,this.type=Sn.AddMessage}}(),Mn=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Nn={messages:[]};function Ln(e,n){switch(void 0===e&&(e=Nn),n.type){case $.LeaveAllianceSuccess:case $.DestroySuccess:return Nn;case Sn.Update:return Mn({},e,{messages:n.payload});case Sn.AddMessage:return Mn({},e,{messages:e.messages.concat([n.payload])});case Sn.PostMessage:return Mn({},e);case Sn.PostMessageSuccess:return Mn({},e,{messages:e.messages.concat([n.payload])});default:return e}}var $n;!function(e){e.LoadMap="[Map] LoadMap",e.Update="[Map] Update"}($n||($n={}));var zn=function(){return function(){this.type=$n.LoadMap}}(),Vn=function(){return function(e){this.payload=e,this.type=$n.Update}}(),qn=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Un={inProgress:!1,activeTown:null,mapData:null};function Bn(e,n){switch(void 0===e&&(e=Un),n.type){case $n.Update:return qn({},e,{mapData:n.payload});default:return e}}var Hn,Wn=t("AytR");!function(e){e.Load="[Rankings] Load",e.LoadSuccess="[Rankings] LoadSuccess",e.LoadFail="[Rankings] LoadFail",e.LoadStagnated="[Rankings] LoadStagnated",e.CheckForUpdate="[Rankings] CheckForUpdate"}(Hn||(Hn={}));var Zn=function(){return function(e){this.payload=e,this.type=Hn.Load}}(),Xn=function(){return function(e){this.payload=e,this.type=Hn.LoadSuccess}}(),Gn=function(){return function(e){this.payload=e,this.type=Hn.LoadFail}}(),Yn=function(){return function(){this.type=Hn.LoadStagnated}}(),Qn=function(){return function(){this.type=Hn.CheckForUpdate}}(),Kn=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Jn={inProgress:!1,lastUpdate:null,error:null,updateFrequencey:Wn.a.rankingUpdateFrequency,ids:[],entities:{},playerPosition:null};function et(e,n){switch(void 0===e&&(e=Jn),n.type){case Hn.Load:return Kn({},e,{inProgress:!0,error:null});case Hn.LoadSuccess:var t=n.payload.rankings.reduce(function(e,n){return e.ids.push(n.id),e.entities[n.id]=n,e},{ids:[],entities:{}});return Kn({},e,t,{inProgress:!1,lastUpdate:Date.now(),rankings:n.payload.rankings,playerPosition:t.ids.indexOf(n.payload.playerId)});case Hn.LoadFail:return Kn({},e,{inProgress:!1,error:n.payload});case Hn.LoadStagnated:return Kn({},e,{inProgress:!1,lastUpdate:Date.now()});case Hn.CheckForUpdate:default:return e}}var nt=Object(O.B)("game"),tt=Object(O.D)(nt,function(e){return e.town}),lt=Object(O.D)(tt,function(e){return e.playerTowns[e.activeTown]}),it=Object(O.D)(nt,function(e){return e.player}),at=Object(O.D)(it,function(e){return e.players[e.currentPlayer]}),ot=Object(O.D)(it,function(e){return{originReports:e.players[e.currentPlayer].originReports,targetReports:e.players[e.currentPlayer].targetReports}}),rt=Object(O.D)(it,function(e){return e.sidenavs}),ut=Object(O.D)(it,function(e){return e.players[e.viewedProfile]}),st=Object(O.D)(it,function(e){return e.players}),ct=(Object(O.D)(it,function(e){return e.players[e.currentPlayer].tutorialStage}),Object(O.D)(nt,function(e){return e.alliance})),dt=Object(O.D)(ct,function(e){return e.alliances[e.playerAlliance]}),pt=Object(O.D)(ct,function(e){return e.invitations}),ft=Object(O.D)(ct,function(e){return{alliance:e.alliances[e.playerAlliance],role:e.role}}),mt=Object(O.D)(ct,function(e){return e.alliances[e.viewedProfile]}),ht=Object(O.D)(ct,function(e){return e.alliances}),gt=Object(O.D)(nt,function(e){return e.chat}),vt=Object(O.D)(gt,function(e){return e.messages}),bt=Object(O.D)(nt,function(e){return e.map}),yt=Object(O.D)(bt,function(e){return e.mapData}),wt=Object(O.D)(nt,function(e){return e.rankings}),_t=Object(O.D)(wt,function(e){return e.ids.map(function(n){return e.entities[n]})}),xt=Object(O.D)(wt,function(e){return e.entities}),Ct=Object(O.D)(wt,function(e){return e.playerPosition}),kt=Object(O.D)(wt,function(e){return{lastUpdate:e.lastUpdate,updateFrequencey:e.updateFrequencey}}),Rt=(Object(O.D)(wt,function(e){return e.inProgress}),function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o}),St=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},It=function(){function e(e,n,t,l){var a=this;this.actions$=e,this.router=n,this.socketService=t,this.store=l,this.restart$=this.actions$.pipe(Object(r.d)(i.Restart),Object(s.a)(function(e){return a.socketService.sendEvent("player:restart")})),this.viewProfile$=this.actions$.pipe(Object(r.d)(i.ViewProfile),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store.select(st)),Object(s.a)(function(e){var n=e[0];return e[1][n]||a.socketService.sendEvent("player:loadProfile",n),new m([{side:"right",name:"playerProfile"}])})),this.updateProfile$=this.actions$.pipe(Object(r.d)(i.UpdateProfile),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return a.socketService.sendEvent("player:updateProfile",e)})),this.removeAvatar$=this.actions$.pipe(Object(r.d)(i.RemoveAvatar),Object(s.a)(function(){return a.socketService.sendEvent("player:removeAvatar")})),this.progressTutorial$=this.actions$.pipe(Object(r.d)(i.ProgressTutorial),Object(s.a)(function(){return a.socketService.sendEvent("player:progressTutorial")})),this.socketService.registerEvents([["player",function(e){return a.store.dispatch(new f(e))}],["player:loadProfileSuccess",function(e){return a.store.dispatch(new v(e))}],["player:loadProfileFail",function(e){return a.store.dispatch(new b(e))}],["player:updateProfileSuccess",function(e){return a.store.dispatch(new w(e))}],["player:updateProfileFail",function(e){return a.store.dispatch(new _(e))}],["player:removeAvatarSuccess",function(e){return a.store.dispatch(new C(e))}],["player:removeAvatarFail",function(e){return a.store.dispatch(new C(e))}],["player:progressTutorialSuccess",function(){return a.store.dispatch(new R)}],["player:progressTutorialFail",function(e){return a.store.dispatch(new S(e))}]])}return Rt([Object(r.b)({dispatch:!1}),St("design:type",u.a)],e.prototype,"restart$",void 0),Rt([Object(r.b)(),St("design:type",u.a)],e.prototype,"viewProfile$",void 0),Rt([Object(r.b)({dispatch:!1}),St("design:type",u.a)],e.prototype,"updateProfile$",void 0),Rt([Object(r.b)({dispatch:!1}),St("design:type",u.a)],e.prototype,"removeAvatar$",void 0),Rt([Object(r.b)({dispatch:!1}),St("design:type",u.a)],e.prototype,"progressTutorial$",void 0),e}(),Ot=t("P6uZ"),Pt=t("VnD/"),Tt=function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},Dt=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},At=function(){function e(e,n,t,a){var o=this;this.actions$=e,this.router=n,this.store=t,this.socketService=a,this.setAllianceData$$=this.actions$.pipe(Object(r.d)(i.Update),Object(Ot.a)(),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){var n=e.allianceId,t=e.alliance,l=e.invitations,i=e.allianceRole;return new U({allianceId:n,alliance:t,allianceRole:i,invitations:l})})),this.create$=this.actions$.pipe(Object(r.d)($.Create),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:create",e)})),this.createInvite$=this.actions$.pipe(Object(r.d)($.CreateInvite),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:createInvite",e)})),this.cancelInvite$=this.actions$.pipe(Object(r.d)($.CancelInvite),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:cancelInvite",e)})),this.acceptInvite$=this.actions$.pipe(Object(r.d)($.AcceptInvite),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:acceptInvite",e)})),this.rejectInvite$=this.actions$.pipe(Object(r.d)($.RejectInvite),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:rejectInvite",e)})),this.updatePlayerRole$=this.actions$.pipe(Object(r.d)($.UpdateMemberRole),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:updateMemberRole",e)})),this.updateSelfRole$=this.actions$.pipe(Object(r.d)($.EventRoles),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store.select(at)),Object(Pt.a)(function(e){var n=e[0],t=e[1];return n.data.updatedMember&&n.data.updatedMember.some(function(e){return e.id===t.id})}),Object(s.a)(function(e){var n=e[0],t=e[1];return new De(n.data.updatedMember.find(function(e){return e.id===t.id}).role)})),this.updateRolePermissions$=this.actions$.pipe(Object(r.d)($.UpdateRolePermissions),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:updateRoles",e)})),this.removeRole$=this.actions$.pipe(Object(r.d)($.RemoveRole),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:removeRole",e)})),this.removeMember$=this.actions$.pipe(Object(r.d)($.RemoveMember),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:removeMember",e)})),this.leaveAlliance$=this.actions$.pipe(Object(r.d)($.LeaveAlliance),Object(s.a)(function(){return o.socketService.sendEvent("alliance:leave")})),this.attemptDestroying$=this.actions$.pipe(Object(r.d)($.Destroy),Object(s.a)(function(){return o.socketService.sendEvent("alliance:destroy")})),this.proposeAlliance$=this.actions$.pipe(Object(r.d)($.ProposeAlliance),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:proposeAlliance",e)})),this.rejectAlliance$=this.actions$.pipe(Object(r.d)($.RejectAlliance),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:rejectAlliance",e)})),this.cancelAlliance$=this.actions$.pipe(Object(r.d)($.CancelAlliance),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:cancelAlliance",e)})),this.acceptAlliance$=this.actions$.pipe(Object(r.d)($.AcceptAlliance),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:acceptAlliance",e)})),this.endAlliance$=this.actions$.pipe(Object(r.d)($.EndAlliance),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:endAlliance",e)})),this.proposeNap$=this.actions$.pipe(Object(r.d)($.ProposeNap),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:proposeNap",e)})),this.rejectNap$=this.actions$.pipe(Object(r.d)($.RejectNap),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:rejectNap",e)})),this.cancelNap$=this.actions$.pipe(Object(r.d)($.CancelNap),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:cancelNap",e)})),this.acceptNap$=this.actions$.pipe(Object(r.d)($.AcceptNap),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:acceptNap",e)})),this.endNap$=this.actions$.pipe(Object(r.d)($.EndNap),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:endNap",e)})),this.declareWar$=this.actions$.pipe(Object(r.d)($.DeclareWar),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:declareWar",e)})),this.viewProfile$=this.actions$.pipe(Object(r.d)($.ViewProfile),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store.select(ht)),Object(s.a)(function(e){var n=e[0];return e[1][n]||o.socketService.sendEvent("alliance:loadProfile",n),new m([{side:"right",name:"allianceProfile"}])})),this.updateProfile$=this.actions$.pipe(Object(r.d)($.UpdateProfile),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return o.socketService.sendEvent("alliance:updateProfile",e)})),this.removeAvatar$=this.actions$.pipe(Object(r.d)($.RemoveAvatar),Object(s.a)(function(){return o.socketService.sendEvent("alliance:removeAvatar")})),this.socketService.registerEvents([["alliance:event",function(e){var n=new l[xn[e.event.type]](e);o.store.dispatch(n)}],["alliance:createSuccess",function(e){return o.store.dispatch(new H(e))}],["alliance:createInviteSuccess",function(e){return o.store.dispatch(new ae(e))}],["alliance:cancelInviteSuccess",function(e){return o.store.dispatch(new ue(e))}],["alliance:removeMemberSuccess",function(e){return o.store.dispatch(new Se(e))}],["alliance:updateRolePermissionsSuccess",function(e){return o.store.dispatch(new ve(e))}],["alliance:removeRoleSuccess",function(e){return o.store.dispatch(new Ce(e))}],["alliance:updateMemberRoleSuccess",function(e){return o.store.dispatch(new we(e))}],["alliance:removed",function(){return o.store.dispatch(new Te)}],["alliance:invited",function(e){return o.store.dispatch(new Oe(e))}],["alliance:inviteCanceled",function(e){return o.store.dispatch(new Pe(e))}],["alliance:rejectInviteSuccess",function(e){return o.store.dispatch(new me(e))}],["alliance:leaveAllianceSuccess",function(){return o.store.dispatch(new Q)}],["alliance:destroySuccess",function(){return o.store.dispatch(new X)}],["alliance:proposeAllianceSuccess",function(e){return o.store.dispatch(new Ee(e))}],["alliance:proposeNapSuccess",function(e){return o.store.dispatch(new Xe(e))}],["alliance:cancelAllianceSuccess",function(e){return o.store.dispatch(new He(e))}],["alliance:cancelNapSuccess",function(e){return o.store.dispatch(new en(e))}],["alliance:rejectAllianceSuccess",function(e){return o.store.dispatch(new Me(e))}],["alliance:rejectNapSuccess",function(e){return o.store.dispatch(new Qe(e))}],["alliance:acceptAllianceSuccess",function(e){return o.store.dispatch(new $e(e))}],["alliance:acceptNapSuccess",function(e){return o.store.dispatch(new ln(e))}],["alliance:endAllianceSuccess",function(e){return o.store.dispatch(new qe(e))}],["alliance:endNapSuccess",function(e){return o.store.dispatch(new rn(e))}],["alliance:declareWarSuccess",function(e){return o.store.dispatch(new cn(e))}],["alliance:acceptInviteSuccess",function(e){return o.store.dispatch(new de(e))}],["alliance:loadProfileSuccess",function(e){return o.store.dispatch(new mn(e))}],["alliance:updateProfileSuccess",function(e){return o.store.dispatch(new vn(e))}],["alliance:removeAvatarSuccess",function(e){return o.store.dispatch(new wn(e))}],["alliance:createFail",function(e){return o.store.dispatch(new W(e))}],["alliance:createInviteFail",function(e){return o.store.dispatch(new oe(e))}],["alliance:cancelInviteFail",function(e){return o.store.dispatch(new se(e))}],["alliance:removeMemberFail",function(e){return o.store.dispatch(new Ie(e))}],["alliance:updateRolePermissionsFail",function(e){return o.store.dispatch(new be(e))}],["alliance:removeRoleFail",function(e){return o.store.dispatch(new ke(e))}],["alliance:updateMemberRoleFail",function(e){return o.store.dispatch(new _e(e))}],["alliance:rejectInviteFail",function(e){return o.store.dispatch(new he(e))}],["alliance:leaveAllianceFail",function(e){return o.store.dispatch(new K(e))}],["alliance:destroyFail",function(e){return o.store.dispatch(new G(e))}],["alliance:proposeAllianceFail",function(e){return o.store.dispatch(new je(e))}],["alliance:proposeNapFail",function(e){return o.store.dispatch(new Ge(e))}],["alliance:cancelAllianceFail",function(e){return o.store.dispatch(new We(e))}],["alliance:cancelNapFail",function(e){return o.store.dispatch(new nn(e))}],["alliance:rejectAllianceFail",function(e){return o.store.dispatch(new Ne(e))}],["alliance:rejectNapFail",function(e){return o.store.dispatch(new Ke(e))}],["alliance:acceptAllianceFail",function(e){return o.store.dispatch(new ze(e))}],["alliance:acceptNapFail",function(e){return o.store.dispatch(new an(e))}],["alliance:endAllianceFail",function(e){return o.store.dispatch(new Ue(e))}],["alliance:endNapFail",function(e){return o.store.dispatch(new un(e))}],["alliance:declareWarFail",function(e){return o.store.dispatch(new dn(e))}],["alliance:acceptInviteFail",function(e){return o.store.dispatch(new pe(e))}],["alliance:loadProfileFail",function(e){return o.store.dispatch(new hn(e))}],["alliance:updateProfileFail",function(e){return o.store.dispatch(new bn(e))}],["alliance:removeAvatarFail",function(e){return o.store.dispatch(new _n(e))}]])}return Tt([Object(r.b)(),Dt("design:type",u.a)],e.prototype,"setAllianceData$$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"create$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"createInvite$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"cancelInvite$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"acceptInvite$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"rejectInvite$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"updatePlayerRole$",void 0),Tt([Object(r.b)(),Dt("design:type",u.a)],e.prototype,"updateSelfRole$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"updateRolePermissions$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"removeRole$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"removeMember$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"leaveAlliance$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"attemptDestroying$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"proposeAlliance$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"rejectAlliance$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"cancelAlliance$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"acceptAlliance$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"endAlliance$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"proposeNap$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"rejectNap$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"cancelNap$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"acceptNap$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"endNap$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"declareWar$",void 0),Tt([Object(r.b)(),Dt("design:type",u.a)],e.prototype,"viewProfile$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"updateProfile$",void 0),Tt([Object(r.b)({dispatch:!1}),Dt("design:type",u.a)],e.prototype,"removeAvatar$",void 0),e}(),Et=function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},jt=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},Ft=function(){function e(e,n,t,l){var a=this;this.actions$=e,this.router=n,this.store=t,this.socketService=l,this.postMessage$=this.actions$.pipe(Object(r.d)(Sn.PostMessage),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return a.socketService.sendEvent("chat:postMessage",e)})),this.update$=this.actions$.pipe(Object(r.d)(i.Update),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store.select(vt)),Object(Pt.a)(function(e){var n=e[0];return!e[1].length&&n.alliance&&!!n.alliance.messages.length}),Object(s.a)(function(e){var n=e[0];return new An(n.alliance.messages)})),this.socketService.registerEvents([["chat:postMessageSuccess",function(e){return a.store.dispatch(new jn(e))}],["chat:newMessage",function(e){return a.store.dispatch(new Fn(e))}]])}return Et([Object(r.b)({dispatch:!1}),jt("design:type",u.a)],e.prototype,"postMessage$",void 0),Et([Object(r.b)(),jt("design:type",u.a)],e.prototype,"update$",void 0),e}(),Mt=t("t9fZ"),Nt=["[Town] Rename Success","[Town] Build Success","[Town] Recruit Success","[Town] Move Troops Success","[Town] Recall Support Success","[Town] Send Back Support Success"],Lt=["[Town] Rename Fail","[Town] Build Fail","[Town] Recruit Fail","[Town] Move Troops Fail","[Town] Recall Support Fail","[Town] Send Back Support Fail"],$t=function(){return function(e){this.payload=e,this.type="[Town] Update"}}(),zt=function(){return function(e){this.payload=e,this.type="[Town] Rename"}}(),Vt=function(){return function(e){this.payload=e,this.type="[Town] Rename Success"}}(),qt=function(){return function(e){this.payload=e,this.type="[Town] Rename Fail"}}(),Ut=function(){return function(e){this.payload=e,this.type="[Town] Build"}}(),Bt=function(){return function(e){this.payload=e,this.type="[Town] Build Success"}}(),Ht=function(){return function(e){this.payload=e,this.type="[Town] Build Fail"}}(),Wt=function(){return function(e){this.payload=e,this.type="[Town] Recruit"}}(),Zt=function(){return function(e){this.payload=e,this.type="[Town] Recruit Success"}}(),Xt=function(){return function(e){this.payload=e,this.type="[Town] Recruit Fail"}}(),Gt=function(){return function(e){this.payload=e,this.type="[Town] Set Player Towns"}}(),Yt=function(){return function(e){this.payload=e,this.type="[Town] Set Active Town"}}(),Qt=function(){return function(e){this.payload=e,this.type="[Town] Move Troops"}}(),Kt=function(){return function(e){this.payload=e,this.type="[Town] Move Troops Success"}}(),Jt=function(){return function(e){this.payload=e,this.type="[Town] Move Troops Fail"}}(),el=function(){return function(e){this.payload=e,this.type="[Town] Recall Support"}}(),nl=function(){return function(e){this.payload=e,this.type="[Town] Recall Support Success"}}(),tl=function(){return function(e){this.payload=e,this.type="[Town] Recall Support Fail"}}(),ll=function(){return function(e){this.payload=e,this.type="[Town] Send Back Support"}}(),il=function(){return function(e){this.payload=e,this.type="[Town] Send Back Support Success"}}(),al=function(){return function(e){this.payload=e,this.type="[Town] Send Back Support Fail"}}(),ol=function(){return function(e){this.payload=e,this.type="[Town] Incoming Movement"}}(),rl=function(){return function(e){this.payload=e,this.type="[Town] Support Recalled"}}(),ul=function(){return function(e){this.payload=e,this.type="[Town] Support Sent Back"}}(),sl=t("2qkP"),cl=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},dl=function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},pl=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},fl=function(){function e(e,n,t,l){var a=this;this.actions$=e,this.router=n,this.store=t,this.socketService=l,this.setActiveTown$=this.actions$.pipe(Object(r.d)("[Town] Set Player Towns"),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store),Object(Pt.a)(function(e){var n=e[0],t=e[1];return n.length&&!t.game.town.activeTown||!n.length}),Object(s.a)(function(e){var n=e[0];e[1];return new Yt(n.length?n[0].id:null)})),this.setPlayerTowns$=this.actions$.pipe(Object(r.d)(i.Update),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return e.towns}),Object(c.a)(this.store.select(sl.a)),Object(s.a)(function(e){var n=e[0],t=e[1];return new Gt(n.map(function(e){return a.updateTown(t,e)}))})),this.changeTownName$=this.actions$.pipe(Object(r.d)("[Town] Rename"),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store.select(lt)),Object(s.a)(function(e){var n=e[0],t=e[1];return a.socketService.sendEvent("town:rename",{name:n,town:t.id})})),this.build$=this.actions$.pipe(Object(r.d)("[Town] Build"),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store.select(lt)),Object(s.a)(function(e){var n=e[0],t=n.building,l=n.level,i=e[1];return a.socketService.sendEvent("town:build",{building:t,level:l,town:i.id})})),this.recruit$=this.actions$.pipe(Object(r.d)("[Town] Recruit"),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store.select(lt)),Object(s.a)(function(e){var n=e[0],t=e[1];return a.socketService.sendEvent("town:recruit",{units:n,town:t.id})})),this.moveTroops$=this.actions$.pipe(Object(r.d)("[Town] Move Troops"),Object(s.a)(function(e){return e.payload}),Object(c.a)(this.store.select(lt)),Object(s.a)(function(e){var n=e[0],t=e[1];return a.socketService.sendEvent("town:moveTroops",cl({},n,{town:t.id}))})),this.recallSupport$=this.actions$.pipe(Object(r.d)("[Town] Recall Support"),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return a.socketService.sendEvent("town:recallSupport",e)})),this.sendBackSupport$=this.actions$.pipe(Object(r.d)("[Town] Send Back Support"),Object(s.a)(function(e){return e.payload}),Object(s.a)(function(e){return a.socketService.sendEvent("town:sendBackSupport",e)})),this.socketService.registerEvents([["town:update",function(e){return a.store.select(sl.a).pipe(Object(Mt.a)(1)).subscribe(function(n){return a.store.dispatch(new $t(a.updateTown(n,e)))})}],["town:renameSuccess",function(e){return a.store.dispatch(new Vt(e))}],["town:renameFail",function(e){return a.store.dispatch(new qt(e))}],["town:buildSuccess",function(e){return a.store.select(sl.a).pipe(Object(Mt.a)(1)).subscribe(function(n){return a.store.dispatch(new Bt(a.updateTown(n,e)))})}],["town:buildFail",function(e){return a.store.dispatch(new Ht(e))}],["town:recruitSuccess",function(e){return a.store.select(sl.a).pipe(Object(Mt.a)(1)).subscribe(function(n){return a.store.dispatch(new Zt(a.updateTown(n,e)))})}],["town:recruitFail",function(e){return a.store.dispatch(new Xt(e))}],["town:moveTroopsSuccess",function(e){return a.store.select(sl.a).pipe(Object(Mt.a)(1)).subscribe(function(n){return a.store.dispatch(new Kt(a.updateTown(n,e)))})}],["town:moveTroopsFail",function(e){return a.store.dispatch(new Jt(e))}],["town:recallSupportSuccess",function(e){return a.store.dispatch(new nl(e))}],["town:recallSupportFail",function(e){return a.store.dispatch(new tl(e))}],["town:sendBackSupportSuccess",function(e){return a.store.dispatch(new il(e))}],["town:sendBackSupportFail",function(e){return a.store.dispatch(new al(e))}],["town:incomingMovement",function(e){return a.store.dispatch(new ol(e))}],["town:supportRecalled",function(e){return a.store.dispatch(new rl(e))}],["town:supportSentBack",function(e){return a.store.dispatch(new ul(e))}]])}return e.prototype.updateTown=function(e,n){return cl({},n,{population:this.calculatePopulation(n,e.buildingMap.farm.data),storage:e.buildingMap.storage.data[n.buildings.storage.level].storage,recruitmentModifier:e.buildingMap.barracks.data[n.buildings.barracks.level].recruitment})},e.prototype.calculatePopulation=function(e,n){var t=n[e.buildings.farm.level].population,l=e.originSupport.reduce(function(e,n){var t=n.units;return e+Object.values(t).reduce(function(e,n){return e+n},0)},0),i=e.originMovements.reduce(function(e,n){var t=n.units;return e+Object.values(t).reduce(function(e,n){return e+n},0)},0),a=e.targetMovements.reduce(function(e,n){var t=n.units;return e+n.type===z.MovementType.return?Object.values(t).reduce(function(e,n){return e+n},0):0},0),o=Object.entries(e.units).reduce(function(e,n){n[0];var t=n[1];return e+t.inside+t.queued},0)+l+i+a;return{total:t,used:o,available:t-o}},dl([Object(r.b)(),pl("design:type",u.a)],e.prototype,"setActiveTown$",void 0),dl([Object(r.b)(),pl("design:type",u.a)],e.prototype,"setPlayerTowns$",void 0),dl([Object(r.b)({dispatch:!1}),pl("design:type",u.a)],e.prototype,"changeTownName$",void 0),dl([Object(r.b)({dispatch:!1}),pl("design:type",u.a)],e.prototype,"build$",void 0),dl([Object(r.b)({dispatch:!1}),pl("design:type",u.a)],e.prototype,"recruit$",void 0),dl([Object(r.b)({dispatch:!1}),pl("design:type",u.a)],e.prototype,"moveTroops$",void 0),dl([Object(r.b)({dispatch:!1}),pl("design:type",u.a)],e.prototype,"recallSupport$",void 0),dl([Object(r.b)({dispatch:!1}),pl("design:type",u.a)],e.prototype,"sendBackSupport$",void 0),e}(),ml=(t("6n4i"),function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o}),hl=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},gl=function(){function e(e,n,t){var l=this;this.actions$=e,this.store=n,this.socketService=t,this.loadMap$=this.actions$.pipe(Object(r.d)($n.LoadMap),Object(s.a)(function(){return l.socketService.sendEvent("map",{})})),this.socketService.registerEvents([["map",function(e){return l.store.dispatch(new Vn(e))}]])}return ml([Object(r.b)({dispatch:!1}),hl("design:type",Object)],e.prototype,"loadMap$",void 0),e}(),vl=function(e,n,t,l){var i,a=arguments.length,o=a<3?n:null===l?l=Object.getOwnPropertyDescriptor(n,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,l);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(o=(a<3?i(o):a>3?i(n,t,o):i(n,t))||o);return a>3&&o&&Object.defineProperty(n,t,o),o},bl=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},yl=function(){function e(e,n,t,l){var a=this;this.actions$=e,this.router=n,this.socketService=t,this.store=l,this.loadRankings$=this.actions$.pipe(Object(r.d)(Hn.Load),Object(s.a)(function(){return a.socketService.sendEvent("rankings:load")})),this.sidenavOpen$=this.actions$.pipe(Object(r.d)(i.SetSidenav),Object(Pt.a)(function(e){return e.payload.some(function(e){var n=e.name;return"rankings"===n||"alliance"===n||"allianceProfile"===n})}),Object(s.a)(function(){return new Qn})),this.checkForUpdate$=this.actions$.pipe(Object(r.d)(Hn.CheckForUpdate),Object(c.a)(this.store.select(kt)),Object(Pt.a)(function(e){return Date.now()-e[1].lastUpdate>e[1].updateFrequencey}),Object(s.a)(function(e){return new Zn(e[1].lastUpdate)})),this.socketService.registerEvents([["rankings:loadSuccess",function(e){return a.store.select(at).pipe(Object(Mt.a)(1)).subscribe(function(n){return a.store.dispatch(new Xn({rankings:e,playerId:n.id}))})}],["rankings:loadFail",function(e){return a.store.dispatch(new Gn(e))}],["rankings:loadStagnated",function(){return a.store.dispatch(new Yn)}]])}return vl([Object(r.b)({dispatch:!1}),bl("design:type",u.a)],e.prototype,"loadRankings$",void 0),vl([Object(r.b)(),bl("design:type",u.a)],e.prototype,"sidenavOpen$",void 0),vl([Object(r.b)(),bl("design:type",u.a)],e.prototype,"checkForUpdate$",void 0),e}(),wl=function(){return function(e){e.triggers="hover"}}(),_l=t("xYTU"),xl=t("ihYY"),Cl=t("mrSG"),kl=t("lLAP"),Rl=t("Fzqc"),Sl=t("n6gG"),Il=t("YSh2"),Ol=t("vGXY"),Pl=t("eDkP"),Tl=t("qAlS"),Dl=t("dWZg"),Al=t("4c35"),El=t("ny24"),jl=t("K9Ia"),Fl=t("Ip0R"),Ml=t("Wf4p"),Nl={tooltipState:Object(xl.m)("state",[Object(xl.j)("initial, void, hidden",Object(xl.k)({transform:"scale(0)"})),Object(xl.j)("visible",Object(xl.k)({transform:"scale(1)"})),Object(xl.l)("* => visible",Object(xl.e)("150ms cubic-bezier(0.0, 0.0, 0.2, 1)")),Object(xl.l)("* => hidden",Object(xl.e)("150ms cubic-bezier(0.4, 0.0, 1, 1)"))])},Ll=20;function $l(e){return Error('Tooltip position "'+e+'" is invalid.')}var zl=new a.InjectionToken("mat-tooltip-scroll-strategy");function Vl(e){return function(){return e.scrollStrategies.reposition({scrollThrottle:Ll})}}var ql={provide:zl,deps:[Pl.c],useFactory:Vl},Ul=new a.InjectionToken("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});var Bl=function(){function e(e,n,t,l,i,a,o,r,u,s,c){var d=this;this._overlay=e,this._elementRef=n,this._scrollDispatcher=t,this._viewContainerRef=l,this._ngZone=i,this._platform=a,this._ariaDescriber=o,this._focusMonitor=r,this._scrollStrategy=u,this._dir=s,this._defaultOptions=c,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new jl.a;var p=n.nativeElement;a.IOS?"INPUT"!==p.nodeName&&"TEXTAREA"!==p.nodeName||(p.style.webkitUserSelect=p.style.userSelect=""):(this._manualListeners.set("mouseenter",function(){return d.show()}),this._manualListeners.set("mouseleave",function(){return d.hide()}),this._manualListeners.forEach(function(e,t){return n.nativeElement.addEventListener(t,e)})),p.draggable&&"none"===p.style.webkitUserDrag&&(p.style.webkitUserDrag=""),r.monitor(p).pipe(Object(El.a)(this._destroyed)).subscribe(function(e){e?"keyboard"===e&&i.run(function(){return d.show()}):i.run(function(){return d.hide(0)})})}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=Object(Sl.c)(e),this._disabled&&this.hide(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},set:function(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=e?(""+e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ariaDescriber.describe(this._elementRef.nativeElement,this.message))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipClass",{get:function(){return this._tooltipClass},set:function(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){var e=this;this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._platform.IOS||(this._manualListeners.forEach(function(n,t){return e._elementRef.nativeElement.removeEventListener(t,n)}),this._manualListeners.clear()),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)},e.prototype.show=function(e){var n=this;if(void 0===e&&(e=this.showDelay),!this.disabled&&this.message){var t=this._createOverlay();this._detach(),this._portal=this._portal||new Al.d(Hl,this._viewContainerRef),this._tooltipInstance=t.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(El.a)(this._destroyed)).subscribe(function(){return n._detach()}),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}},e.prototype.hide=function(e){void 0===e&&(e=this.hideDelay),this._tooltipInstance&&this._tooltipInstance.hide(e)},e.prototype.toggle=function(){this._isTooltipVisible()?this.hide():this.show()},e.prototype._isTooltipVisible=function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()},e.prototype._handleKeydown=function(e){this._isTooltipVisible()&&e.keyCode===Il.e&&(e.stopPropagation(),this.hide(0))},e.prototype._handleTouchend=function(){this.hide(this._defaultOptions.touchendHideDelay)},e.prototype._createOverlay=function(){var e=this;if(this._overlayRef)return this._overlayRef;var n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8),t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef);return n.withScrollableContainers(t),n.positionChanges.pipe(Object(El.a)(this._destroyed)).subscribe(function(n){e._tooltipInstance&&n.scrollableViewProperties.isOverlayClipped&&e._tooltipInstance.isVisible()&&e._ngZone.run(function(){return e.hide(0)})}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(El.a)(this._destroyed)).subscribe(function(){return e._detach()}),this._overlayRef},e.prototype._detach=function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null},e.prototype._updatePosition=function(){var e=this._overlayRef.getConfig().positionStrategy,n=this._getOrigin(),t=this._getOverlayPosition();e.withPositions([Object(Cl.a)({},n.main,t.main),Object(Cl.a)({},n.fallback,t.fallback)])},e.prototype._getOrigin=function(){var e,n=!this._dir||"ltr"==this._dir.value,t=this.position;if("above"==t||"below"==t)e={originX:"center",originY:"above"==t?"top":"bottom"};else if("before"==t||"left"==t&&n||"right"==t&&!n)e={originX:"start",originY:"center"};else{if(!("after"==t||"right"==t&&n||"left"==t&&!n))throw $l(t);e={originX:"end",originY:"center"}}var l=this._invertPosition(e.originX,e.originY);return{main:e,fallback:{originX:l.x,originY:l.y}}},e.prototype._getOverlayPosition=function(){var e,n=!this._dir||"ltr"==this._dir.value,t=this.position;if("above"==t)e={overlayX:"center",overlayY:"bottom"};else if("below"==t)e={overlayX:"center",overlayY:"top"};else if("before"==t||"left"==t&&n||"right"==t&&!n)e={overlayX:"end",overlayY:"center"};else{if(!("after"==t||"right"==t&&n||"left"==t&&!n))throw $l(t);e={overlayX:"start",overlayY:"center"}}var l=this._invertPosition(e.overlayX,e.overlayY);return{main:e,fallback:{overlayX:l.x,overlayY:l.y}}},e.prototype._updateTooltipMessage=function(){var e=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(Mt.a)(1),Object(El.a)(this._destroyed)).subscribe(function(){e._tooltipInstance&&e._overlayRef.updatePosition()}))},e.prototype._setTooltipClass=function(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())},e.prototype._invertPosition=function(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}},e.decorators=[{type:a.Directive,args:[{selector:"[matTooltip]",exportAs:"matTooltip",host:{"(longpress)":"show()","(keydown)":"_handleKeydown($event)","(touchend)":"_handleTouchend()"}}]}],e.ctorParameters=function(){return[{type:Pl.c},{type:a.ElementRef},{type:Tl.c},{type:a.ViewContainerRef},{type:a.NgZone},{type:Dl.a},{type:kl.c},{type:kl.f},{type:void 0,decorators:[{type:a.Inject,args:[zl]}]},{type:Rl.b,decorators:[{type:a.Optional}]},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[Ul]}]}]},e.propDecorators={position:[{type:a.Input,args:["matTooltipPosition"]}],disabled:[{type:a.Input,args:["matTooltipDisabled"]}],showDelay:[{type:a.Input,args:["matTooltipShowDelay"]}],hideDelay:[{type:a.Input,args:["matTooltipHideDelay"]}],message:[{type:a.Input,args:["matTooltip"]}],tooltipClass:[{type:a.Input,args:["matTooltipClass"]}]},e}(),Hl=function(){function e(e,n){this._changeDetectorRef=e,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new jl.a,this._isHandset=this._breakpointObserver.observe(Ol.b.Handset)}return e.prototype.show=function(e){var n=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(function(){n._visibility="visible",n._markForCheck()},e)},e.prototype.hide=function(e){var n=this;this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(function(){n._visibility="hidden",n._markForCheck()},e)},e.prototype.afterHidden=function(){return this._onHide.asObservable()},e.prototype.isVisible=function(){return"visible"===this._visibility},e.prototype._animationStart=function(){this._closeOnInteraction=!1},e.prototype._animationDone=function(e){var n=e.toState;"hidden"!==n||this.isVisible()||this._onHide.next(),"visible"!==n&&"hidden"!==n||(this._closeOnInteraction=!0)},e.prototype._handleBodyInteraction=function(){this._closeOnInteraction&&this.hide(0)},e.prototype._markForCheck=function(){this._changeDetectorRef.markForCheck()},e.decorators=[{type:a.Component,args:[{selector:"mat-tooltip-component",template:'<div class="mat-tooltip" [ngClass]="tooltipClass" [class.mat-tooltip-handset]="(_isHandset | async)!.matches" [@state]="_visibility" (@state.start)="_animationStart()" (@state.done)="_animationDone($event)">{{message}}</div>',styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:2px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media screen and (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush,animations:[Nl.tooltipState],host:{"[style.zoom]":'_visibility === "visible" ? 1 : null',"(body:click)":"this._handleBodyInteraction()","aria-hidden":"true"}}]}],e.ctorParameters=function(){return[{type:a.ChangeDetectorRef},{type:Ol.a}]},e}(),Wl=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[kl.a,Fl.CommonModule,Pl.g,Ml.n],exports:[Bl,Hl,Ml.n],declarations:[Bl,Hl],entryComponents:[Hl],providers:[ql]}]}],e}(),Zl=t("M2Lx"),Xl=(a["\u0275cmf"](Wl,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[Yl]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,Fl.NgLocalization,Fl.NgLocaleLocalization,[a.LOCALE_ID,[2,Fl["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](4608,Zl.c,Zl.c,[]),a["\u0275mpd"](4608,Pl.c,Pl.c,[Pl.i,Pl.e,a.ComponentFactoryResolver,Pl.h,Pl.f,a.Injector,a.NgZone,Fl.DOCUMENT,Rl.b]),a["\u0275mpd"](5120,Pl.j,Pl.k,[Pl.c]),a["\u0275mpd"](5120,zl,Vl,[Pl.c]),a["\u0275mpd"](1073742336,Fl.CommonModule,Fl.CommonModule,[]),a["\u0275mpd"](1073742336,Dl.b,Dl.b,[]),a["\u0275mpd"](1073742336,Zl.d,Zl.d,[]),a["\u0275mpd"](1073742336,kl.a,kl.a,[]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Al.h,Al.h,[]),a["\u0275mpd"](1073742336,Tl.b,Tl.b,[]),a["\u0275mpd"](1073742336,Pl.g,Pl.g,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,Wl,Wl,[])])}),a["\u0275crt"]({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:2px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media screen and (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0.0, 0.0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}}));function Gl(e){return a["\u0275vid"](2,[(e()(),a["\u0275eld"](0,0,null,null,3,"div",[["class","mat-tooltip"]],[[2,"mat-tooltip-handset",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],function(e,n,t){var l=!0,i=e.component;"@state.start"===n&&(l=!1!==i._animationStart()&&l);"@state.done"===n&&(l=!1!==i._animationDone(t)&&l);return l},null,null)),a["\u0275did"](1,278528,null,0,Fl.NgClass,[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),(e()(),a["\u0275ted"](3,null,["",""]))],function(e,n){e(n,1,0,"mat-tooltip",n.component.tooltipClass)},function(e,n){var t=n.component;e(n,0,0,a["\u0275unv"](n,0,0,a["\u0275nov"](n,2).transform(t._isHandset)).matches,t._visibility),e(n,3,0,t.message)})}var Yl=a["\u0275ccf"]("mat-tooltip-component",Hl,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],function(e,n,t){var l=!0;return"body:click"===n&&(l=!1!==a["\u0275nov"](e,1)._handleBodyInteraction()&&l),l},Gl,Xl)),a["\u0275did"](1,49152,null,0,Hl,[a.ChangeDetectorRef,Ol.a],null,null)],null,function(e,n){e(n,0,0,"visible"===a["\u0275nov"](n,1)._visibility?1:null)})},{},{},[]),Ql=t("t68o"),Kl=t("pMnS"),Jl=t("4lDY"),ei=t("qcfG"),ni=t("xaNE"),ti=t("FNNE"),li=t("gW6t"),ii=t("u4HF"),ai=t("aq8m"),oi=t("fNgX"),ri=t("Hf/j"),ui=t("ZYjt"),si=function(){function e(){}return e.prototype.transform=function(e,n){var t=Math.max(Math.floor(e/1e3)%60,0),l=Math.max(Math.floor(e/1e3/60)%60,0),i={HH:("0"+Math.max(Math.floor(e/1e3/60/60),0)).slice(-2),mm:("0"+l).slice(-2),ss:("0"+t).slice(-2)};return n.replace(/(HH|mm|ss)/g,function(e){return i[e]})},e}(),ci=t("gI3B"),di=t("T1DM");function pi(e){return void 0===e&&(e=di.a),Object(s.a)(function(n){return new fi(n,e.now())})}var fi=function(){return function(e,n){this.value=e,this.timestamp=n}}(),mi=t("7O5W"),hi=t("wHSu"),gi=function(){function e(){this.typeNames=z.MovementTypeName,this.movements=[],this.outgoing=[],this.incoming=[],this.returning=[],this.unitTypes=[],mi.d.add(hi.d,hi.a)}return e.prototype.ngOnInit=function(){var e=this;this.typeNames[0];this.queue$=Object(ci.a)(0,1e3).pipe(pi(),Object(s.a)(function(n){return e.movements.map(function(e){return e.timeLeft=+e.endsAt-n.timestamp,e})}))},e.prototype.ngOnChanges=function(e){this.movements=this.town.originMovements.concat(this.town.targetMovements).sort(function(e,n){return+e.endsAt-+n.endsAt})},e}(),vi=[[""]],bi=a["\u0275crt"]({encapsulation:0,styles:vi,data:{}});function yi(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!=(e.parent.context.$implicit.isVisible=!e.parent.context.$implicit.isVisible)&&l);return l},oi.b,oi.a)),a["\u0275did"](1,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"],rotate:[1,"rotate"]},null),a["\u0275pad"](2,2)],function(e,n){e(n,1,0,e(n,2,0,"fas","caret-right"),n.parent.context.$implicit.isVisible?90:0)},function(e,n){e(n,0,0,a["\u0275nov"](n,1).renderedIconHTML)})}function wi(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.parent.parent.context.$implicit.units[n.parent.context.$implicit.name]||0)})}function _i(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["?"]))],null,null)}function xi(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[["class","col d-flex flex-row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,0,"div",[["class","unit-icon"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,wi)),a["\u0275did"](3,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,_i)),a["\u0275did"](5,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,3,0,n.parent.context.$implicit.units),e(n,5,0,!n.parent.context.$implicit.units)},function(e,n){e(n,1,0,n.context.$implicit.name)})}function Ci(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,16,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,yi)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275ted"](5,null,[" "," "])),(e()(),a["\u0275eld"](6,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275ted"](7,null,["",""])),a["\u0275ppd"](8,2),(e()(),a["\u0275eld"](9,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275ted"](10,null,[" "," "])),(e()(),a["\u0275eld"](11,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](12,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](13,2),(e()(),a["\u0275eld"](14,0,null,null,2,"div",[["class","row"]],[[8,"hidden",0]],null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,xi)),a["\u0275did"](16,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,4,0,n.context.$implicit.units),e(n,12,0,e(n,13,0,"fas","angle-double-left")),e(n,16,0,t.worldData.units)},function(e,n){var t=n.component;e(n,5,0,n.context.$implicit.originTownId),e(n,7,0,a["\u0275unv"](n,7,0,e(n,8,0,a["\u0275nov"](n.parent,0),n.context.$implicit.timeLeft,"HH:mm:ss"))),e(n,10,0,t.typeNames[n.context.$implicit.type]),e(n,11,0,a["\u0275nov"](n,12).renderedIconHTML),e(n,14,0,!n.context.$implicit.isVisible)})}function ki(e){return a["\u0275vid"](0,[a["\u0275pid"](0,si,[]),(e()(),a["\u0275eld"](1,0,null,null,5,"div",[["class","container-fluid pb-4"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Movements"])),(e()(),a["\u0275and"](16777216,null,null,2,null,Ci)),a["\u0275did"](5,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,5,0,a["\u0275unv"](n,5,0,a["\u0275nov"](n,6).transform(t.queue$)))},null)}var Ri=a["\u0275ccf"]("movement",gi,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"movement",[],null,null,null,ki,bi)),a["\u0275did"](1,638976,null,0,gi,[],null,null)],function(e,n){e(n,1,0)},null)},{town:"town",worldData:"worldData"},{},[]),Si=t("gIcY"),Ii=t("w9g1"),Oi={headquarters:{name:"Headquarters",description:"Headquarters is the main building of every town. Buildings need a specific level of the headquarters to be built. Barracks require to reach level 3, while the Academy needs level 15 to be built."},clay:{name:"Clay pit",description:"Workers gather clay in the clay pit. Clay is an important resource for building construction. The higher the level the more clay is produced.",details:"production",detailText:"clay production"},wood:{name:"Timber camp",description:"Wood is harvested in the timber camp. Wood is an important resource for building constructions and unit weapons. The higher the level the more wood is produced.",details:"production",detailText:"wood production"},iron:{name:"Iron mine",description:"Iron is mined in the iron mine. Iron is heavily relied upon for weapons and cavalry armor. The higher the level the more iron is produced.",details:"production",detailText:"iron production"},storage:{name:"Warehouse",description:"All resources are stored in the warehouse. The amount of stored resources depends on the level of the warehouse. Upgrading the warehouse will increase the maximum stored amount.",details:"storage",detailText:"storage"},farm:{name:"Farm",description:"Farm produces food for your troops and directly affects the amount of population your town can hold. Upgrading the farm will increase the maximum population.",details:"population",detailText:"population"},barracks:{name:"Barracks",description:"Your troops are trained in the barracks. Some units require a specific level of barracks to be trained. Upgrading the barracks will increase the training speed of your troops.",details:"recruitment",detailText:"recruitment speed"},wall:{name:"Wall",description:"The wall helps protect your town. Each level of the wall provides a bonus to defense.",details:"defense",detailText:"defense bonus"},castle:{name:"Academy",description:"Academy is a prestigious institution used to train nobles. Once the town has a Headquarters of level 15 the academy is unlocked to build. Building the academy allows the recruitment of nobles, whom help you conquer other towns."}},Pi={axe:{name:"Axeman",description:"Axes questions."},sword:{name:"Swordsman",description:"My sword and shield."},mace:{name:"Maceman",description:"Spray some mace."},archer:{name:"Archer",description:"Shoots arrows."},scout:{name:"Scout",description:"Scouts around."},lightCavalry:{name:"Light cavalary",description:"Rides fast."},mountedArcher:{name:"Mounted archer",description:"Horses with bows."},heavyCavalry:{name:"Heavy cavalary",description:"Armored horses."},trebuchet:{name:"Trebuchet",description:"Shoot rocks."},noble:{name:"Diplomat",description:"Buy towns."},commander:{name:"Commander",description:"Bears flags."}},Ti=function(){function e(e,n,t,l){var i=this;this.commandService=e,this.gameData=n,this.mapService=t,this.store=l,this.unitDetails=Pi,this.target=[null,null],this.unitsToSend={},this.sending=!1,this.commandService.targeting.subscribe(function(e){i.target=e,i.targetCoords=e})}return e.prototype.ngOnInit=function(){},e.prototype.sendCommand=function(e,n){var t=this;if(this.target!==this.town.location){var l=e?z.MovementType.support:z.MovementType.attack,i=Object.entries(n.value).reduce(function(e,n){var l=n[0],i=n[1];return+i&&(t.town.units[l].inside>=i?(e.units[l]=i,e.isEmpty=!1):e.isValid=!1),e},{isValid:!0,isEmpty:!0,units:{}}),a=i.units,o=i.isValid,r=i.isEmpty;o&&!r?this.store.dispatch(new Qt({units:a,type:l,target:this.target})):n.form.setErrors({errorMessage:"Incorrectly entered units."})}else n.form.setErrors({errorMessage:"A town can't attack itself."})},e}(),Di=t("W9XC"),Ai=t("ldS1"),Ei=[[""]],ji=a["\u0275crt"]({encapsulation:0,styles:Ei,data:{}});function Fi(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,12,"div",[["class","d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,0,"i",[["class","unit-icon mr-1"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"label",[["class","pr-1"]],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,["",""])),(e()(),a["\u0275eld"](4,0,null,null,6,"input",[["min","0"],["type","number"]],[[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,5)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,5).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,5)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,5)._compositionEnd(t.target.value)&&l);"change"===n&&(l=!1!==a["\u0275nov"](e,6).onChange(t.target.value)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,6).onChange(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,6).onTouched()&&l);"ngModelChange"===n&&(l=!1!==(i.unitsToSend[e.context.$implicit.name]=t)&&l);return l},null,null)),a["\u0275did"](5,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275did"](6,16384,null,0,Si.x,[a.Renderer2,a.ElementRef],null,null),a["\u0275prd"](1024,null,Si.l,function(e,n){return[e,n]},[Si.d,Si.x]),a["\u0275did"](8,671744,null,0,Si.q,[[2,Si.c],[8,null],[8,null],[6,Si.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](10,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](11,0,null,null,1,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),a["\u0275ted"](12,null,["/",""]))],function(e,n){var t=n.component;e(n,8,0,n.context.$implicit.name,t.unitsToSend[n.context.$implicit.name])},function(e,n){var t=n.component;e(n,1,0,n.context.$implicit.name),e(n,3,0,t.unitDetails[n.context.$implicit.name].name),e(n,4,0,t.town.units[n.context.$implicit.name].inside,a["\u0275nov"](n,10).ngClassUntouched,a["\u0275nov"](n,10).ngClassTouched,a["\u0275nov"](n,10).ngClassPristine,a["\u0275nov"](n,10).ngClassDirty,a["\u0275nov"](n,10).ngClassValid,a["\u0275nov"](n,10).ngClassInvalid,a["\u0275nov"](n,10).ngClassPending),e(n,12,0,t.town.units[n.context.$implicit.name].inside)})}function Mi(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,a["\u0275nov"](n.parent.parent,2).errors.errorMessage)})}function Ni(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Attack successfully sent."]))],null,null)}function Li(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sendCommand(!1,a["\u0275nov"](e.parent,2))&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Attack"])),(e()(),a["\u0275eld"](3,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sendCommand(!0,a["\u0275nov"](e.parent,2))&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Support"])),(e()(),a["\u0275and"](16777216,null,null,1,null,Mi)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Ni)),a["\u0275did"](8,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,6,0,a["\u0275nov"](n.parent,2).errors),e(n,8,0,t.sent)},function(e,n){e(n,1,0,a["\u0275nov"](n.parent,2).pristine||a["\u0275nov"](n.parent,2).errors)})}function $i(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var l=!0;"submit"===n&&(l=!1!==a["\u0275nov"](e,2).onSubmit(t)&&l);"reset"===n&&(l=!1!==a["\u0275nov"](e,2).onReset()&&l);return l},null,null)),a["\u0275did"](1,16384,null,0,Si.y,[],null,null),a["\u0275did"](2,4210688,[["commandForm",4]],0,Si.p,[[8,null],[8,null]],null,null),a["\u0275prd"](2048,null,Si.c,null,[Si.p]),a["\u0275did"](4,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275and"](16777216,null,null,1,null,Fi)),a["\u0275did"](6,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275eld"](7,0,null,null,22,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](8,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Target"])),(e()(),a["\u0275eld"](10,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["X"])),(e()(),a["\u0275eld"](12,0,null,null,7,"input",[["max","999"],["min","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,13)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,13).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,13)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,13)._compositionEnd(t.target.value)&&l);"change"===n&&(l=!1!==a["\u0275nov"](e,14).onChange(t.target.value)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,14).onChange(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,14).onTouched()&&l);"ngModelChange"===n&&(l=!1!==(i.target[0]=t)&&l);return l},null,null)),a["\u0275did"](13,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275did"](14,16384,null,0,Si.x,[a.Renderer2,a.ElementRef],null,null),a["\u0275prd"](1024,null,Si.l,function(e,n){return[e,n]},[Si.d,Si.x]),a["\u0275did"](16,671744,null,0,Si.q,[[2,Si.c],[8,null],[8,null],[6,Si.l]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),a["\u0275pod"](17,{standalone:0}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](19,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](20,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Y"])),(e()(),a["\u0275eld"](22,0,null,null,7,"input",[["max","999"],["min","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,23)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,23).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,23)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,23)._compositionEnd(t.target.value)&&l);"change"===n&&(l=!1!==a["\u0275nov"](e,24).onChange(t.target.value)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,24).onChange(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,24).onTouched()&&l);"ngModelChange"===n&&(l=!1!==(i.target[1]=t)&&l);return l},null,null)),a["\u0275did"](23,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275did"](24,16384,null,0,Si.x,[a.Renderer2,a.ElementRef],null,null),a["\u0275prd"](1024,null,Si.l,function(e,n){return[e,n]},[Si.d,Si.x]),a["\u0275did"](26,671744,null,0,Si.q,[[2,Si.c],[8,null],[8,null],[6,Si.l]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),a["\u0275pod"](27,{standalone:0}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](29,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275and"](16777216,null,null,1,null,Li)),a["\u0275did"](31,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,6,0,t.worldData.units),e(n,16,0,t.target[0],e(n,17,0,!0)),e(n,26,0,t.target[1],e(n,27,0,!0)),e(n,31,0,!t.town._actionState.movement.inProgress)},function(e,n){e(n,0,0,a["\u0275nov"](n,4).ngClassUntouched,a["\u0275nov"](n,4).ngClassTouched,a["\u0275nov"](n,4).ngClassPristine,a["\u0275nov"](n,4).ngClassDirty,a["\u0275nov"](n,4).ngClassValid,a["\u0275nov"](n,4).ngClassInvalid,a["\u0275nov"](n,4).ngClassPending),e(n,12,0,a["\u0275nov"](n,19).ngClassUntouched,a["\u0275nov"](n,19).ngClassTouched,a["\u0275nov"](n,19).ngClassPristine,a["\u0275nov"](n,19).ngClassDirty,a["\u0275nov"](n,19).ngClassValid,a["\u0275nov"](n,19).ngClassInvalid,a["\u0275nov"](n,19).ngClassPending),e(n,22,0,a["\u0275nov"](n,29).ngClassUntouched,a["\u0275nov"](n,29).ngClassTouched,a["\u0275nov"](n,29).ngClassPristine,a["\u0275nov"](n,29).ngClassDirty,a["\u0275nov"](n,29).ngClassValid,a["\u0275nov"](n,29).ngClassInvalid,a["\u0275nov"](n,29).ngClassPending)})}function zi(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Send troops"])),(e()(),a["\u0275and"](16777216,null,null,1,null,$i)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,4,0,t.town.units&&t.worldData.units)},null)}var Vi=a["\u0275ccf"]("command",Ti,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"command",[],null,null,null,zi,ji)),a["\u0275did"](1,114688,null,0,Ti,[Di.a,Ii.a,Ai.c,O.n],null,null)],function(e,n){e(n,1,0)},null)},{town:"town",worldData:"worldData"},{},[]),qi=t("p0ib"),Ui=t("F/XL"),Bi=t("pugT"),Hi=t("p0Sj"),Wi=new a.InjectionToken("MatInkBarPositioner",{providedIn:"root",factory:function(){return function(e){return{left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"}}}});var Zi=function(){function e(e,n,t){this._elementRef=e,this._ngZone=n,this._inkBarPositioner=t}return e.prototype.alignToElement=function(e){var n=this;this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return n._setStyles(e)})}):this._setStyles(e)},e.prototype.show=function(){this._elementRef.nativeElement.style.visibility="visible"},e.prototype.hide=function(){this._elementRef.nativeElement.style.visibility="hidden"},e.prototype._setStyles=function(e){var n=this._inkBarPositioner(e),t=this._elementRef.nativeElement;t.style.left=n.left,t.style.width=n.width},e.decorators=[{type:a.Directive,args:[{selector:"mat-ink-bar",host:{class:"mat-ink-bar"}}]}],e.ctorParameters=function(){return[{type:a.ElementRef},{type:a.NgZone},{type:void 0,decorators:[{type:a.Inject,args:[Wi]}]}]},e}(),Xi=function(e){function n(n,t){return e.call(this,n,t)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[mat-tab-label], [matTabLabel]"}]}],n.ctorParameters=function(){return[{type:a.TemplateRef},{type:a.ViewContainerRef}]},n}(Al.b),Gi=function(){function e(e){this.template=e}return e.decorators=[{type:a.Directive,args:[{selector:"[matTabContent]"}]}],e.ctorParameters=function(){return[{type:a.TemplateRef}]},e}(),Yi=function(){return function(){}}(),Qi=function(e){function n(n){var t=e.call(this)||this;return t._viewContainerRef=n,t.textLabel="",t._contentPortal=null,t._labelChange=new jl.a,t._disableChange=new jl.a,t.position=null,t.origin=null,t.isActive=!1,t}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"content",{get:function(){return this._contentPortal},enumerable:!0,configurable:!0}),n.prototype.ngOnChanges=function(e){e.hasOwnProperty("textLabel")&&this._labelChange.next(),e.hasOwnProperty("disabled")&&this._disableChange.next()},n.prototype.ngOnDestroy=function(){this._disableChange.complete(),this._labelChange.complete()},n.prototype.ngOnInit=function(){this._contentPortal=new Al.i(this._explicitContent||this._implicitContent,this._viewContainerRef)},n.decorators=[{type:a.Component,args:[{selector:"mat-tab",template:"<ng-template><ng-content></ng-content></ng-template>",inputs:["disabled"],changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None,exportAs:"matTab"}]}],n.ctorParameters=function(){return[{type:a.ViewContainerRef}]},n.propDecorators={templateLabel:[{type:a.ContentChild,args:[Xi]}],_explicitContent:[{type:a.ContentChild,args:[Gi,{read:a.TemplateRef}]}],_implicitContent:[{type:a.ViewChild,args:[a.TemplateRef]}],textLabel:[{type:a.Input,args:["label"]}],ariaLabel:[{type:a.Input,args:["aria-label"]}],ariaLabelledby:[{type:a.Input,args:["aria-labelledby"]}]},n}(Object(Ml.G)(Yi)),Ki={translateTab:Object(xl.m)("translateTab",[Object(xl.j)("center, void, left-origin-center, right-origin-center",Object(xl.k)({transform:"none"})),Object(xl.j)("left",Object(xl.k)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(xl.j)("right",Object(xl.k)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(xl.l)("* => left, * => right, left => center, right => center",Object(xl.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)")),Object(xl.l)("void => left-origin-center",[Object(xl.k)({transform:"translate3d(-100%, 0, 0)"}),Object(xl.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)")]),Object(xl.l)("void => right-origin-center",[Object(xl.k)({transform:"translate3d(100%, 0, 0)"}),Object(xl.e)("500ms cubic-bezier(0.35, 0, 0.25, 1)")])])},Ji=function(e){function n(n,t,l){var i=e.call(this,n,t)||this;return i._host=l,i._centeringSub=Bi.a.EMPTY,i._leavingSub=Bi.a.EMPTY,i}return Object(Cl.b)(n,e),n.prototype.ngOnInit=function(){var n=this;e.prototype.ngOnInit.call(this),this._centeringSub=this._host._beforeCentering.pipe(Object(Hi.a)(this._host._isCenterPosition(this._host._position))).subscribe(function(e){e&&!n.hasAttached()&&n.attach(n._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(function(){n.detach()})},n.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()},n.decorators=[{type:a.Directive,args:[{selector:"[matTabBodyHost]"}]}],n.ctorParameters=function(){return[{type:a.ComponentFactoryResolver},{type:a.ViewContainerRef},{type:ea,decorators:[{type:a.Inject,args:[Object(a.forwardRef)(function(){return ea})]}]}]},n}(Al.c),ea=function(){function e(e,n,t){var l=this;this._elementRef=e,this._dir=n,this._dirChangeSubscription=Bi.a.EMPTY,this._onCentering=new a.EventEmitter,this._beforeCentering=new a.EventEmitter,this._afterLeavingCenter=new a.EventEmitter,this._onCentered=new a.EventEmitter(!0),this._dir&&t&&(this._dirChangeSubscription=this._dir.change.subscribe(function(e){l._computePositionAnimationState(e),t.markForCheck()}))}return Object.defineProperty(e.prototype,"position",{set:function(e){this._positionIndex=e,this._computePositionAnimationState()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){"center"==this._position&&void 0!==this.origin&&(this._position=this._computePositionFromOrigin())},e.prototype.ngOnDestroy=function(){this._dirChangeSubscription.unsubscribe()},e.prototype._onTranslateTabStarted=function(e){var n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)},e.prototype._onTranslateTabComplete=function(e){this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()},e.prototype._getLayoutDirection=function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},e.prototype._isCenterPosition=function(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e},e.prototype._computePositionAnimationState=function(e){void 0===e&&(e=this._getLayoutDirection()),this._positionIndex<0?this._position="ltr"==e?"left":"right":this._positionIndex>0?this._position="ltr"==e?"right":"left":this._position="center"},e.prototype._computePositionFromOrigin=function(){var e=this._getLayoutDirection();return"ltr"==e&&this.origin<=0||"rtl"==e&&this.origin>0?"left-origin-center":"right-origin-center"},e.decorators=[{type:a.Component,args:[{selector:"mat-tab-body",template:'<div class="mat-tab-body-content" #content [@translateTab]="_position" (@translateTab.start)="_onTranslateTabStarted($event)" (@translateTab.done)="_onTranslateTabComplete($event)"><ng-template matTabBodyHost></ng-template></div>',styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush,animations:[Ki.translateTab],host:{class:"mat-tab-body"}}]}],e.ctorParameters=function(){return[{type:a.ElementRef},{type:Rl.b,decorators:[{type:a.Optional}]},{type:a.ChangeDetectorRef}]},e.propDecorators={_onCentering:[{type:a.Output}],_beforeCentering:[{type:a.Output}],_afterLeavingCenter:[{type:a.Output}],_onCentered:[{type:a.Output}],_portalHost:[{type:a.ViewChild,args:[Al.f]}],_content:[{type:a.Input,args:["content"]}],origin:[{type:a.Input}],position:[{type:a.Input}]},e}(),na=function(){return function(){}}(),ta=function(e){function n(n){var t=e.call(this)||this;return t.elementRef=n,t}return Object(Cl.b)(n,e),n.prototype.focus=function(){this.elementRef.nativeElement.focus()},n.prototype.getOffsetLeft=function(){return this.elementRef.nativeElement.offsetLeft},n.prototype.getOffsetWidth=function(){return this.elementRef.nativeElement.offsetWidth},n.decorators=[{type:a.Directive,args:[{selector:"[matTabLabelWrapper]",inputs:["disabled"],host:{"[class.mat-tab-disabled]":"disabled","[attr.aria-disabled]":"!!disabled"}}]}],n.ctorParameters=function(){return[{type:a.ElementRef}]},n}(Object(Ml.G)(na)),la=function(){return function(){}}(),ia=function(e){function n(n,t,l,i){var o=e.call(this)||this;return o._elementRef=n,o._changeDetectorRef=t,o._viewportRuler=l,o._dir=i,o._scrollDistance=0,o._selectedIndexChanged=!1,o._destroyed=new jl.a,o._showPaginationControls=!1,o._disableScrollAfter=!0,o._disableScrollBefore=!0,o._selectedIndex=0,o.selectFocusedIndex=new a.EventEmitter,o.indexFocused=new a.EventEmitter,o}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){e=Object(Sl.e)(e),this._selectedIndexChanged=this._selectedIndex!=e,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItemIndex(e)},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentChecked=function(){this._tabLabelCount!=this._labelWrappers.length&&(this._updatePagination(),this._tabLabelCount=this._labelWrappers.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())},n.prototype._handleKeydown=function(e){switch(e.keyCode){case Il.f:this._keyManager.setFirstItemActive(),e.preventDefault();break;case Il.c:this._keyManager.setLastItemActive(),e.preventDefault();break;case Il.d:case Il.j:this.selectFocusedIndex.emit(this.focusIndex),e.preventDefault();break;default:this._keyManager.onKeydown(e)}},n.prototype.ngAfterContentInit=function(){var e=this,n=this._dir?this._dir.change:Object(Ui.a)(null),t=this._viewportRuler.change(150),l=function(){e._updatePagination(),e._alignInkBarToSelectedTab()};this._keyManager=new kl.e(this._labelWrappers).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(l):l(),Object(qi.a)(n,t).pipe(Object(El.a)(this._destroyed)).subscribe(function(){l(),e._keyManager.withHorizontalOrientation(e._getLayoutDirection())}),this._keyManager.change.pipe(Object(El.a)(this._destroyed)).subscribe(function(n){e.indexFocused.emit(n),e._setTabFocus(n)})},n.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},n.prototype._onContentChanges=function(){this._updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()},n.prototype._updatePagination=function(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()},Object.defineProperty(n.prototype,"focusIndex",{get:function(){return this._keyManager?this._keyManager.activeItemIndex:0},set:function(e){this._isValidIndex(e)&&this.focusIndex!==e&&this._keyManager&&this._keyManager.setActiveItem(e)},enumerable:!0,configurable:!0}),n.prototype._isValidIndex=function(e){if(!this._labelWrappers)return!0;var n=this._labelWrappers?this._labelWrappers.toArray()[e]:null;return!!n&&!n.disabled},n.prototype._setTabFocus=function(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._labelWrappers&&this._labelWrappers.length){this._labelWrappers.toArray()[e].focus();var n=this._tabListContainer.nativeElement,t=this._getLayoutDirection();n.scrollLeft="ltr"==t?0:n.scrollWidth-n.offsetWidth}},n.prototype._getLayoutDirection=function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},n.prototype._updateTabScrollPosition=function(){var e=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform="translateX("+n+"px)"},Object.defineProperty(n.prototype,"scrollDistance",{get:function(){return this._scrollDistance},set:function(e){this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),e)),this._scrollDistanceChanged=!0,this._checkScrollingControls()},enumerable:!0,configurable:!0}),n.prototype._scrollHeader=function(e){var n=this._tabListContainer.nativeElement.offsetWidth;this.scrollDistance+=("before"==e?-1:1)*n/3},n.prototype._scrollToLabel=function(e){var n=this._labelWrappers?this._labelWrappers.toArray()[e]:null;if(n){var t,l,i=this._tabListContainer.nativeElement.offsetWidth;"ltr"==this._getLayoutDirection()?l=(t=n.getOffsetLeft())+n.getOffsetWidth():t=(l=this._tabList.nativeElement.offsetWidth-n.getOffsetLeft())-n.getOffsetWidth();var a=this.scrollDistance,o=this.scrollDistance+i;t<a?this.scrollDistance-=a-t+60:l>o&&(this.scrollDistance+=l-o+60)}},n.prototype._checkPaginationEnabled=function(){var e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e},n.prototype._checkScrollingControls=function(){this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck()},n.prototype._getMaxScrollDistance=function(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0},n.prototype._alignInkBarToSelectedTab=function(){var e=this._labelWrappers&&this._labelWrappers.length?this._labelWrappers.toArray()[this.selectedIndex].elementRef.nativeElement:null;this._inkBar.alignToElement(e)},n.decorators=[{type:a.Component,args:[{selector:"mat-tab-header",template:'<div class="mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4" aria-hidden="true" mat-ripple [matRippleDisabled]="_disableScrollBefore || disableRipple" [class.mat-tab-header-pagination-disabled]="_disableScrollBefore" (click)="_scrollHeader(\'before\')"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container" #tabListContainer (keydown)="_handleKeydown($event)"><div class="mat-tab-list" #tabList role="tablist" (cdkObserveContent)="_onContentChanges()"><div class="mat-tab-labels"><ng-content></ng-content></div><mat-ink-bar></mat-ink-bar></div></div><div class="mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4" aria-hidden="true" mat-ripple [matRippleDisabled]="_disableScrollAfter || disableRipple" [class.mat-tab-header-pagination-disabled]="_disableScrollAfter" (click)="_scrollHeader(\'after\')"><div class="mat-tab-header-pagination-chevron"></div></div>',styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media screen and (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media screen and (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media screen and (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media screen and (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-header-pagination{position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-labels{display:flex}"],inputs:["disableRipple"],encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush,host:{class:"mat-tab-header","[class.mat-tab-header-pagination-controls-enabled]":"_showPaginationControls","[class.mat-tab-header-rtl]":"_getLayoutDirection() == 'rtl'"}}]}],n.ctorParameters=function(){return[{type:a.ElementRef},{type:a.ChangeDetectorRef},{type:Tl.e},{type:Rl.b,decorators:[{type:a.Optional}]}]},n.propDecorators={_labelWrappers:[{type:a.ContentChildren,args:[ta]}],_inkBar:[{type:a.ViewChild,args:[Zi]}],_tabListContainer:[{type:a.ViewChild,args:["tabListContainer"]}],_tabList:[{type:a.ViewChild,args:["tabList"]}],selectedIndex:[{type:a.Input}],selectFocusedIndex:[{type:a.Output}],indexFocused:[{type:a.Output}]},n}(Object(Ml.F)(la)),aa=0,oa=function(){return function(){}}(),ra=function(){return function(e){this._elementRef=e}}(),ua=function(e){function n(n,t){var l=e.call(this,n)||this;return l._changeDetectorRef=t,l._indexToSelect=0,l._tabBodyWrapperHeight=0,l._tabsSubscription=Bi.a.EMPTY,l._tabLabelSubscription=Bi.a.EMPTY,l._dynamicHeight=!1,l._selectedIndex=null,l.headerPosition="above",l.selectedIndexChange=new a.EventEmitter,l.focusChange=new a.EventEmitter,l.animationDone=new a.EventEmitter,l.selectedTabChange=new a.EventEmitter(!0),l._groupId=aa++,l}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"dynamicHeight",{get:function(){return this._dynamicHeight},set:function(e){this._dynamicHeight=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){this._indexToSelect=Object(Sl.e)(e,null)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){var n=this._elementRef.nativeElement;n.classList.remove("mat-background-"+this.backgroundColor),e&&n.classList.add("mat-background-"+e),this._backgroundColor=e},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentChecked=function(){var e=this,n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=n&&null!=this._selectedIndex){var t=this._createChangeEvent(n);this.selectedTabChange.emit(t),Promise.resolve().then(function(){return e.selectedIndexChange.emit(n)})}this._tabs.forEach(function(t,l){t.position=l-n,t.isActive=l===n,null==e._selectedIndex||0!=t.position||t.origin||(t.origin=n-e._selectedIndex)}),this._selectedIndex!==n&&(this._selectedIndex=n,this._changeDetectorRef.markForCheck())},n.prototype.ngAfterContentInit=function(){var e=this;this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(function(){if(e._clampTabIndex(e._indexToSelect)===e._selectedIndex)for(var n=e._tabs.toArray(),t=0;t<n.length;t++)if(n[t].isActive){e._indexToSelect=e._selectedIndex=t;break}e._subscribeToTabLabels(),e._changeDetectorRef.markForCheck()})},n.prototype.ngOnDestroy=function(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()},n.prototype.realignInkBar=function(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()},n.prototype._focusChanged=function(e){this.focusChange.emit(this._createChangeEvent(e))},n.prototype._createChangeEvent=function(e){var n=new oa;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n},n.prototype._subscribeToTabLabels=function(){var e=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=qi.a.apply(void 0,this._tabs.map(function(e){return e._disableChange}).concat(this._tabs.map(function(e){return e._labelChange}))).subscribe(function(){e._changeDetectorRef.markForCheck()})},n.prototype._clampTabIndex=function(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))},n.prototype._getTabLabelId=function(e){return"mat-tab-label-"+this._groupId+"-"+e},n.prototype._getTabContentId=function(e){return"mat-tab-content-"+this._groupId+"-"+e},n.prototype._setTabBodyWrapperHeight=function(e){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}},n.prototype._removeTabBodyWrapperHeight=function(){this._tabBodyWrapperHeight=this._tabBodyWrapper.nativeElement.clientHeight,this._tabBodyWrapper.nativeElement.style.height="",this.animationDone.emit()},n.prototype._handleClick=function(e,n,t){e.disabled||(this.selectedIndex=n.focusIndex=t)},n.prototype._getTabIndex=function(e,n){return e.disabled?null:this.selectedIndex===n?0:-1},n.decorators=[{type:a.Component,args:[{selector:"mat-tab-group",exportAs:"matTabGroup",template:'<mat-tab-header #tabHeader [selectedIndex]="selectedIndex" [disableRipple]="disableRipple" (indexFocused)="_focusChanged($event)" (selectFocusedIndex)="selectedIndex = $event"><div class="mat-tab-label" role="tab" matTabLabelWrapper mat-ripple cdkMonitorElementFocus *ngFor="let tab of _tabs; let i = index" [id]="_getTabLabelId(i)" [attr.tabIndex]="_getTabIndex(tab, i)" [attr.aria-posinset]="i + 1" [attr.aria-setsize]="_tabs.length" [attr.aria-controls]="_getTabContentId(i)" [attr.aria-selected]="selectedIndex == i" [attr.aria-label]="tab.ariaLabel || null" [attr.aria-labelledby]="(!tab.ariaLabel && tab.ariaLabelledby) ? tab.ariaLabelledby : null" [class.mat-tab-label-active]="selectedIndex == i" [disabled]="tab.disabled" [matRippleDisabled]="tab.disabled || disableRipple" (click)="_handleClick(tab, tabHeader, i)"><div class="mat-tab-label-content"><ng-template [ngIf]="tab.templateLabel"><ng-template [cdkPortalOutlet]="tab.templateLabel"></ng-template></ng-template><ng-template [ngIf]="!tab.templateLabel">{{tab.textLabel}}</ng-template></div></div></mat-tab-header><div class="mat-tab-body-wrapper" #tabBodyWrapper><mat-tab-body role="tabpanel" *ngFor="let tab of _tabs; let i = index" [id]="_getTabContentId(i)" [attr.aria-labelledby]="_getTabLabelId(i)" [class.mat-tab-body-active]="selectedIndex == i" [content]="tab.content" [position]="tab.position" [origin]="tab.origin" (_onCentered)="_removeTabBodyWrapperHeight()" (_onCentering)="_setTabBodyWrapperHeight($event)"></mat-tab-body></div>',styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media screen and (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media screen and (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media screen and (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs] .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush,inputs:["color","disableRipple"],host:{class:"mat-tab-group","[class.mat-tab-group-dynamic-height]":"dynamicHeight","[class.mat-tab-group-inverted-header]":'headerPosition === "below"'}}]}],n.ctorParameters=function(){return[{type:a.ElementRef},{type:a.ChangeDetectorRef}]},n.propDecorators={_tabs:[{type:a.ContentChildren,args:[Qi]}],_tabBodyWrapper:[{type:a.ViewChild,args:["tabBodyWrapper"]}],_tabHeader:[{type:a.ViewChild,args:["tabHeader"]}],dynamicHeight:[{type:a.Input}],selectedIndex:[{type:a.Input}],headerPosition:[{type:a.Input}],backgroundColor:[{type:a.Input}],selectedIndexChange:[{type:a.Output}],focusChange:[{type:a.Output}],animationDone:[{type:a.Output}],selectedTabChange:[{type:a.Output}]},n}(Object(Ml.E)(Object(Ml.F)(ra),"primary")),sa=function(){return function(e){this._elementRef=e}}(),ca=function(e){function n(n,t,l,i,a){var o=e.call(this,n)||this;return o._dir=t,o._ngZone=l,o._changeDetectorRef=i,o._viewportRuler=a,o._onDestroy=new jl.a,o}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){var n=this._elementRef.nativeElement;n.classList.remove("mat-background-"+this.backgroundColor),e&&n.classList.add("mat-background-"+e),this._backgroundColor=e},enumerable:!0,configurable:!0}),n.prototype.updateActiveLink=function(e){this._activeLinkChanged=!!e,this._changeDetectorRef.markForCheck()},n.prototype.ngAfterContentInit=function(){var e=this;this._ngZone.runOutsideAngular(function(){var n=e._dir?e._dir.change:Object(Ui.a)(null);return Object(qi.a)(n,e._viewportRuler.change(10)).pipe(Object(El.a)(e._onDestroy)).subscribe(function(){return e._alignInkBar()})})},n.prototype.ngAfterContentChecked=function(){if(this._activeLinkChanged){var e=this._tabLinks.find(function(e){return e.active});this._activeLinkElement=e?e._elementRef:null,this._alignInkBar(),this._activeLinkChanged=!1}},n.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},n.prototype._alignInkBar=function(){this._activeLinkElement?(this._inkBar.show(),this._inkBar.alignToElement(this._activeLinkElement.nativeElement)):this._inkBar.hide()},n.decorators=[{type:a.Component,args:[{selector:"[mat-tab-nav-bar]",exportAs:"matTabNavBar, matTabNav",inputs:["color","disableRipple"],template:'<div class="mat-tab-links" (cdkObserveContent)="_alignInkBar()"><ng-content></ng-content><mat-ink-bar></mat-ink-bar></div>',styles:[".mat-tab-nav-bar{overflow:hidden;position:relative;flex-shrink:0}.mat-tab-links{position:relative;display:flex}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:0}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}@media screen and (-ms-high-contrast:active){.mat-tab-link:focus{outline:dotted 2px}}.mat-tab-link.mat-tab-disabled{cursor:default}@media screen and (-ms-high-contrast:active){.mat-tab-link.mat-tab-disabled{opacity:.5}}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media screen and (-ms-high-contrast:active){.mat-tab-link{opacity:1}}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}@media (max-width:599px){.mat-tab-link{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media screen and (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}"],host:{class:"mat-tab-nav-bar"},encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:a.ElementRef},{type:Rl.b,decorators:[{type:a.Optional}]},{type:a.NgZone},{type:a.ChangeDetectorRef},{type:Tl.e}]},n.propDecorators={_inkBar:[{type:a.ViewChild,args:[Zi]}],_tabLinks:[{type:a.ContentChildren,args:[Object(a.forwardRef)(function(){return pa}),{descendants:!0}]}],backgroundColor:[{type:a.Input}]},n}(Object(Ml.F)(Object(Ml.E)(sa,"primary"))),da=function(){return function(){}}(),pa=function(e){function n(n,t,l,i,a,o,r){var u=e.call(this)||this;return u._tabNavBar=n,u._elementRef=t,u._focusMonitor=r,u._isActive=!1,u._ripplesGloballyDisabled=!1,u.rippleConfig={},u._tabLinkRipple=new Ml.B(u,l,t,i),u._tabLinkRipple.setupTriggerEvents(t.nativeElement),u.tabIndex=parseInt(o)||0,a&&(u._ripplesGloballyDisabled=!!a.disabled,u.rippleConfig={terminateOnPointerUp:a.terminateOnPointerUp,speedFactor:a.baseSpeedFactor,animation:a.animation}),r&&r.monitor(t.nativeElement),u}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"active",{get:function(){return this._isActive},set:function(e){e!==this._isActive&&(this._isActive=e,this._tabNavBar.updateActiveLink(this._elementRef))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rippleDisabled",{get:function(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||this._ripplesGloballyDisabled},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this._tabLinkRipple._removeTriggerEvents(),this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)},n.prototype._handleClick=function(e){this.disabled&&e.preventDefault()},n.decorators=[{type:a.Directive,args:[{selector:"[mat-tab-link], [matTabLink]",exportAs:"matTabLink",inputs:["disabled","disableRipple","tabIndex"],host:{class:"mat-tab-link","[attr.aria-current]":"active","[attr.aria-disabled]":"disabled.toString()","[attr.tabIndex]":"tabIndex","[class.mat-tab-disabled]":"disabled","[class.mat-tab-label-active]":"active","(click)":"_handleClick($event)"}}]}],n.ctorParameters=function(){return[{type:ca},{type:a.ElementRef},{type:a.NgZone},{type:Dl.a},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[Ml.m]}]},{type:void 0,decorators:[{type:a.Attribute,args:["tabindex"]}]},{type:kl.f}]},n.propDecorators={active:[{type:a.Input}]},n}(Object(Ml.J)(Object(Ml.F)(Object(Ml.G)(da)))),fa=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[Fl.CommonModule,Ml.n,Al.h,Ml.y,Zl.d,kl.a],exports:[Ml.n,ua,Xi,Qi,ca,pa,Gi],declarations:[ua,Xi,Qi,Zi,ta,ca,pa,ea,Ji,ia,Gi]}]}],e}(),ma=t("wFw1"),ha=(a["\u0275cmf"](fa,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,Fl.NgLocalization,Fl.NgLocaleLocalization,[a.LOCALE_ID,[2,Fl["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](4608,Zl.c,Zl.c,[]),a["\u0275mpd"](1073742336,Fl.CommonModule,Fl.CommonModule,[]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,Al.h,Al.h,[]),a["\u0275mpd"](1073742336,Dl.b,Dl.b,[]),a["\u0275mpd"](1073742336,Ml.y,Ml.y,[]),a["\u0275mpd"](1073742336,Zl.d,Zl.d,[]),a["\u0275mpd"](1073742336,kl.a,kl.a,[]),a["\u0275mpd"](1073742336,fa,fa,[])])}),a["\u0275crt"]({encapsulation:2,styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media screen and (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media screen and (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media screen and (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs] .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],data:{}}));function ga(e){return a["\u0275vid"](0,[(e()(),a["\u0275and"](0,null,null,0))],null,null)}function va(e){return a["\u0275vid"](0,[(e()(),a["\u0275and"](16777216,null,null,1,null,ga)),a["\u0275did"](1,212992,null,0,Al.c,[a.ComponentFactoryResolver,a.ViewContainerRef],{portal:[0,"portal"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){e(n,1,0,n.parent.context.$implicit.templateLabel)},null)}function ba(e){return a["\u0275vid"](0,[(e()(),a["\u0275ted"](0,null,["",""]))],null,function(e,n){e(n,0,0,n.parent.context.$implicit.textLabel)})}function ya(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,8,"div",[["cdkMonitorElementFocus",""],["class","mat-tab-label mat-ripple"],["mat-ripple",""],["matTabLabelWrapper",""],["role","tab"]],[[8,"id",0],[1,"tabIndex",0],[1,"aria-posinset",0],[1,"aria-setsize",0],[1,"aria-controls",0],[1,"aria-selected",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-tab-label-active",null],[2,"mat-ripple-unbounded",null],[2,"mat-tab-disabled",null],[1,"aria-disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i._handleClick(e.context.$implicit,a["\u0275nov"](e.parent,3),e.context.index)&&l);return l},null,null)),a["\u0275did"](1,212992,null,0,Ml.x,[a.ElementRef,a.NgZone,Dl.a,[2,Ml.m],[2,ma.a]],{disabled:[0,"disabled"]},null),a["\u0275did"](2,147456,null,0,kl.d,[a.ElementRef,kl.f],null,null),a["\u0275did"](3,16384,[[3,4]],0,ta,[a.ElementRef],{disabled:[0,"disabled"]},null),(e()(),a["\u0275eld"](4,0,null,null,4,"div",[["class","mat-tab-label-content"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,va)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,ba)),a["\u0275did"](8,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,1,0,n.context.$implicit.disabled||t.disableRipple),e(n,3,0,n.context.$implicit.disabled),e(n,6,0,n.context.$implicit.templateLabel),e(n,8,0,!n.context.$implicit.templateLabel)},function(e,n){var t=n.component;e(n,0,1,[t._getTabLabelId(n.context.index),t._getTabIndex(n.context.$implicit,n.context.index),n.context.index+1,t._tabs.length,t._getTabContentId(n.context.index),t.selectedIndex==n.context.index,n.context.$implicit.ariaLabel||null,!n.context.$implicit.ariaLabel&&n.context.$implicit.ariaLabelledby?n.context.$implicit.ariaLabelledby:null,t.selectedIndex==n.context.index,a["\u0275nov"](n,1).unbounded,a["\u0275nov"](n,3).disabled,!!a["\u0275nov"](n,3).disabled])})}function wa(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"mat-tab-body-active",null]],[[null,"_onCentered"],[null,"_onCentering"]],function(e,n,t){var l=!0,i=e.component;"_onCentered"===n&&(l=!1!==i._removeTabBodyWrapperHeight()&&l);"_onCentering"===n&&(l=!1!==i._setTabBodyWrapperHeight(t)&&l);return l},ka,xa)),a["\u0275did"](1,245760,null,0,ea,[a.ElementRef,[2,Rl.b],a.ChangeDetectorRef],{_content:[0,"_content"],origin:[1,"origin"],position:[2,"position"]},{_onCentering:"_onCentering",_onCentered:"_onCentered"})],function(e,n){e(n,1,0,n.context.$implicit.content,n.context.$implicit.origin,n.context.$implicit.position)},function(e,n){var t=n.component;e(n,0,0,t._getTabContentId(n.context.index),t._getTabLabelId(n.context.index),t.selectedIndex==n.context.index)})}function _a(e){return a["\u0275vid"](2,[a["\u0275qud"](402653184,1,{_tabBodyWrapper:0}),a["\u0275qud"](402653184,2,{_tabHeader:0}),(e()(),a["\u0275eld"](2,0,null,null,4,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],[[null,"indexFocused"],[null,"selectFocusedIndex"]],function(e,n,t){var l=!0,i=e.component;"indexFocused"===n&&(l=!1!==i._focusChanged(t)&&l);"selectFocusedIndex"===n&&(l=!1!==(i.selectedIndex=t)&&l);return l},Sa,Ra)),a["\u0275did"](3,3325952,[[2,4],["tabHeader",4]],1,ia,[a.ElementRef,a.ChangeDetectorRef,Tl.e,[2,Rl.b]],{disableRipple:[0,"disableRipple"],selectedIndex:[1,"selectedIndex"]},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}),a["\u0275qud"](603979776,3,{_labelWrappers:1}),(e()(),a["\u0275and"](16777216,null,0,1,null,ya)),a["\u0275did"](6,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275eld"](7,0,[[1,0],["tabBodyWrapper",1]],null,2,"div",[["class","mat-tab-body-wrapper"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,wa)),a["\u0275did"](9,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,3,0,t.disableRipple,t.selectedIndex),e(n,6,0,t._tabs),e(n,9,0,t._tabs)},function(e,n){e(n,2,0,a["\u0275nov"](n,3)._showPaginationControls,"rtl"==a["\u0275nov"](n,3)._getLayoutDirection())})}a["\u0275ccf"]("mat-tab-group",ua,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-tab-group",[["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,_a,ha)),a["\u0275did"](1,3325952,null,1,ua,[a.ElementRef,a.ChangeDetectorRef],null,null),a["\u0275qud"](603979776,1,{_tabs:1})],null,function(e,n){e(n,0,0,a["\u0275nov"](n,1).dynamicHeight,"below"===a["\u0275nov"](n,1).headerPosition)})},{color:"color",disableRipple:"disableRipple",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",backgroundColor:"backgroundColor"},{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},[]);var xa=a["\u0275crt"]({encapsulation:2,styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],data:{animation:[{type:7,name:"translateTab",definitions:[{type:0,name:"center, void, left-origin-center, right-origin-center",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:0,name:"left",styles:{type:6,styles:{transform:"translate3d(-100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:0,name:"right",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:1,expr:"* => left, * => right, left => center, right => center",animation:{type:4,styles:null,timings:"500ms cubic-bezier(0.35, 0, 0.25, 1)"},options:null},{type:1,expr:"void => left-origin-center",animation:[{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"500ms cubic-bezier(0.35, 0, 0.25, 1)"}],options:null},{type:1,expr:"void => right-origin-center",animation:[{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"500ms cubic-bezier(0.35, 0, 0.25, 1)"}],options:null}],options:{}}]}});function Ca(e){return a["\u0275vid"](0,[(e()(),a["\u0275and"](0,null,null,0))],null,null)}function ka(e){return a["\u0275vid"](2,[a["\u0275qud"](402653184,1,{_portalHost:0}),(e()(),a["\u0275eld"](1,0,[["content",1]],null,2,"div",[["class","mat-tab-body-content"]],[[24,"@translateTab",0]],[[null,"@translateTab.start"],[null,"@translateTab.done"]],function(e,n,t){var l=!0,i=e.component;"@translateTab.start"===n&&(l=!1!==i._onTranslateTabStarted(t)&&l);"@translateTab.done"===n&&(l=!1!==i._onTranslateTabComplete(t)&&l);return l},null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Ca)),a["\u0275did"](3,212992,null,0,Ji,[a.ComponentFactoryResolver,a.ViewContainerRef,ea],null,null)],function(e,n){e(n,3,0)},function(e,n){e(n,1,0,n.component._position)})}a["\u0275ccf"]("mat-tab-body",ea,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"]],null,null,null,ka,xa)),a["\u0275did"](1,245760,null,0,ea,[a.ElementRef,[2,Rl.b],a.ChangeDetectorRef],null,null)],function(e,n){e(n,1,0)},null)},{_content:"content",origin:"origin",position:"position"},{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},[]);var Ra=a["\u0275crt"]({encapsulation:2,styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media screen and (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media screen and (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media screen and (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media screen and (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-header-pagination{position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-labels{display:flex}"],data:{}});function Sa(e){return a["\u0275vid"](2,[a["\u0275qud"](402653184,1,{_inkBar:0}),a["\u0275qud"](402653184,2,{_tabListContainer:0}),a["\u0275qud"](402653184,3,{_tabList:0}),(e()(),a["\u0275eld"](3,0,null,null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i._scrollHeader("before")&&l);return l},null,null)),a["\u0275did"](4,212992,null,0,Ml.x,[a.ElementRef,a.NgZone,Dl.a,[2,Ml.m],[2,ma.a]],{disabled:[0,"disabled"]},null),(e()(),a["\u0275eld"](5,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(e()(),a["\u0275eld"](6,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-label-container"]],null,[[null,"keydown"]],function(e,n,t){var l=!0,i=e.component;"keydown"===n&&(l=!1!==i._handleKeydown(t)&&l);return l},null,null)),(e()(),a["\u0275eld"](7,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"],["role","tablist"]],null,[[null,"cdkObserveContent"]],function(e,n,t){var l=!0,i=e.component;"cdkObserveContent"===n&&(l=!1!==i._onContentChanges()&&l);return l},null,null)),a["\u0275did"](8,1196032,null,0,Zl.a,[Zl.b,a.ElementRef,a.NgZone],null,{event:"cdkObserveContent"}),(e()(),a["\u0275eld"](9,0,null,null,1,"div",[["class","mat-tab-labels"]],null,null,null,null,null)),a["\u0275ncd"](null,0),(e()(),a["\u0275eld"](11,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],null,null,null,null,null)),a["\u0275did"](12,16384,[[1,4]],0,Zi,[a.ElementRef,a.NgZone,Wi],null,null),(e()(),a["\u0275eld"](13,0,null,null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i._scrollHeader("after")&&l);return l},null,null)),a["\u0275did"](14,212992,null,0,Ml.x,[a.ElementRef,a.NgZone,Dl.a,[2,Ml.m],[2,ma.a]],{disabled:[0,"disabled"]},null),(e()(),a["\u0275eld"](15,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],function(e,n){var t=n.component;e(n,4,0,t._disableScrollBefore||t.disableRipple),e(n,14,0,t._disableScrollAfter||t.disableRipple)},function(e,n){var t=n.component;e(n,3,0,t._disableScrollBefore,a["\u0275nov"](n,4).unbounded),e(n,13,0,t._disableScrollAfter,a["\u0275nov"](n,14).unbounded)})}a["\u0275ccf"]("mat-tab-header",ia,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],null,null,Sa,Ra)),a["\u0275did"](1,3325952,null,1,ia,[a.ElementRef,a.ChangeDetectorRef,Tl.e,[2,Rl.b]],null,null),a["\u0275qud"](603979776,1,{_labelWrappers:1})],null,function(e,n){e(n,0,0,a["\u0275nov"](n,1)._showPaginationControls,"rtl"==a["\u0275nov"](n,1)._getLayoutDirection())})},{disableRipple:"disableRipple",selectedIndex:"selectedIndex"},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},["*"]);var Ia=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Oa(e){return a["\u0275vid"](0,[a["\u0275ncd"](null,0),(e()(),a["\u0275and"](0,null,null,0))],null,null)}function Pa(e){return a["\u0275vid"](2,[a["\u0275qud"](402653184,1,{_implicitContent:0}),(e()(),a["\u0275and"](0,[[1,2]],null,0,null,Oa))],null,null)}a["\u0275ccf"]("mat-tab",Qi,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,16777216,null,null,3,"mat-tab",[],null,null,null,Pa,Ia)),a["\u0275did"](1,770048,null,2,Qi,[a.ViewContainerRef],null,null),a["\u0275qud"](335544320,1,{templateLabel:0}),a["\u0275qud"](335544320,2,{_explicitContent:0})],function(e,n){e(n,1,0)},null)},{disabled:"disabled",textLabel:"label",ariaLabel:"aria-label",ariaLabelledby:"aria-labelledby"},{},["*"]);var Ta=a["\u0275crt"]({encapsulation:2,styles:[".mat-tab-nav-bar{overflow:hidden;position:relative;flex-shrink:0}.mat-tab-links{position:relative;display:flex}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:0}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}@media screen and (-ms-high-contrast:active){.mat-tab-link:focus{outline:dotted 2px}}.mat-tab-link.mat-tab-disabled{cursor:default}@media screen and (-ms-high-contrast:active){.mat-tab-link.mat-tab-disabled{opacity:.5}}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media screen and (-ms-high-contrast:active){.mat-tab-link{opacity:1}}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}@media (max-width:599px){.mat-tab-link{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media screen and (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}"],data:{}});function Da(e){return a["\u0275vid"](2,[a["\u0275qud"](402653184,1,{_inkBar:0}),(e()(),a["\u0275eld"](1,0,null,null,4,"div",[["class","mat-tab-links"]],null,[[null,"cdkObserveContent"]],function(e,n,t){var l=!0,i=e.component;"cdkObserveContent"===n&&(l=!1!==i._alignInkBar()&&l);return l},null,null)),a["\u0275did"](2,1196032,null,0,Zl.a,[Zl.b,a.ElementRef,a.NgZone],null,{event:"cdkObserveContent"}),a["\u0275ncd"](null,0),(e()(),a["\u0275eld"](4,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],null,null,null,null,null)),a["\u0275did"](5,16384,[[1,4]],0,Zi,[a.ElementRef,a.NgZone,Wi],null,null)],null,null)}a["\u0275ccf"]("[mat-tab-nav-bar]",ca,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"div",[["class","mat-tab-nav-bar"],["mat-tab-nav-bar",""]],null,null,null,Da,Ta)),a["\u0275did"](1,3325952,null,1,ca,[a.ElementRef,[2,Rl.b],a.NgZone,a.ChangeDetectorRef,Tl.e],null,null),a["\u0275qud"](603979776,1,{_tabLinks:1})],null,null)},{color:"color",disableRipple:"disableRipple",backgroundColor:"backgroundColor"},{},["*"]);var Aa=t("t/Na"),Ea=t("VNr4"),ja=t("XlPw"),Fa=t("FFOo");var Ma=function(){function e(e){this.callback=e}return e.prototype.call=function(e,n){return n.subscribe(new Na(e,this.callback))},e}(),Na=function(e){function n(n,t){var l=e.call(this,n)||this;return l.add(new Bi.a(t)),l}return Cl.b(n,e),n}(Fa.a),La=t("xMyE"),$a=t("S1nX"),za=t("9Z1F");function Va(e){return Error('Unable to find icon with the name "'+e+'"')}function qa(e){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \""+e+'".')}function Ua(e){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \""+e+'".')}var Ba=function(){return function(e){e.nodeName?this.svgElement=e:this.url=e}}(),Ha=function(){function e(e,n,t){this._httpClient=e,this._sanitizer=n,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=t}return e.prototype.addSvgIcon=function(e,n){return this.addSvgIconInNamespace("",e,n)},e.prototype.addSvgIconLiteral=function(e,n){return this.addSvgIconLiteralInNamespace("",e,n)},e.prototype.addSvgIconInNamespace=function(e,n,t){return this._addSvgIconConfig(e,n,new Ba(t))},e.prototype.addSvgIconLiteralInNamespace=function(e,n,t){var l=this._sanitizer.sanitize(a.SecurityContext.HTML,t);if(!l)throw Ua(t);var i=this._createSvgElementForSingleIcon(l);return this._addSvgIconConfig(e,n,new Ba(i))},e.prototype.addSvgIconSet=function(e){return this.addSvgIconSetInNamespace("",e)},e.prototype.addSvgIconSetLiteral=function(e){return this.addSvgIconSetLiteralInNamespace("",e)},e.prototype.addSvgIconSetInNamespace=function(e,n){return this._addSvgIconSetConfig(e,new Ba(n))},e.prototype.addSvgIconSetLiteralInNamespace=function(e,n){var t=this._sanitizer.sanitize(a.SecurityContext.HTML,n);if(!t)throw Ua(n);var l=this._svgElementFromString(t);return this._addSvgIconSetConfig(e,new Ba(l))},e.prototype.registerFontClassAlias=function(e,n){return void 0===n&&(n=e),this._fontCssClassesByAlias.set(e,n),this},e.prototype.classNameForFontAlias=function(e){return this._fontCssClassesByAlias.get(e)||e},e.prototype.setDefaultFontSetClass=function(e){return this._defaultFontSetClass=e,this},e.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},e.prototype.getSvgIconFromUrl=function(e){var n=this,t=this._sanitizer.sanitize(a.SecurityContext.RESOURCE_URL,e);if(!t)throw qa(e);var l=this._cachedIconsByUrl.get(t);return l?Object(Ui.a)(Wa(l)):this._loadSvgIconFromConfig(new Ba(e)).pipe(Object(La.a)(function(e){return n._cachedIconsByUrl.set(t,e)}),Object(s.a)(function(e){return Wa(e)}))},e.prototype.getNamedSvgIcon=function(e,n){void 0===n&&(n="");var t=Za(n,e),l=this._svgIconConfigs.get(t);if(l)return this._getSvgFromConfig(l);var i=this._iconSetConfigs.get(n);return i?this._getSvgFromIconSetConfigs(e,i):Object(ja.a)(Va(t))},e.prototype._getSvgFromConfig=function(e){return e.svgElement?Object(Ui.a)(Wa(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(Object(La.a)(function(n){return e.svgElement=n}),Object(s.a)(function(e){return Wa(e)}))},e.prototype._getSvgFromIconSetConfigs=function(e,n){var t=this,l=this._extractIconWithNameFromAnySet(e,n);if(l)return Object(Ui.a)(l);var i=n.filter(function(e){return!e.svgElement}).map(function(e){return t._loadSvgIconSetFromConfig(e).pipe(Object(za.a)(function(n){var l=t._sanitizer.sanitize(a.SecurityContext.RESOURCE_URL,e.url);return console.error("Loading icon set URL: "+l+" failed: "+n.message),Object(Ui.a)(null)}))});return Object(Ea.a)(i).pipe(Object(s.a)(function(){var l=t._extractIconWithNameFromAnySet(e,n);if(!l)throw Va(e);return l}))},e.prototype._extractIconWithNameFromAnySet=function(e,n){for(var t=n.length-1;t>=0;t--){var l=n[t];if(l.svgElement){var i=this._extractSvgIconFromSet(l.svgElement,e);if(i)return i}}return null},e.prototype._loadSvgIconFromConfig=function(e){var n=this;return this._fetchUrl(e.url).pipe(Object(s.a)(function(e){return n._createSvgElementForSingleIcon(e)}))},e.prototype._loadSvgIconSetFromConfig=function(e){var n=this;return e.svgElement?Object(Ui.a)(e.svgElement):this._fetchUrl(e.url).pipe(Object(s.a)(function(t){return e.svgElement||(e.svgElement=n._svgElementFromString(t)),e.svgElement}))},e.prototype._createSvgElementForSingleIcon=function(e){var n=this._svgElementFromString(e);return this._setSvgAttributes(n),n},e.prototype._extractSvgIconFromSet=function(e,n){var t=e.querySelector("#"+n);if(!t)return null;var l=t.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l));var i=this._svgElementFromString("<svg></svg>");return i.appendChild(l),this._setSvgAttributes(i)},e.prototype._svgElementFromString=function(e){var n=this._document.createElement("DIV");n.innerHTML=e;var t=n.querySelector("svg");if(!t)throw Error("<svg> tag not found");return t},e.prototype._toSvgElement=function(e){for(var n=this._svgElementFromString("<svg></svg>"),t=0;t<e.childNodes.length;t++)e.childNodes[t].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[t].cloneNode(!0));return n},e.prototype._setSvgAttributes=function(e){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),e},e.prototype._fetchUrl=function(e){var n=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==e)throw Error('Cannot fetch icon from URL "'+e+'".');var t=this._sanitizer.sanitize(a.SecurityContext.RESOURCE_URL,e);if(!t)throw qa(e);var l=this._inProgressUrlFetches.get(t);if(l)return l;var i,o=this._httpClient.get(t,{responseType:"text"}).pipe((i=function(){return n._inProgressUrlFetches.delete(t)},function(e){return e.lift(new Ma(i))}),Object($a.a)());return this._inProgressUrlFetches.set(t,o),o},e.prototype._addSvgIconConfig=function(e,n,t){return this._svgIconConfigs.set(Za(e,n),t),this},e.prototype._addSvgIconSetConfig=function(e,n){var t=this._iconSetConfigs.get(e);return t?t.push(n):this._iconSetConfigs.set(e,[n]),this},e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:Aa.c,decorators:[{type:a.Optional}]},{type:ui.c},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[Fl.DOCUMENT]}]}]},e.ngInjectableDef=Object(a.defineInjectable)({factory:function(){return new e(Object(a.inject)(Aa.c,8),Object(a.inject)(ui.c),Object(a.inject)(Fl.DOCUMENT,8))},token:e,providedIn:"root"}),e}();new a.Optional,new a.SkipSelf,new a.Optional,Aa.c,ui.c,new a.Optional,Fl.DOCUMENT;function Wa(e){return e.cloneNode(!0)}function Za(e,n){return e+":"+n}var Xa=function(){return function(e){this._elementRef=e}}(),Ga=function(e){function n(n,t,l){var i=e.call(this,n)||this;return i._iconRegistry=t,i._inline=!1,l||n.nativeElement.setAttribute("aria-hidden","true"),i}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"inline",{get:function(){return this._inline},set:function(e){this._inline=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontSet",{get:function(){return this._fontSet},set:function(e){this._fontSet=this._cleanupFontValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fontIcon",{get:function(){return this._fontIcon},set:function(e){this._fontIcon=this._cleanupFontValue(e)},enumerable:!0,configurable:!0}),n.prototype._splitIconName=function(e){if(!e)return["",""];var n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error('Invalid icon name: "'+e+'"')}},n.prototype.ngOnChanges=function(e){var n=this;if(e.svgIcon)if(this.svgIcon){var t=this._splitIconName(this.svgIcon),l=t[0],i=t[1];this._iconRegistry.getNamedSvgIcon(i,l).pipe(Object(Mt.a)(1)).subscribe(function(e){return n._setSvgElement(e)},function(e){return console.log("Error retrieving icon: "+e.message)})}else this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()},n.prototype.ngOnInit=function(){this._usingFontIcon()&&this._updateFontIconClasses()},n.prototype._usingFontIcon=function(){return!this.svgIcon},n.prototype._setSvgElement=function(e){this._clearSvgElement();for(var n=e.querySelectorAll("style"),t=0;t<n.length;t++)n[t].textContent+=" ";this._elementRef.nativeElement.appendChild(e)},n.prototype._clearSvgElement=function(){for(var e=this._elementRef.nativeElement,n=e.childNodes.length;n--;){var t=e.childNodes[n];1===t.nodeType&&"svg"!==t.nodeName.toLowerCase()||e.removeChild(t)}},n.prototype._updateFontIconClasses=function(){if(this._usingFontIcon()){var e=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),n&&e.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}},n.prototype._cleanupFontValue=function(e){return"string"==typeof e?e.trim().split(" ")[0]:e},n.decorators=[{type:a.Component,args:[{template:"<ng-content></ng-content>",selector:"mat-icon",exportAs:"matIcon",styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],inputs:["color"],host:{role:"img",class:"mat-icon","[class.mat-icon-inline]":"inline"},encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:a.ElementRef},{type:Ha},{type:void 0,decorators:[{type:a.Attribute,args:["aria-hidden"]}]}]},n.propDecorators={inline:[{type:a.Input}],svgIcon:[{type:a.Input}],fontSet:[{type:a.Input}],fontIcon:[{type:a.Input}]},n}(Object(Ml.E)(Xa)),Ya=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[Ml.n],exports:[Ga,Ml.n],declarations:[Ga]}]}],e}(),Qa=(a["\u0275cmf"](Ya,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,Ya,Ya,[])])}),a["\u0275crt"]({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}}));function Ka(e){return a["\u0275vid"](2,[a["\u0275ncd"](null,0)],null,null)}a["\u0275ccf"]("mat-icon",Ga,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,Ka,Qa)),a["\u0275did"](1,638976,null,0,Ga,[a.ElementRef,Ha,[8,null]],null,null)],function(e,n){e(n,1,0)},function(e,n){e(n,0,0,a["\u0275nov"](n,1).inline)})},{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},{},["*"]);var Ja=t("bujt"),eo=t("UodH"),no=t("dJrM"),to=t("seP3"),lo=t("b716"),io=t("/VYK"),ao=function(){function e(e){this.store=e,this.reason="",this.allianceTargetName="",this.napTargetName="",this.warTargetName="",this.alliances=[],this.wars=[],this.naps=[],this.diplomacyStatus=z.DiplomacyStatus}return e.prototype.ngOnChanges=function(){var e=this.alliance.diplomacyOrigin.concat(this.alliance.diplomacyTarget).sort(function(e,n){return+e.updatedAt-+n.updatedAt}).reduce(function(e,n){return e[z.DiplomacyType[n.type]].push(n),e},{war:[],alliance:[],nap:[]});this.alliances=e.alliance,this.wars=e.war,this.naps=e.nap},e.prototype.declareWar=function(){this.store.dispatch(new sn({targetName:this.warTargetName,reason:this.reason})),this.warTargetName="",this.reason=""},e.prototype.proposeAlliance=function(){this.store.dispatch(new Ae(this.allianceTargetName)),this.allianceTargetName=""},e.prototype.cancelAlliance=function(e){this.store.dispatch(new Be(e))},e.prototype.rejectAlliance=function(e){this.store.dispatch(new Fe(e))},e.prototype.acceptAlliance=function(e){this.store.dispatch(new Le(e))},e.prototype.endAlliance=function(e){this.store.dispatch(new Ve(e))},e.prototype.proposeNap=function(){this.store.dispatch(new Ze(this.napTargetName)),this.napTargetName=""},e.prototype.cancelNap=function(e){this.store.dispatch(new Je(e))},e.prototype.rejectNap=function(e){this.store.dispatch(new Ye(e))},e.prototype.acceptNap=function(e){this.store.dispatch(new tn(e))},e.prototype.endNap=function(e){this.store.dispatch(new on(e))},e.prototype.negotiatePeace=function(e){},e}(),oo=[[""]],ro=a["\u0275crt"]({encapsulation:0,styles:oo,data:{}});function uo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,[" pending request "])),(e()(),a["\u0275eld"](2,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,Ka,Qa)),a["\u0275did"](3,638976,null,0,Ga,[a.ElementRef,Ha,[8,null]],null,null),(e()(),a["\u0275ted"](-1,0,["warning"]))],function(e,n){e(n,3,0)},function(e,n){e(n,2,0,a["\u0275nov"](n,3).inline)})}function so(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.cancelAlliance(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Cancel"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function co(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.endAlliance(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["End"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function po(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,uo)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,so)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,co)),a["\u0275did"](8,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,4,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,6,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,8,0,n.parent.context.$implicit.status===t.diplomacyStatus.ongoing)},function(e,n){e(n,2,0,n.parent.context.$implicit.targetAlliance.name)})}function fo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,[" pending request "])),(e()(),a["\u0275eld"](2,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,Ka,Qa)),a["\u0275did"](3,638976,null,0,Ga,[a.ElementRef,Ha,[8,null]],null,null),(e()(),a["\u0275ted"](-1,0,["warning"]))],function(e,n){e(n,3,0)},function(e,n){e(n,2,0,a["\u0275nov"](n,3).inline)})}function mo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.acceptAlliance(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Accept"]))],function(e,n){e(n,1,0,"primary")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function ho(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.rejectAlliance(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Reject"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function go(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.endAlliance(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["End"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function vo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,fo)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,mo)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,ho)),a["\u0275did"](8,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,go)),a["\u0275did"](10,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,4,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,6,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,8,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,10,0,n.parent.context.$implicit.status===t.diplomacyStatus.ongoing)},function(e,n){e(n,2,0,n.parent.context.$implicit.originAlliance.name)})}function bo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,po)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,vo)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,2,0,n.context.$implicit.originAllianceId===t.alliance.id),e(n,4,0,n.context.$implicit.targetAllianceId===t.alliance.id)},null)}function yo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["None"]))],null,null)}function wo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,[" pending request "])),(e()(),a["\u0275eld"](2,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,Ka,Qa)),a["\u0275did"](3,638976,null,0,Ga,[a.ElementRef,Ha,[8,null]],null,null),(e()(),a["\u0275ted"](-1,0,["warning"]))],function(e,n){e(n,3,0)},function(e,n){e(n,2,0,a["\u0275nov"](n,3).inline)})}function _o(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.cancelNap(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Cancel"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function xo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.endNap(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Cancel"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function Co(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,wo)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,_o)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,xo)),a["\u0275did"](8,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,4,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,6,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,8,0,n.parent.context.$implicit.status===t.diplomacyStatus.ongoing)},function(e,n){e(n,2,0,n.parent.context.$implicit.targetAlliance.name)})}function ko(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,[" pending request "])),(e()(),a["\u0275eld"](2,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,Ka,Qa)),a["\u0275did"](3,638976,null,0,Ga,[a.ElementRef,Ha,[8,null]],null,null),(e()(),a["\u0275ted"](-1,0,["warning"]))],function(e,n){e(n,3,0)},function(e,n){e(n,2,0,a["\u0275nov"](n,3).inline)})}function Ro(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.acceptNap(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Accept"]))],function(e,n){e(n,1,0,"primary")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function So(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.rejectNap(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Reject"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function Io(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.endNap(e.parent.parent.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Cancel"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function Oo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,ko)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Ro)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,So)),a["\u0275did"](8,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Io)),a["\u0275did"](10,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,4,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,6,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,8,0,n.parent.context.$implicit.status===t.diplomacyStatus.pending),e(n,10,0,n.parent.context.$implicit.status===t.diplomacyStatus.ongoing)},function(e,n){e(n,2,0,n.parent.context.$implicit.originAlliance.name)})}function Po(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Co)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Oo)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,2,0,n.context.$implicit.originAllianceId===t.alliance.id),e(n,4,0,n.context.$implicit.targetAllianceId===t.alliance.id)},null)}function To(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["None"]))],null,null)}function Do(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,["",""])),(e()(),a["\u0275eld"](5,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.negotiatePeace(e.context.$implicit)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](6,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Negotiate peace"]))],function(e,n){e(n,6,0,"primary")},function(e,n){e(n,2,0,n.context.$implicit.originAlliance?n.context.$implicit.originAlliance.name:n.context.$implicit.targetAlliance.name),e(n,4,0,n.context.$implicit.data.reason),e(n,5,0,a["\u0275nov"](n,6).disabled||null,"NoopAnimations"===a["\u0275nov"](n,6)._animationMode)})}function Ao(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["None"]))],null,null)}function Eo(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,29,"div",[["class","pb-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Alliances:"])),(e()(),a["\u0275and"](16777216,null,null,1,null,bo)),a["\u0275did"](4,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,yo)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](7,0,null,null,22,"div",[["class","pt-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](8,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Propose Alliance"])),(e()(),a["\u0275eld"](10,0,null,null,16,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,no.b,no.a)),a["\u0275did"](11,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],{floatLabel:[0,"floatLabel"]},null),a["\u0275qud"](335544320,1,{_control:0}),a["\u0275qud"](335544320,2,{_placeholderChild:0}),a["\u0275qud"](335544320,3,{_labelChild:0}),a["\u0275qud"](603979776,4,{_errorChildren:1}),a["\u0275qud"](603979776,5,{_hintChildren:1}),a["\u0275qud"](603979776,6,{_prefixChildren:1}),a["\u0275qud"](603979776,7,{_suffixChildren:1}),(e()(),a["\u0275eld"](19,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Alliance name"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,20)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,20).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,20)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,20)._compositionEnd(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,24)._focusChanged(!1)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,24)._focusChanged(!0)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,24)._onInput()&&l);"ngModelChange"===n&&(l=!1!==(i.allianceTargetName=t)&&l);return l},null,null)),a["\u0275did"](20,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](22,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](24,999424,null,0,lo.a,[a.ElementRef,Dl.a,[6,Si.m],[2,Si.p],[2,Si.h],Ml.d,[8,null],io.a,a.NgZone],{placeholder:[0,"placeholder"],type:[1,"type"]},null),a["\u0275did"](25,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[1,4]],to.c,null,[lo.a]),(e()(),a["\u0275eld"](27,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.proposeAlliance()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](28,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Propose"])),(e()(),a["\u0275eld"](30,0,null,null,29,"div",[["class","pb-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](31,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Non Aggression Pacts:"])),(e()(),a["\u0275and"](16777216,null,null,1,null,Po)),a["\u0275did"](34,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,To)),a["\u0275did"](36,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](37,0,null,null,22,"div",[["class","pt-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](38,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Propose Non Aggression Pact"])),(e()(),a["\u0275eld"](40,0,null,null,16,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,no.b,no.a)),a["\u0275did"](41,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],{floatLabel:[0,"floatLabel"]},null),a["\u0275qud"](335544320,8,{_control:0}),a["\u0275qud"](335544320,9,{_placeholderChild:0}),a["\u0275qud"](335544320,10,{_labelChild:0}),a["\u0275qud"](603979776,11,{_errorChildren:1}),a["\u0275qud"](603979776,12,{_hintChildren:1}),a["\u0275qud"](603979776,13,{_prefixChildren:1}),a["\u0275qud"](603979776,14,{_suffixChildren:1}),(e()(),a["\u0275eld"](49,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Alliance name"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,50)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,50).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,50)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,50)._compositionEnd(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,54)._focusChanged(!1)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,54)._focusChanged(!0)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,54)._onInput()&&l);"ngModelChange"===n&&(l=!1!==(i.napTargetName=t)&&l);return l},null,null)),a["\u0275did"](50,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](52,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](54,999424,null,0,lo.a,[a.ElementRef,Dl.a,[6,Si.m],[2,Si.p],[2,Si.h],Ml.d,[8,null],io.a,a.NgZone],{placeholder:[0,"placeholder"],type:[1,"type"]},null),a["\u0275did"](55,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[8,4]],to.c,null,[lo.a]),(e()(),a["\u0275eld"](57,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.proposeNap()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](58,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Propose"])),(e()(),a["\u0275eld"](60,0,null,null,47,"div",[["class","pb-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](61,0,null,null,46,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Wars:"])),(e()(),a["\u0275eld"](63,0,null,null,44,"div",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Do)),a["\u0275did"](65,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Ao)),a["\u0275did"](67,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](68,0,null,null,39,"div",[["class","pt-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](69,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Declare war"])),(e()(),a["\u0275eld"](71,0,null,null,16,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,no.b,no.a)),a["\u0275did"](72,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],{floatLabel:[0,"floatLabel"]},null),a["\u0275qud"](335544320,15,{_control:0}),a["\u0275qud"](335544320,16,{_placeholderChild:0}),a["\u0275qud"](335544320,17,{_labelChild:0}),a["\u0275qud"](603979776,18,{_errorChildren:1}),a["\u0275qud"](603979776,19,{_hintChildren:1}),a["\u0275qud"](603979776,20,{_prefixChildren:1}),a["\u0275qud"](603979776,21,{_suffixChildren:1}),(e()(),a["\u0275eld"](80,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Alliance name"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,81)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,81).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,81)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,81)._compositionEnd(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,85)._focusChanged(!1)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,85)._focusChanged(!0)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,85)._onInput()&&l);"ngModelChange"===n&&(l=!1!==(i.warTargetName=t)&&l);return l},null,null)),a["\u0275did"](81,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](83,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](85,999424,null,0,lo.a,[a.ElementRef,Dl.a,[6,Si.m],[2,Si.p],[2,Si.h],Ml.d,[8,null],io.a,a.NgZone],{placeholder:[0,"placeholder"],type:[1,"type"]},null),a["\u0275did"](86,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[15,4]],to.c,null,[lo.a]),(e()(),a["\u0275eld"](88,0,null,null,16,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,no.b,no.a)),a["\u0275did"](89,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],{floatLabel:[0,"floatLabel"]},null),a["\u0275qud"](335544320,22,{_control:0}),a["\u0275qud"](335544320,23,{_placeholderChild:0}),a["\u0275qud"](335544320,24,{_labelChild:0}),a["\u0275qud"](603979776,25,{_errorChildren:1}),a["\u0275qud"](603979776,26,{_hintChildren:1}),a["\u0275qud"](603979776,27,{_prefixChildren:1}),a["\u0275qud"](603979776,28,{_suffixChildren:1}),(e()(),a["\u0275eld"](97,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","War reason"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,98)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,98).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,98)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,98)._compositionEnd(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,102)._focusChanged(!1)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,102)._focusChanged(!0)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,102)._onInput()&&l);"ngModelChange"===n&&(l=!1!==(i.reason=t)&&l);return l},null,null)),a["\u0275did"](98,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](100,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](102,999424,null,0,lo.a,[a.ElementRef,Dl.a,[6,Si.m],[2,Si.p],[2,Si.h],Ml.d,[8,null],io.a,a.NgZone],{placeholder:[0,"placeholder"],type:[1,"type"]},null),a["\u0275did"](103,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[22,4]],to.c,null,[lo.a]),(e()(),a["\u0275eld"](105,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.declareWar()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](106,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Declare"]))],function(e,n){var t=n.component;e(n,4,0,t.alliances),e(n,6,0,!t.alliances.length);e(n,11,0,"never"),e(n,22,0,t.allianceTargetName);e(n,24,0,"Alliance name","text");e(n,28,0,!t.allianceTargetName.length,"warn"),e(n,34,0,t.naps),e(n,36,0,!t.naps.length);e(n,41,0,"never"),e(n,52,0,t.napTargetName);e(n,54,0,"Alliance name","text");e(n,58,0,!t.napTargetName.length,"warn"),e(n,65,0,t.wars),e(n,67,0,!t.wars.length);e(n,72,0,"never"),e(n,83,0,t.warTargetName);e(n,85,0,"Alliance name","text");e(n,89,0,"never"),e(n,100,0,t.reason);e(n,102,0,"War reason","text");e(n,106,0,!t.warTargetName.length||!t.reason.length,"warn")},function(e,n){e(n,10,1,["standard"==a["\u0275nov"](n,11).appearance,"fill"==a["\u0275nov"](n,11).appearance,"outline"==a["\u0275nov"](n,11).appearance,"legacy"==a["\u0275nov"](n,11).appearance,a["\u0275nov"](n,11)._control.errorState,a["\u0275nov"](n,11)._canLabelFloat,a["\u0275nov"](n,11)._shouldLabelFloat(),a["\u0275nov"](n,11)._hideControlPlaceholder(),a["\u0275nov"](n,11)._control.disabled,a["\u0275nov"](n,11)._control.autofilled,a["\u0275nov"](n,11)._control.focused,"accent"==a["\u0275nov"](n,11).color,"warn"==a["\u0275nov"](n,11).color,a["\u0275nov"](n,11)._shouldForward("untouched"),a["\u0275nov"](n,11)._shouldForward("touched"),a["\u0275nov"](n,11)._shouldForward("pristine"),a["\u0275nov"](n,11)._shouldForward("dirty"),a["\u0275nov"](n,11)._shouldForward("valid"),a["\u0275nov"](n,11)._shouldForward("invalid"),a["\u0275nov"](n,11)._shouldForward("pending"),!a["\u0275nov"](n,11)._animationsEnabled]),e(n,19,1,[a["\u0275nov"](n,24)._isServer,a["\u0275nov"](n,24).id,a["\u0275nov"](n,24).placeholder,a["\u0275nov"](n,24).disabled,a["\u0275nov"](n,24).required,a["\u0275nov"](n,24).readonly,a["\u0275nov"](n,24)._ariaDescribedby||null,a["\u0275nov"](n,24).errorState,a["\u0275nov"](n,24).required.toString(),a["\u0275nov"](n,25).ngClassUntouched,a["\u0275nov"](n,25).ngClassTouched,a["\u0275nov"](n,25).ngClassPristine,a["\u0275nov"](n,25).ngClassDirty,a["\u0275nov"](n,25).ngClassValid,a["\u0275nov"](n,25).ngClassInvalid,a["\u0275nov"](n,25).ngClassPending]),e(n,27,0,a["\u0275nov"](n,28).disabled||null,"NoopAnimations"===a["\u0275nov"](n,28)._animationMode),e(n,40,1,["standard"==a["\u0275nov"](n,41).appearance,"fill"==a["\u0275nov"](n,41).appearance,"outline"==a["\u0275nov"](n,41).appearance,"legacy"==a["\u0275nov"](n,41).appearance,a["\u0275nov"](n,41)._control.errorState,a["\u0275nov"](n,41)._canLabelFloat,a["\u0275nov"](n,41)._shouldLabelFloat(),a["\u0275nov"](n,41)._hideControlPlaceholder(),a["\u0275nov"](n,41)._control.disabled,a["\u0275nov"](n,41)._control.autofilled,a["\u0275nov"](n,41)._control.focused,"accent"==a["\u0275nov"](n,41).color,"warn"==a["\u0275nov"](n,41).color,a["\u0275nov"](n,41)._shouldForward("untouched"),a["\u0275nov"](n,41)._shouldForward("touched"),a["\u0275nov"](n,41)._shouldForward("pristine"),a["\u0275nov"](n,41)._shouldForward("dirty"),a["\u0275nov"](n,41)._shouldForward("valid"),a["\u0275nov"](n,41)._shouldForward("invalid"),a["\u0275nov"](n,41)._shouldForward("pending"),!a["\u0275nov"](n,41)._animationsEnabled]),e(n,49,1,[a["\u0275nov"](n,54)._isServer,a["\u0275nov"](n,54).id,a["\u0275nov"](n,54).placeholder,a["\u0275nov"](n,54).disabled,a["\u0275nov"](n,54).required,a["\u0275nov"](n,54).readonly,a["\u0275nov"](n,54)._ariaDescribedby||null,a["\u0275nov"](n,54).errorState,a["\u0275nov"](n,54).required.toString(),a["\u0275nov"](n,55).ngClassUntouched,a["\u0275nov"](n,55).ngClassTouched,a["\u0275nov"](n,55).ngClassPristine,a["\u0275nov"](n,55).ngClassDirty,a["\u0275nov"](n,55).ngClassValid,a["\u0275nov"](n,55).ngClassInvalid,a["\u0275nov"](n,55).ngClassPending]),e(n,57,0,a["\u0275nov"](n,58).disabled||null,"NoopAnimations"===a["\u0275nov"](n,58)._animationMode),e(n,71,1,["standard"==a["\u0275nov"](n,72).appearance,"fill"==a["\u0275nov"](n,72).appearance,"outline"==a["\u0275nov"](n,72).appearance,"legacy"==a["\u0275nov"](n,72).appearance,a["\u0275nov"](n,72)._control.errorState,a["\u0275nov"](n,72)._canLabelFloat,a["\u0275nov"](n,72)._shouldLabelFloat(),a["\u0275nov"](n,72)._hideControlPlaceholder(),a["\u0275nov"](n,72)._control.disabled,a["\u0275nov"](n,72)._control.autofilled,a["\u0275nov"](n,72)._control.focused,"accent"==a["\u0275nov"](n,72).color,"warn"==a["\u0275nov"](n,72).color,a["\u0275nov"](n,72)._shouldForward("untouched"),a["\u0275nov"](n,72)._shouldForward("touched"),a["\u0275nov"](n,72)._shouldForward("pristine"),a["\u0275nov"](n,72)._shouldForward("dirty"),a["\u0275nov"](n,72)._shouldForward("valid"),a["\u0275nov"](n,72)._shouldForward("invalid"),a["\u0275nov"](n,72)._shouldForward("pending"),!a["\u0275nov"](n,72)._animationsEnabled]),e(n,80,1,[a["\u0275nov"](n,85)._isServer,a["\u0275nov"](n,85).id,a["\u0275nov"](n,85).placeholder,a["\u0275nov"](n,85).disabled,a["\u0275nov"](n,85).required,a["\u0275nov"](n,85).readonly,a["\u0275nov"](n,85)._ariaDescribedby||null,a["\u0275nov"](n,85).errorState,a["\u0275nov"](n,85).required.toString(),a["\u0275nov"](n,86).ngClassUntouched,a["\u0275nov"](n,86).ngClassTouched,a["\u0275nov"](n,86).ngClassPristine,a["\u0275nov"](n,86).ngClassDirty,a["\u0275nov"](n,86).ngClassValid,a["\u0275nov"](n,86).ngClassInvalid,a["\u0275nov"](n,86).ngClassPending]),e(n,88,1,["standard"==a["\u0275nov"](n,89).appearance,"fill"==a["\u0275nov"](n,89).appearance,"outline"==a["\u0275nov"](n,89).appearance,"legacy"==a["\u0275nov"](n,89).appearance,a["\u0275nov"](n,89)._control.errorState,a["\u0275nov"](n,89)._canLabelFloat,a["\u0275nov"](n,89)._shouldLabelFloat(),a["\u0275nov"](n,89)._hideControlPlaceholder(),a["\u0275nov"](n,89)._control.disabled,a["\u0275nov"](n,89)._control.autofilled,a["\u0275nov"](n,89)._control.focused,"accent"==a["\u0275nov"](n,89).color,"warn"==a["\u0275nov"](n,89).color,a["\u0275nov"](n,89)._shouldForward("untouched"),a["\u0275nov"](n,89)._shouldForward("touched"),a["\u0275nov"](n,89)._shouldForward("pristine"),a["\u0275nov"](n,89)._shouldForward("dirty"),a["\u0275nov"](n,89)._shouldForward("valid"),a["\u0275nov"](n,89)._shouldForward("invalid"),a["\u0275nov"](n,89)._shouldForward("pending"),!a["\u0275nov"](n,89)._animationsEnabled]),e(n,97,1,[a["\u0275nov"](n,102)._isServer,a["\u0275nov"](n,102).id,a["\u0275nov"](n,102).placeholder,a["\u0275nov"](n,102).disabled,a["\u0275nov"](n,102).required,a["\u0275nov"](n,102).readonly,a["\u0275nov"](n,102)._ariaDescribedby||null,a["\u0275nov"](n,102).errorState,a["\u0275nov"](n,102).required.toString(),a["\u0275nov"](n,103).ngClassUntouched,a["\u0275nov"](n,103).ngClassTouched,a["\u0275nov"](n,103).ngClassPristine,a["\u0275nov"](n,103).ngClassDirty,a["\u0275nov"](n,103).ngClassValid,a["\u0275nov"](n,103).ngClassInvalid,a["\u0275nov"](n,103).ngClassPending]),e(n,105,0,a["\u0275nov"](n,106).disabled||null,"NoopAnimations"===a["\u0275nov"](n,106)._animationMode)})}a["\u0275ccf"]("alliance-diplomacy",ao,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"alliance-diplomacy",[],null,null,null,Eo,ro)),a["\u0275did"](1,573440,null,0,ao,[O.n],null,null)],null,null)},{alliance:"alliance"},{},[]);var jo=new a.InjectionToken("mat-checkbox-click-action"),Fo=0,Mo={provide:Si.l,useExisting:Object(a.forwardRef)(function(){return zo}),multi:!0},No={Init:0,Checked:1,Unchecked:2,Indeterminate:3};No[No.Init]="Init",No[No.Checked]="Checked",No[No.Unchecked]="Unchecked",No[No.Indeterminate]="Indeterminate";var Lo=function(){return function(){}}(),$o=function(){return function(e){this._elementRef=e}}(),zo=function(e){function n(n,t,l,i,o,r,u){var s=e.call(this,n)||this;return s._changeDetectorRef=t,s._focusMonitor=l,s._ngZone=i,s._clickAction=r,s._animationMode=u,s.ariaLabel="",s.ariaLabelledby=null,s._uniqueId="mat-checkbox-"+ ++Fo,s.id=s._uniqueId,s.labelPosition="after",s.name=null,s.change=new a.EventEmitter,s.indeterminateChange=new a.EventEmitter,s._onTouched=function(){},s._currentAnimationClass="",s._currentCheckState=No.Init,s._controlValueAccessorChangeFn=function(){},s._checked=!1,s._disabled=!1,s._indeterminate=!1,s.tabIndex=parseInt(o)||0,s}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"required",{get:function(){return this._required},set:function(e){this._required=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){var e=this;this._focusMonitor.monitor(this._inputElement.nativeElement).subscribe(function(n){return e._onInputFocusChange(n)})},n.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._inputElement.nativeElement)},Object.defineProperty(n.prototype,"checked",{get:function(){return this._checked},set:function(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"disabled",{get:function(){return this._disabled},set:function(e){e!=this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(e){var n=e!=this._indeterminate;this._indeterminate=e,n&&(this._indeterminate?this._transitionCheckState(No.Indeterminate):this._transitionCheckState(this.checked?No.Checked:No.Unchecked),this.indeterminateChange.emit(this._indeterminate))},enumerable:!0,configurable:!0}),n.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},n.prototype._onLabelTextChange=function(){this._changeDetectorRef.markForCheck()},n.prototype.writeValue=function(e){this.checked=!!e},n.prototype.registerOnChange=function(e){this._controlValueAccessorChangeFn=e},n.prototype.registerOnTouched=function(e){this._onTouched=e},n.prototype.setDisabledState=function(e){this.disabled=e},n.prototype._getAriaChecked=function(){return this.checked?"true":this.indeterminate?"mixed":"false"},n.prototype._transitionCheckState=function(e){var n=this._currentCheckState,t=this._elementRef.nativeElement;if(n!==e&&(this._currentAnimationClass.length>0&&t.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){t.classList.add(this._currentAnimationClass);var l=this._currentAnimationClass;this._ngZone.runOutsideAngular(function(){setTimeout(function(){t.classList.remove(l)},1e3)})}},n.prototype._emitChangeEvent=function(){var e=new Lo;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)},n.prototype._onInputFocusChange=function(e){var n=this;this._focusRipple||"keyboard"!==e?e||(this._focusRipple&&(this._focusRipple.fadeOut(),this._focusRipple=null),Promise.resolve().then(function(){return n._onTouched()})):this._focusRipple=this.ripple.launch(0,0,{persistent:!0})},n.prototype.toggle=function(){this.checked=!this.checked},n.prototype._onInputClick=function(e){var n=this;e.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(function(){n._indeterminate=!1,n.indeterminateChange.emit(n._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?No.Checked:No.Unchecked),this._emitChangeEvent())},n.prototype.focus=function(){this._focusMonitor.focusVia(this._inputElement.nativeElement,"keyboard")},n.prototype._onInteractionEvent=function(e){e.stopPropagation()},n.prototype._getAnimationClassForCheckStateTransition=function(e,n){if("NoopAnimations"===this._animationMode)return"";var t="";switch(e){case No.Init:if(n===No.Checked)t="unchecked-checked";else{if(n!=No.Indeterminate)return"";t="unchecked-indeterminate"}break;case No.Unchecked:t=n===No.Checked?"unchecked-checked":"unchecked-indeterminate";break;case No.Checked:t=n===No.Unchecked?"checked-unchecked":"checked-indeterminate";break;case No.Indeterminate:t=n===No.Checked?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+t},n.decorators=[{type:a.Component,args:[{selector:"mat-checkbox",template:'<label [attr.for]="inputId" class="mat-checkbox-layout" #label><div class="mat-checkbox-inner-container" [class.mat-checkbox-inner-container-no-side-margin]="!checkboxLabel.textContent || !checkboxLabel.textContent.trim()"><input #input class="mat-checkbox-input cdk-visually-hidden" type="checkbox" [id]="inputId" [required]="required" [checked]="checked" [attr.value]="value" [disabled]="disabled" [attr.name]="name" [tabIndex]="tabIndex" [indeterminate]="indeterminate" [attr.aria-label]="ariaLabel || null" [attr.aria-labelledby]="ariaLabelledby" [attr.aria-checked]="_getAriaChecked()" (change)="_onInteractionEvent($event)" (click)="_onInputClick($event)"><div matRipple class="mat-checkbox-ripple" [matRippleTrigger]="label" [matRippleDisabled]="_isRippleDisabled()" [matRippleRadius]="25" [matRippleCentered]="true" [matRippleAnimation]="{enterDuration: 150}"></div><div class="mat-checkbox-frame"></div><div class="mat-checkbox-background"><svg version="1.1" focusable="false" class="mat-checkbox-checkmark" viewBox="0 0 24 24" xml:space="preserve"><path class="mat-checkbox-checkmark-path" fill="none" stroke="white" d="M4.1,12.7 9,17.6 20.3,6.3"/></svg><div class="mat-checkbox-mixedmark"></div></div></div><span class="mat-checkbox-label" #checkboxLabel (cdkObserveContent)="_onLabelTextChange()"><span style="display:none">&nbsp;</span><ng-content></ng-content></span></label>',styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.91026}50%{animation-timing-function:cubic-bezier(0,0,.2,.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0,0,0,1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(.4,0,1,1);stroke-dashoffset:0}to{stroke-dashoffset:-22.91026}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}100%,32.8%{opacity:0;transform:scaleX(0)}}.mat-checkbox-checkmark,.mat-checkbox-mixedmark{width:calc(100% - 4px)}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox-layout{cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-inner-container{display:inline-block;height:20px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:20px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0,0,.2,.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0,0,.2,.1),opacity 90ms cubic-bezier(0,0,.2,.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.91026;stroke-dasharray:22.91026;stroke-width:2.66667px}.mat-checkbox-mixedmark{height:2px;opacity:0;transform:scaleX(0) rotate(0)}@media screen and (-ms-high-contrast:active){.mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0s mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0s mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:.3s linear 0s mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-ripple{position:absolute;left:calc(50% - 25px);top:calc(50% - 25px);height:50px;width:50px;z-index:1;pointer-events:none}"],exportAs:"matCheckbox",host:{class:"mat-checkbox","[id]":"id","[class.mat-checkbox-indeterminate]":"indeterminate","[class.mat-checkbox-checked]":"checked","[class.mat-checkbox-disabled]":"disabled","[class.mat-checkbox-label-before]":'labelPosition == "before"',"[class._mat-animation-noopable]":"_animationMode === 'NoopAnimations'"},providers:[Mo],inputs:["disableRipple","color","tabIndex"],encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:a.ElementRef},{type:a.ChangeDetectorRef},{type:kl.f},{type:a.NgZone},{type:void 0,decorators:[{type:a.Attribute,args:["tabindex"]}]},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[jo]}]},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[ma.a]}]}]},n.propDecorators={ariaLabel:[{type:a.Input,args:["aria-label"]}],ariaLabelledby:[{type:a.Input,args:["aria-labelledby"]}],id:[{type:a.Input}],required:[{type:a.Input}],labelPosition:[{type:a.Input}],name:[{type:a.Input}],change:[{type:a.Output}],indeterminateChange:[{type:a.Output}],value:[{type:a.Input}],_inputElement:[{type:a.ViewChild,args:["input"]}],ripple:[{type:a.ViewChild,args:[Ml.x]}],checked:[{type:a.Input}],disabled:[{type:a.Input}],indeterminate:[{type:a.Input}]},n}(Object(Ml.J)(Object(Ml.E)(Object(Ml.F)(Object(Ml.G)($o)),"accent"))),Vo={provide:Si.k,useExisting:Object(a.forwardRef)(function(){return qo}),multi:!0},qo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"mat-checkbox[required][formControlName],\n             mat-checkbox[required][formControl], mat-checkbox[required][ngModel]",providers:[Vo],host:{"[attr.required]":'required ? "" : null'}}]}],n}(Si.b),Uo=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[Fl.CommonModule,Ml.y,Ml.n,Zl.d],exports:[zo,qo,Ml.n],declarations:[zo,qo]}]}],e}(),Bo=(a["\u0275cmf"](Uo,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,Fl.NgLocalization,Fl.NgLocaleLocalization,[a.LOCALE_ID,[2,Fl["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](4608,Zl.c,Zl.c,[]),a["\u0275mpd"](1073742336,Fl.CommonModule,Fl.CommonModule,[]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,Dl.b,Dl.b,[]),a["\u0275mpd"](1073742336,Ml.y,Ml.y,[]),a["\u0275mpd"](1073742336,Zl.d,Zl.d,[]),a["\u0275mpd"](1073742336,Uo,Uo,[])])}),a["\u0275crt"]({encapsulation:2,styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.91026}50%{animation-timing-function:cubic-bezier(0,0,.2,.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0,0,0,1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(.4,0,1,1);stroke-dashoffset:0}to{stroke-dashoffset:-22.91026}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}100%,32.8%{opacity:0;transform:scaleX(0)}}.mat-checkbox-checkmark,.mat-checkbox-mixedmark{width:calc(100% - 4px)}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox-layout{cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-inner-container{display:inline-block;height:20px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:20px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0,0,.2,.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0,0,.2,.1),opacity 90ms cubic-bezier(0,0,.2,.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.91026;stroke-dasharray:22.91026;stroke-width:2.66667px}.mat-checkbox-mixedmark{height:2px;opacity:0;transform:scaleX(0) rotate(0)}@media screen and (-ms-high-contrast:active){.mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0s mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0s mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:.3s linear 0s mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-ripple{position:absolute;left:calc(50% - 25px);top:calc(50% - 25px);height:50px;width:50px;z-index:1;pointer-events:none}"],data:{}}));function Ho(e){return a["\u0275vid"](2,[a["\u0275qud"](402653184,1,{_inputElement:0}),a["\u0275qud"](402653184,2,{ripple:0}),(e()(),a["\u0275eld"](2,0,[["label",1]],null,15,"label",[["class","mat-checkbox-layout"]],[[1,"for",0]],null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,9,"div",[["class","mat-checkbox-inner-container"]],[[2,"mat-checkbox-inner-container-no-side-margin",null]],null,null,null,null)),(e()(),a["\u0275eld"](4,0,[[1,0],["input",1]],null,0,"input",[["class","mat-checkbox-input cdk-visually-hidden"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"checked",0],[1,"value",0],[8,"disabled",0],[1,"name",0],[8,"tabIndex",0],[8,"indeterminate",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-checked",0]],[[null,"change"],[null,"click"]],function(e,n,t){var l=!0,i=e.component;"change"===n&&(l=!1!==i._onInteractionEvent(t)&&l);"click"===n&&(l=!1!==i._onInputClick(t)&&l);return l},null,null)),(e()(),a["\u0275eld"](5,0,null,null,2,"div",[["class","mat-checkbox-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),a["\u0275did"](6,212992,[[2,4]],0,Ml.x,[a.ElementRef,a.NgZone,Dl.a,[2,Ml.m],[2,ma.a]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),a["\u0275pod"](7,{enterDuration:0}),(e()(),a["\u0275eld"](8,0,null,null,0,"div",[["class","mat-checkbox-frame"]],null,null,null,null,null)),(e()(),a["\u0275eld"](9,0,null,null,3,"div",[["class","mat-checkbox-background"]],null,null,null,null,null)),(e()(),a["\u0275eld"](10,0,null,null,1,":svg:svg",[[":xml:space","preserve"],["class","mat-checkbox-checkmark"],["focusable","false"],["version","1.1"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(e()(),a["\u0275eld"](11,0,null,null,0,":svg:path",[["class","mat-checkbox-checkmark-path"],["d","M4.1,12.7 9,17.6 20.3,6.3"],["fill","none"],["stroke","white"]],null,null,null,null,null)),(e()(),a["\u0275eld"](12,0,null,null,0,"div",[["class","mat-checkbox-mixedmark"]],null,null,null,null,null)),(e()(),a["\u0275eld"](13,0,[["checkboxLabel",1]],null,4,"span",[["class","mat-checkbox-label"]],null,[[null,"cdkObserveContent"]],function(e,n,t){var l=!0,i=e.component;"cdkObserveContent"===n&&(l=!1!==i._onLabelTextChange()&&l);return l},null,null)),a["\u0275did"](14,1196032,null,0,Zl.a,[Zl.b,a.ElementRef,a.NgZone],null,{event:"cdkObserveContent"}),(e()(),a["\u0275eld"](15,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["\xa0"])),a["\u0275ncd"](null,0)],function(e,n){var t=n.component;e(n,6,0,!0,25,e(n,7,0,150),t._isRippleDisabled(),a["\u0275nov"](n,2))},function(e,n){var t=n.component;e(n,2,0,t.inputId),e(n,3,0,!a["\u0275nov"](n,13).textContent||!a["\u0275nov"](n,13).textContent.trim()),e(n,4,1,[t.inputId,t.required,t.checked,t.value,t.disabled,t.name,t.tabIndex,t.indeterminate,t.ariaLabel||null,t.ariaLabelledby,t._getAriaChecked()]),e(n,5,0,a["\u0275nov"](n,6).unbounded)})}a["\u0275ccf"]("mat-checkbox",zo,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],null,null,Ho,Bo)),a["\u0275prd"](5120,null,Si.l,function(e){return[e]},[zo]),a["\u0275did"](2,4374528,null,0,zo,[a.ElementRef,a.ChangeDetectorRef,kl.f,a.NgZone,[8,null],[2,jo],[2,ma.a]],null,null)],null,function(e,n){e(n,0,0,a["\u0275nov"](n,2).id,a["\u0275nov"](n,2).indeterminate,a["\u0275nov"](n,2).checked,a["\u0275nov"](n,2).disabled,"before"==a["\u0275nov"](n,2).labelPosition,"NoopAnimations"===a["\u0275nov"](n,2)._animationMode)})},{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:"aria-label",ariaLabelledby:"aria-labelledby",id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},{change:"change",indeterminateChange:"indeterminateChange"},["*"]);var Wo={prefix:"far",iconName:"envelope-open",icon:[512,512,[],"f2b6","M494.586 164.516c-4.697-3.883-111.723-89.95-135.251-108.657C337.231 38.191 299.437 0 256 0c-43.205 0-80.636 37.717-103.335 55.859-24.463 19.45-131.07 105.195-135.15 108.549A48.004 48.004 0 0 0 0 201.485V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V201.509a48 48 0 0 0-17.414-36.993zM464 458a6 6 0 0 1-6 6H54a6 6 0 0 1-6-6V204.347c0-1.813.816-3.526 2.226-4.665 15.87-12.814 108.793-87.554 132.364-106.293C200.755 78.88 232.398 48 256 48c23.693 0 55.857 31.369 73.41 45.389 23.573 18.741 116.503 93.493 132.366 106.316a5.99 5.99 0 0 1 2.224 4.663V458zm-31.991-187.704c4.249 5.159 3.465 12.795-1.745 16.981-28.975 23.283-59.274 47.597-70.929 56.863C336.636 362.283 299.205 400 256 400c-43.452 0-81.287-38.237-103.335-55.86-11.279-8.967-41.744-33.413-70.927-56.865-5.21-4.187-5.993-11.822-1.745-16.981l15.258-18.528c4.178-5.073 11.657-5.843 16.779-1.726 28.618 23.001 58.566 47.035 70.56 56.571C200.143 320.631 232.307 352 256 352c23.602 0 55.246-30.88 73.41-45.389 11.994-9.535 41.944-33.57 70.563-56.568 5.122-4.116 12.601-3.346 16.778 1.727l15.258 18.526z"]},Zo={prefix:"far",iconName:"id-badge",icon:[384,512,[],"f2c1","M336 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm0 464H48V48h288v416zM144 112h96c8.8 0 16-7.2 16-16s-7.2-16-16-16h-96c-8.8 0-16 7.2-16 16s7.2 16 16 16zm48 176c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm-89.6 128h179.2c12.4 0 22.4-8.6 22.4-19.2v-19.2c0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6v19.2c0 10.6 10 19.2 22.4 19.2z"]},Xo={prefix:"far",iconName:"id-card",icon:[576,512,[],"f2c2","M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 400H303.2c.9-4.5.8 3.6.8-22.4 0-31.8-30.1-57.6-67.2-57.6-10.8 0-18.7 8-44.8 8-26.9 0-33.4-8-44.8-8-37.1 0-67.2 25.8-67.2 57.6 0 26-.2 17.9.8 22.4H48V144h480v288zm-168-80h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm0-64h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8H360c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8zm-168 96c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64z"]},Go={prefix:"far",iconName:"user-circle",icon:[496,512,[],"f2bd","M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z"]},Yo=t("x1Tk"),Qo=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Ko={viewInvites:[["fas","eye"],["far","envelope-open"]],editInvites:[["fas","edit"],["far","envelope-open"]],manageForum:[["fas","edit"],["fas","comments"]],viewManagement:[["fas","eye"],["far","id-card"]],manageRoles:[["fas","edit"],["far","id-badge"]],editProfile:[["fas","edit"],["far","id-card"]],manageAlliance:[["fas","edit"],["fas","tasks"]]},Jo=function(){function e(e,n){this.store=e,this.formBuilder=n,this.openAllianceProfile=new a.EventEmitter,this.openPlayerProfile=new a.EventEmitter,this.alliancePermissions=z.ALLIANCE_PERMISSIONS,this.allianceName="",this.inviteTarget="",this.rankings$=this.store.select(xt),this.invitations$=this.store.select(pt),this.allianceData$=this.store.select(ft).pipe(Object(Yo.a)(this.rankings$),Object(s.a)(function(e){var n=e[0],t=n.alliance,l=n.role,i=e[1];return{role:l,alliance:t?Qo({},t,{members:t.members.map(function(e){var n=i[e.id],t=n&&n.score?n.score:0;return Qo({},e,{score:t})}).sort(function(e,n){return n.score-e.score||e.id-n.id})}):null}})),mi.d.add(hi.t,hi.j,hi.h,Wo,hi.g,Xo,Zo,hi.s)}return e.prototype.ngOnInit=function(){},e.prototype.onOpenAllianceProfile=function(e){this.store.dispatch(new pn(e))},e.prototype.createAlliance=function(){this.allianceName.length>3&&this.store.dispatch(new B(this.allianceName))},e.prototype.acceptInvite=function(e){this.store.dispatch(new ce(e))},e.prototype.rejectInvite=function(e){this.store.dispatch(new fe(e))},e.prototype.createInvite=function(){this.store.dispatch(new ie(this.inviteTarget))},e.prototype.cancelInvite=function(e){this.store.dispatch(new re(e))},e.prototype.updatePlayerRole=function(e){this.store.dispatch(new ye(e))},e.prototype.roleUpdate=function(e){this.store.dispatch(new ge(e))},e.prototype.roleRemove=function(e){this.store.dispatch(new xe(e))},e.prototype.removeMember=function(e){this.store.dispatch(new Re(e))},e.prototype.destroyAlliance=function(){this.store.dispatch(new Z)},e.prototype.leaveAlliance=function(){this.store.dispatch(new Y)},e}(),er=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},nr=function(){function e(e){this.formBuilder=e,this.roleUpdate=new a.EventEmitter,this.roleRemove=new a.EventEmitter,this.alliancePermissions=z.ALLIANCE_PERMISSIONS,this.permissionNames=Ko,this.rolePermissionForm=this.formBuilder.group({roles:this.formBuilder.array([]),newRoles:this.formBuilder.array([])}),mi.d.add(hi.u,hi.o)}return Object.defineProperty(e.prototype,"newRoles",{get:function(){return this.rolePermissionForm.controls.newRoles},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){var n=this,t=e.alliance.currentValue,l=t.roles.map(function(e){return n.formBuilder.group({id:e.id,name:[e.name,Si.v.required],permissions:e.id===t.masterRoleId?n.formBuilder.group(Object.entries(e.permissions).reduce(function(e,t){var l,i=t[0],a=t[1];return er({},e,((l={})[i]=n.formBuilder.control({value:a,disabled:!0}),l))},{})):n.formBuilder.group(e.permissions)})});this.rolePermissionForm.setControl("roles",this.formBuilder.array(l))},e.prototype.insertRole=function(){this.rolePermissionForm.get("newRoles").push(this.formBuilder.group({name:["",Si.v.required],permissions:this.formBuilder.group(this.alliancePermissions.reduce(function(e,n){return er({},e,((t={})[n]=!1,t));var t},{}))}))},e.prototype.removeRole=function(e){this.rolePermissionForm.controls.newRoles.removeAt(e)},e.prototype.deleteRole=function(e){this.roleRemove.emit(e)},e.prototype.saveChanges=function(){var e=this,n=this.rolePermissionForm.controls.roles,t=n.touched?n.value.filter(function(n,t){var l=e.alliance.roles[t];return n.name.toLowerCase()!==l.name.toLowerCase()||n.id!==e.alliance.masterRoleId&&e.alliancePermissions.some(function(e){return n.permissions[e]!==l.permissions[e]})}):[];this.roleUpdate.emit({roles:t,newRoles:this.rolePermissionForm.controls.newRoles.value}),this.rolePermissionForm.setControl("newRoles",this.formBuilder.array([]))},e}(),tr=[[".heading-split[_ngcontent-%COMP%]{position:relative}"]],lr=a["\u0275crt"]({encapsulation:0,styles:tr,data:{}});function ir(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[["class","col text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](2,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),(e()(),a["\u0275eld"](3,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](4,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null)],function(e,n){var t=n.component;e(n,2,0,t.permissionNames[n.context.$implicit][0]),e(n,4,0,t.permissionNames[n.context.$implicit][1])},function(e,n){e(n,1,0,a["\u0275nov"](n,2).renderedIconHTML),e(n,3,0,a["\u0275nov"](n,4).renderedIconHTML)})}function ar(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"mat-hint",[["align","start"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),a["\u0275did"](1,16384,[[5,4]],0,to.e,[],{align:[0,"align"]},null),(e()(),a["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Default role"]))],function(e,n){e(n,1,0,"start")},function(e,n){e(n,0,0,"end"==a["\u0275nov"](n,1).align,a["\u0275nov"](n,1).id,null)})}function or(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"mat-hint",[["align","start"],["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),a["\u0275did"](1,16384,[[5,4]],0,to.e,[],{align:[0,"align"]},null),(e()(),a["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Master role"]))],function(e,n){e(n,1,0,"start")},function(e,n){e(n,0,0,"end"==a["\u0275nov"](n,1).align,a["\u0275nov"](n,1).id,null)})}function rr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,16777216,null,null,10,"div",[["class","col text-center"],["formGroupName","permissions"],["matTooltip","Can't change master role permissions"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,n,t){var l=!0;"longpress"===n&&(l=!1!==a["\u0275nov"](e,1).show()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,1)._handleKeydown(t)&&l);"touchend"===n&&(l=!1!==a["\u0275nov"](e,1)._handleTouchend()&&l);return l},null,null)),a["\u0275did"](1,147456,null,0,Bl,[Pl.c,a.ElementRef,Tl.c,a.ViewContainerRef,a.NgZone,Dl.a,kl.c,kl.f,zl,[2,Rl.b],[2,Ul]],{disabled:[0,"disabled"],message:[1,"message"]},null),a["\u0275did"](2,212992,null,0,Si.i,[[3,Si.c],[8,null],[8,null]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.c,null,[Si.i]),a["\u0275did"](4,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275eld"](5,0,null,null,5,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Ho,Bo)),a["\u0275did"](6,4374528,null,0,zo,[a.ElementRef,a.ChangeDetectorRef,kl.f,a.NgZone,[8,null],[2,jo],[2,ma.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[zo]),a["\u0275did"](8,671744,null,0,Si.g,[[3,Si.c],[8,null],[8,null],[6,Si.l],[2,Si.A]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.m,null,[Si.g]),a["\u0275did"](10,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,1,0,n.parent.context.$implicit.id!==t.alliance.masterRoleId,"Can't change master role permissions");e(n,2,0,"permissions"),e(n,8,0,n.context.$implicit)},function(e,n){e(n,0,0,a["\u0275nov"](n,4).ngClassUntouched,a["\u0275nov"](n,4).ngClassTouched,a["\u0275nov"](n,4).ngClassPristine,a["\u0275nov"](n,4).ngClassDirty,a["\u0275nov"](n,4).ngClassValid,a["\u0275nov"](n,4).ngClassInvalid,a["\u0275nov"](n,4).ngClassPending),e(n,5,1,[a["\u0275nov"](n,6).id,a["\u0275nov"](n,6).indeterminate,a["\u0275nov"](n,6).checked,a["\u0275nov"](n,6).disabled,"before"==a["\u0275nov"](n,6).labelPosition,"NoopAnimations"===a["\u0275nov"](n,6)._animationMode,a["\u0275nov"](n,10).ngClassUntouched,a["\u0275nov"](n,10).ngClassTouched,a["\u0275nov"](n,10).ngClassPristine,a["\u0275nov"](n,10).ngClassDirty,a["\u0275nov"](n,10).ngClassValid,a["\u0275nov"](n,10).ngClassInvalid,a["\u0275nov"](n,10).ngClassPending])})}function ur(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,32,"div",[["class","row align-items-center"],["style","border-bottom: 1px solid var(--secondary);"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),a["\u0275did"](1,212992,null,0,Si.i,[[3,Si.c],[8,null],[8,null]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.c,null,[Si.i]),a["\u0275did"](3,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275eld"](4,0,null,null,21,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](5,0,null,null,20,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,no.b,no.a)),a["\u0275did"](6,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],{floatLabel:[0,"floatLabel"]},null),a["\u0275qud"](335544320,1,{_control:0}),a["\u0275qud"](335544320,2,{_placeholderChild:0}),a["\u0275qud"](335544320,3,{_labelChild:0}),a["\u0275qud"](603979776,4,{_errorChildren:1}),a["\u0275qud"](603979776,5,{_hintChildren:1}),a["\u0275qud"](603979776,6,{_prefixChildren:1}),a["\u0275qud"](603979776,7,{_suffixChildren:1}),(e()(),a["\u0275eld"](14,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""],["placeholder","Role name"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var l=!0;"input"===n&&(l=!1!==a["\u0275nov"](e,15)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,15).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,15)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,15)._compositionEnd(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,19)._focusChanged(!1)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,19)._focusChanged(!0)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,19)._onInput()&&l);return l},null,null)),a["\u0275did"](15,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](17,671744,null,0,Si.g,[[3,Si.c],[8,null],[8,null],[6,Si.l],[2,Si.A]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.m,null,[Si.g]),a["\u0275did"](19,999424,null,0,lo.a,[a.ElementRef,Dl.a,[6,Si.m],[2,Si.p],[2,Si.h],Ml.d,[8,null],io.a,a.NgZone],{placeholder:[0,"placeholder"],type:[1,"type"]},null),a["\u0275did"](20,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[1,4]],to.c,null,[lo.a]),(e()(),a["\u0275and"](16777216,null,6,1,null,ar)),a["\u0275did"](23,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,6,1,null,or)),a["\u0275did"](25,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](26,16777216,null,null,4,"div",[["class","col text-center"],["matTooltip","Master and default roles can't be deleted"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,n,t){var l=!0;"longpress"===n&&(l=!1!==a["\u0275nov"](e,27).show()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,27)._handleKeydown(t)&&l);"touchend"===n&&(l=!1!==a["\u0275nov"](e,27)._handleTouchend()&&l);return l},null,null)),a["\u0275did"](27,147456,null,0,Bl,[Pl.c,a.ElementRef,Tl.c,a.ViewContainerRef,a.NgZone,Dl.a,kl.c,kl.f,zl,[2,Rl.b],[2,Ul]],{disabled:[0,"disabled"],message:[1,"message"]},null),(e()(),a["\u0275eld"](28,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.deleteRole(e.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](29,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Delete"])),(e()(),a["\u0275and"](16777216,null,null,1,null,rr)),a["\u0275did"](32,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,1,0,n.context.index);e(n,6,0,"never");e(n,17,0,"name");e(n,19,0,"Role name","text"),e(n,23,0,n.context.$implicit.id===t.alliance.DefaultRoleId),e(n,25,0,n.context.$implicit.id===t.alliance.MasterRoleId);e(n,27,0,n.context.$implicit.id!==t.alliance.defaultRoleId&&n.context.$implicit.id!==t.alliance.masterRoleId,"Master and default roles can't be deleted");e(n,29,0,n.context.$implicit.id===t.alliance.defaultRoleId||n.context.$implicit.id===t.alliance.masterRoleId,"warn"),e(n,32,0,t.alliancePermissions)},function(e,n){e(n,0,0,a["\u0275nov"](n,3).ngClassUntouched,a["\u0275nov"](n,3).ngClassTouched,a["\u0275nov"](n,3).ngClassPristine,a["\u0275nov"](n,3).ngClassDirty,a["\u0275nov"](n,3).ngClassValid,a["\u0275nov"](n,3).ngClassInvalid,a["\u0275nov"](n,3).ngClassPending),e(n,5,1,["standard"==a["\u0275nov"](n,6).appearance,"fill"==a["\u0275nov"](n,6).appearance,"outline"==a["\u0275nov"](n,6).appearance,"legacy"==a["\u0275nov"](n,6).appearance,a["\u0275nov"](n,6)._control.errorState,a["\u0275nov"](n,6)._canLabelFloat,a["\u0275nov"](n,6)._shouldLabelFloat(),a["\u0275nov"](n,6)._hideControlPlaceholder(),a["\u0275nov"](n,6)._control.disabled,a["\u0275nov"](n,6)._control.autofilled,a["\u0275nov"](n,6)._control.focused,"accent"==a["\u0275nov"](n,6).color,"warn"==a["\u0275nov"](n,6).color,a["\u0275nov"](n,6)._shouldForward("untouched"),a["\u0275nov"](n,6)._shouldForward("touched"),a["\u0275nov"](n,6)._shouldForward("pristine"),a["\u0275nov"](n,6)._shouldForward("dirty"),a["\u0275nov"](n,6)._shouldForward("valid"),a["\u0275nov"](n,6)._shouldForward("invalid"),a["\u0275nov"](n,6)._shouldForward("pending"),!a["\u0275nov"](n,6)._animationsEnabled]),e(n,14,1,[a["\u0275nov"](n,19)._isServer,a["\u0275nov"](n,19).id,a["\u0275nov"](n,19).placeholder,a["\u0275nov"](n,19).disabled,a["\u0275nov"](n,19).required,a["\u0275nov"](n,19).readonly,a["\u0275nov"](n,19)._ariaDescribedby||null,a["\u0275nov"](n,19).errorState,a["\u0275nov"](n,19).required.toString(),a["\u0275nov"](n,20).ngClassUntouched,a["\u0275nov"](n,20).ngClassTouched,a["\u0275nov"](n,20).ngClassPristine,a["\u0275nov"](n,20).ngClassDirty,a["\u0275nov"](n,20).ngClassValid,a["\u0275nov"](n,20).ngClassInvalid,a["\u0275nov"](n,20).ngClassPending]),e(n,28,0,a["\u0275nov"](n,29).disabled||null,"NoopAnimations"===a["\u0275nov"](n,29)._animationMode)})}function sr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,9,"div",[["class","col text-center"],["formGroupName","permissions"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),a["\u0275did"](1,212992,null,0,Si.i,[[3,Si.c],[8,null],[8,null]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.c,null,[Si.i]),a["\u0275did"](3,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275eld"](4,0,null,null,5,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Ho,Bo)),a["\u0275did"](5,4374528,null,0,zo,[a.ElementRef,a.ChangeDetectorRef,kl.f,a.NgZone,[8,null],[2,jo],[2,ma.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[zo]),a["\u0275did"](7,671744,null,0,Si.g,[[3,Si.c],[8,null],[8,null],[6,Si.l],[2,Si.A]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.m,null,[Si.g]),a["\u0275did"](9,16384,null,0,Si.n,[[4,Si.m]],null,null)],function(e,n){e(n,1,0,"permissions"),e(n,7,0,n.context.$implicit)},function(e,n){e(n,0,0,a["\u0275nov"](n,3).ngClassUntouched,a["\u0275nov"](n,3).ngClassTouched,a["\u0275nov"](n,3).ngClassPristine,a["\u0275nov"](n,3).ngClassDirty,a["\u0275nov"](n,3).ngClassValid,a["\u0275nov"](n,3).ngClassInvalid,a["\u0275nov"](n,3).ngClassPending),e(n,4,1,[a["\u0275nov"](n,5).id,a["\u0275nov"](n,5).indeterminate,a["\u0275nov"](n,5).checked,a["\u0275nov"](n,5).disabled,"before"==a["\u0275nov"](n,5).labelPosition,"NoopAnimations"===a["\u0275nov"](n,5)._animationMode,a["\u0275nov"](n,9).ngClassUntouched,a["\u0275nov"](n,9).ngClassTouched,a["\u0275nov"](n,9).ngClassPristine,a["\u0275nov"](n,9).ngClassDirty,a["\u0275nov"](n,9).ngClassValid,a["\u0275nov"](n,9).ngClassInvalid,a["\u0275nov"](n,9).ngClassPending])})}function cr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,27,"div",[["class","row align-items-center"],["style","border-bottom: 1px solid var(--secondary);"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),a["\u0275did"](1,212992,null,0,Si.i,[[3,Si.c],[8,null],[8,null]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.c,null,[Si.i]),a["\u0275did"](3,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275eld"](4,0,null,null,17,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](5,0,null,null,16,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,no.b,no.a)),a["\u0275did"](6,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],{floatLabel:[0,"floatLabel"]},null),a["\u0275qud"](335544320,8,{_control:0}),a["\u0275qud"](335544320,9,{_placeholderChild:0}),a["\u0275qud"](335544320,10,{_labelChild:0}),a["\u0275qud"](603979776,11,{_errorChildren:1}),a["\u0275qud"](603979776,12,{_hintChildren:1}),a["\u0275qud"](603979776,13,{_prefixChildren:1}),a["\u0275qud"](603979776,14,{_suffixChildren:1}),(e()(),a["\u0275eld"](14,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""],["placeholder","Role name"],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var l=!0;"input"===n&&(l=!1!==a["\u0275nov"](e,15)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,15).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,15)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,15)._compositionEnd(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,19)._focusChanged(!1)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,19)._focusChanged(!0)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,19)._onInput()&&l);return l},null,null)),a["\u0275did"](15,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](17,671744,null,0,Si.g,[[3,Si.c],[8,null],[8,null],[6,Si.l],[2,Si.A]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.m,null,[Si.g]),a["\u0275did"](19,999424,null,0,lo.a,[a.ElementRef,Dl.a,[6,Si.m],[2,Si.p],[2,Si.h],Ml.d,[8,null],io.a,a.NgZone],{placeholder:[0,"placeholder"],type:[1,"type"]},null),a["\u0275did"](20,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[8,4]],to.c,null,[lo.a]),(e()(),a["\u0275eld"](22,0,null,null,3,"div",[["class","col text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](23,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.removeRole(e.context.index)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](24,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Remove"])),(e()(),a["\u0275and"](16777216,null,null,1,null,sr)),a["\u0275did"](27,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,1,0,n.context.index);e(n,6,0,"never");e(n,17,0,"name");e(n,19,0,"Role name","text");e(n,24,0,"warn"),e(n,27,0,t.alliancePermissions)},function(e,n){e(n,0,0,a["\u0275nov"](n,3).ngClassUntouched,a["\u0275nov"](n,3).ngClassTouched,a["\u0275nov"](n,3).ngClassPristine,a["\u0275nov"](n,3).ngClassDirty,a["\u0275nov"](n,3).ngClassValid,a["\u0275nov"](n,3).ngClassInvalid,a["\u0275nov"](n,3).ngClassPending),e(n,5,1,["standard"==a["\u0275nov"](n,6).appearance,"fill"==a["\u0275nov"](n,6).appearance,"outline"==a["\u0275nov"](n,6).appearance,"legacy"==a["\u0275nov"](n,6).appearance,a["\u0275nov"](n,6)._control.errorState,a["\u0275nov"](n,6)._canLabelFloat,a["\u0275nov"](n,6)._shouldLabelFloat(),a["\u0275nov"](n,6)._hideControlPlaceholder(),a["\u0275nov"](n,6)._control.disabled,a["\u0275nov"](n,6)._control.autofilled,a["\u0275nov"](n,6)._control.focused,"accent"==a["\u0275nov"](n,6).color,"warn"==a["\u0275nov"](n,6).color,a["\u0275nov"](n,6)._shouldForward("untouched"),a["\u0275nov"](n,6)._shouldForward("touched"),a["\u0275nov"](n,6)._shouldForward("pristine"),a["\u0275nov"](n,6)._shouldForward("dirty"),a["\u0275nov"](n,6)._shouldForward("valid"),a["\u0275nov"](n,6)._shouldForward("invalid"),a["\u0275nov"](n,6)._shouldForward("pending"),!a["\u0275nov"](n,6)._animationsEnabled]),e(n,14,1,[a["\u0275nov"](n,19)._isServer,a["\u0275nov"](n,19).id,a["\u0275nov"](n,19).placeholder,a["\u0275nov"](n,19).disabled,a["\u0275nov"](n,19).required,a["\u0275nov"](n,19).readonly,a["\u0275nov"](n,19)._ariaDescribedby||null,a["\u0275nov"](n,19).errorState,a["\u0275nov"](n,19).required.toString(),a["\u0275nov"](n,20).ngClassUntouched,a["\u0275nov"](n,20).ngClassTouched,a["\u0275nov"](n,20).ngClassPristine,a["\u0275nov"](n,20).ngClassDirty,a["\u0275nov"](n,20).ngClassValid,a["\u0275nov"](n,20).ngClassInvalid,a["\u0275nov"](n,20).ngClassPending]),e(n,23,0,a["\u0275nov"](n,24).disabled||null,"NoopAnimations"===a["\u0275nov"](n,24)._animationMode)})}function dr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[["class","roles roles-new"],["formArrayName","newRoles"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),a["\u0275did"](1,212992,null,0,Si.e,[[3,Si.c],[8,null],[8,null]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.c,null,[Si.e]),a["\u0275did"](3,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275and"](16777216,null,null,1,null,cr)),a["\u0275did"](5,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,1,0,"newRoles"),e(n,5,0,t.newRoles.controls)},function(e,n){e(n,0,0,a["\u0275nov"](n,3).ngClassUntouched,a["\u0275nov"](n,3).ngClassTouched,a["\u0275nov"](n,3).ngClassPristine,a["\u0275nov"](n,3).ngClassDirty,a["\u0275nov"](n,3).ngClassValid,a["\u0275nov"](n,3).ngClassInvalid,a["\u0275nov"](n,3).ngClassPending)})}function pr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,35,"form",[["class","pt-4 mb-2"],["novalidate",""],["style","overflow: hidden;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var l=!0;"submit"===n&&(l=!1!==a["\u0275nov"](e,2).onSubmit(t)&&l);"reset"===n&&(l=!1!==a["\u0275nov"](e,2).onReset()&&l);return l},null,null)),a["\u0275did"](1,16384,null,0,Si.y,[],null,null),a["\u0275did"](2,540672,null,0,Si.h,[[8,null],[8,null]],{form:[0,"form"]},null),a["\u0275prd"](2048,null,Si.c,null,[Si.h]),a["\u0275did"](4,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275eld"](5,0,null,null,10,"div",[["class","row pt-1"],["style","color: var(--light); background-color: var(--indigo)"]],null,null,null,null,null)),(e()(),a["\u0275eld"](6,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](7,0,null,null,2,"div",[["class","heading-split px-1"]],null,null,null,null,null)),(e()(),a["\u0275eld"](8,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Role"])),(e()(),a["\u0275eld"](10,0,null,null,3,"div",[["class","col text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](11,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](12,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](13,2),(e()(),a["\u0275and"](16777216,null,null,1,null,ir)),a["\u0275did"](15,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275eld"](16,0,null,null,5,"div",[["class","roles roles-current"],["formArrayName","roles"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),a["\u0275did"](17,212992,null,0,Si.e,[[3,Si.c],[8,null],[8,null]],{name:[0,"name"]},null),a["\u0275prd"](2048,null,Si.c,null,[Si.e]),a["\u0275did"](19,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275and"](16777216,null,null,1,null,ur)),a["\u0275did"](21,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,dr)),a["\u0275did"](23,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](24,0,null,null,11,"div",[["class","row pt-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](25,0,null,null,6,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](26,0,null,null,5,"button",[["color","accent"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.insertRole()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](27,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275eld"](28,0,null,0,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](29,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](30,2),(e()(),a["\u0275ted"](-1,0,[" Add Role"])),(e()(),a["\u0275eld"](32,0,null,null,3,"div",[["class","col text-right"]],null,null,null,null,null)),(e()(),a["\u0275eld"](33,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.saveChanges()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](34,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Update Roles"]))],function(e,n){var t=n.component;e(n,2,0,t.rolePermissionForm),e(n,12,0,e(n,13,0,"fas","trash")),e(n,15,0,t.alliancePermissions);e(n,17,0,"roles"),e(n,21,0,t.alliance.roles),e(n,23,0,t.newRoles.length);e(n,27,0,"accent"),e(n,29,0,e(n,30,0,"fas","plus"));e(n,34,0,!t.rolePermissionForm.valid||!t.rolePermissionForm.touched,"primary")},function(e,n){e(n,0,0,a["\u0275nov"](n,4).ngClassUntouched,a["\u0275nov"](n,4).ngClassTouched,a["\u0275nov"](n,4).ngClassPristine,a["\u0275nov"](n,4).ngClassDirty,a["\u0275nov"](n,4).ngClassValid,a["\u0275nov"](n,4).ngClassInvalid,a["\u0275nov"](n,4).ngClassPending),e(n,11,0,a["\u0275nov"](n,12).renderedIconHTML),e(n,16,0,a["\u0275nov"](n,19).ngClassUntouched,a["\u0275nov"](n,19).ngClassTouched,a["\u0275nov"](n,19).ngClassPristine,a["\u0275nov"](n,19).ngClassDirty,a["\u0275nov"](n,19).ngClassValid,a["\u0275nov"](n,19).ngClassInvalid,a["\u0275nov"](n,19).ngClassPending),e(n,26,0,a["\u0275nov"](n,27).disabled||null,"NoopAnimations"===a["\u0275nov"](n,27)._animationMode),e(n,28,0,a["\u0275nov"](n,29).renderedIconHTML),e(n,33,0,a["\u0275nov"](n,34).disabled||null,"NoopAnimations"===a["\u0275nov"](n,34)._animationMode)})}a["\u0275ccf"]("editable-roles",nr,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"editable-roles",[],null,null,null,pr,lr)),a["\u0275did"](1,573440,null,0,nr,[Si.f],null,null)],null,null)},{alliance:"alliance"},{roleUpdate:"roleUpdate",roleRemove:"roleRemove"},[]);var fr=t("MlvX"),mr=t("Azqq"),hr=t("uGex"),gr=function(){function e(){this.playerRoleUpdate=new a.EventEmitter,this.playerRemove=new a.EventEmitter,this.alliancePermissions=z.ALLIANCE_PERMISSIONS,this.permissionNames=Ko,this.allianceRolePermissions={}}return e.prototype.compareRoles=function(e,n){return e&&n&&e.name===n.name},e.prototype.removePlayer=function(e){this.playerRemove.emit(e)},e.prototype.updatePlayerRole=function(e,n){this.playerRoleUpdate.emit({roleId:e,playerId:n})},e}(),vr=[[""]],br=a["\u0275crt"]({encapsulation:0,styles:vr,data:{}});function yr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[["class","col text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](2,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),(e()(),a["\u0275eld"](3,0,null,null,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](4,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null)],function(e,n){var t=n.component;e(n,2,0,t.permissionNames[n.context.$implicit][0]),e(n,4,0,t.permissionNames[n.context.$implicit][1])},function(e,n){e(n,1,0,a["\u0275nov"](n,2).renderedIconHTML),e(n,3,0,a["\u0275nov"](n,4).renderedIconHTML)})}function wr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==a["\u0275nov"](e,1)._selectViaInteraction()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,1)._handleKeydown(t)&&l);return l},fr.c,fr.a)),a["\u0275did"](1,8568832,[[8,4]],0,Ml.t,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.l],[2,Ml.s]],{value:[0,"value"]},null),(e()(),a["\u0275ted"](2,0,["",""]))],function(e,n){e(n,1,0,n.context.$implicit)},function(e,n){e(n,0,0,a["\u0275nov"](n,1)._getTabIndex(),a["\u0275nov"](n,1).selected,a["\u0275nov"](n,1).multiple,a["\u0275nov"](n,1).active,a["\u0275nov"](n,1).id,a["\u0275nov"](n,1).selected.toString(),a["\u0275nov"](n,1).disabled.toString(),a["\u0275nov"](n,1).disabled),e(n,2,0,n.context.$implicit.name)})}function _r(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"div",[["class","col text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,2,"mat-checkbox",[["class","mat-checkbox"],["disabled",""]],[[8,"id",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null]],null,null,Ho,Bo)),a["\u0275prd"](5120,null,Si.l,function(e){return[e]},[zo]),a["\u0275did"](3,4374528,null,0,zo,[a.ElementRef,a.ChangeDetectorRef,kl.f,a.NgZone,[8,null],[2,jo],[2,ma.a]],{checked:[0,"checked"],disabled:[1,"disabled"]},null)],function(e,n){e(n,3,0,n.parent.context.$implicit.allianceRole.permissions[n.context.$implicit],"")},function(e,n){e(n,1,0,a["\u0275nov"](n,3).id,a["\u0275nov"](n,3).indeterminate,a["\u0275nov"](n,3).checked,a["\u0275nov"](n,3).disabled,"before"==a["\u0275nov"](n,3).labelPosition,"NoopAnimations"===a["\u0275nov"](n,3)._animationMode)})}function xr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,36,"div",[["class","row align-items-center"],["style","border-bottom: 1px solid var(--secondary);"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,9,"div",[["class","col d-flex align-items-center justify-content-between"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,["",""])),(e()(),a["\u0275eld"](4,16777216,null,null,6,"div",[["matTooltip","Cant't remove players with master role"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,n,t){var l=!0;"longpress"===n&&(l=!1!==a["\u0275nov"](e,5).show()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,5)._handleKeydown(t)&&l);"touchend"===n&&(l=!1!==a["\u0275nov"](e,5)._handleTouchend()&&l);return l},null,null)),a["\u0275did"](5,147456,null,0,Bl,[Pl.c,a.ElementRef,Tl.c,a.ViewContainerRef,a.NgZone,Dl.a,kl.c,kl.f,zl,[2,Rl.b],[2,Ul]],{disabled:[0,"disabled"],message:[1,"message"]},null),(e()(),a["\u0275eld"](6,0,null,null,4,"button",[["color","warn"],["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.removePlayer(e.context.$implicit.id)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](7,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),a["\u0275eld"](8,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,Ka,Qa)),a["\u0275did"](9,638976,null,0,Ga,[a.ElementRef,Ha,[8,null]],null,null),(e()(),a["\u0275ted"](-1,0,["close"])),(e()(),a["\u0275eld"](11,0,null,null,23,"div",[["class","col text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](12,0,null,null,22,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,no.b,no.a)),a["\u0275did"](13,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],{floatLabel:[0,"floatLabel"]},null),a["\u0275qud"](335544320,1,{_control:0}),a["\u0275qud"](335544320,2,{_placeholderChild:0}),a["\u0275qud"](335544320,3,{_labelChild:0}),a["\u0275qud"](603979776,4,{_errorChildren:1}),a["\u0275qud"](603979776,5,{_hintChildren:1}),a["\u0275qud"](603979776,6,{_prefixChildren:1}),a["\u0275qud"](603979776,7,{_suffixChildren:1}),(e()(),a["\u0275eld"](21,0,null,1,13,"mat-select",[["class","mat-select"],["placeholder","Role"],["required",""],["role","listbox"]],[[1,"required",0],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(e,n,t){var l=!0,i=e.component;"keydown"===n&&(l=!1!==a["\u0275nov"](e,27)._handleKeydown(t)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,27)._onFocus()&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,27)._onBlur()&&l);"ngModelChange"===n&&(l=!1!==(e.context.$implicit.allianceRole=t)&&l);"ngModelChange"===n&&(l=!1!==i.updatePlayerRole(t.id,e.context.$implicit.id)&&l);return l},mr.b,mr.a)),a["\u0275prd"](6144,null,Ml.l,null,[hr.c]),a["\u0275did"](23,16384,null,0,Si.u,[],{required:[0,"required"]},null),a["\u0275prd"](1024,null,Si.k,function(e){return[e]},[Si.u]),a["\u0275did"](25,671744,null,0,Si.q,[[8,null],[6,Si.k],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](27,2080768,null,3,hr.c,[Tl.e,a.ChangeDetectorRef,a.NgZone,Ml.d,a.ElementRef,[2,Rl.b],[2,Si.p],[2,Si.h],[2,to.b],[6,Si.m],[8,null],hr.a],{placeholder:[0,"placeholder"],required:[1,"required"],compareWith:[2,"compareWith"]},null),a["\u0275qud"](603979776,8,{options:1}),a["\u0275qud"](603979776,9,{optionGroups:1}),a["\u0275qud"](335544320,10,{customTrigger:0}),a["\u0275did"](31,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[1,4]],to.c,null,[hr.c]),(e()(),a["\u0275and"](16777216,null,1,1,null,wr)),a["\u0275did"](34,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,_r)),a["\u0275did"](36,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,5,0,n.context.$implicit.allianceRole.id!==t.alliance.masterRoleId,"Cant't remove players with master role");e(n,7,0,n.context.$implicit.allianceRole.id===t.alliance.masterRoleId,"warn"),e(n,9,0);e(n,13,0,"never");e(n,23,0,""),e(n,25,0,n.context.$implicit.allianceRole);e(n,27,0,"Role","",t.compareRoles),e(n,34,0,t.alliance.roles),e(n,36,0,t.alliancePermissions)},function(e,n){e(n,3,0,n.context.$implicit.name),e(n,6,0,a["\u0275nov"](n,7).disabled||null,"NoopAnimations"===a["\u0275nov"](n,7)._animationMode),e(n,8,0,a["\u0275nov"](n,9).inline),e(n,12,1,["standard"==a["\u0275nov"](n,13).appearance,"fill"==a["\u0275nov"](n,13).appearance,"outline"==a["\u0275nov"](n,13).appearance,"legacy"==a["\u0275nov"](n,13).appearance,a["\u0275nov"](n,13)._control.errorState,a["\u0275nov"](n,13)._canLabelFloat,a["\u0275nov"](n,13)._shouldLabelFloat(),a["\u0275nov"](n,13)._hideControlPlaceholder(),a["\u0275nov"](n,13)._control.disabled,a["\u0275nov"](n,13)._control.autofilled,a["\u0275nov"](n,13)._control.focused,"accent"==a["\u0275nov"](n,13).color,"warn"==a["\u0275nov"](n,13).color,a["\u0275nov"](n,13)._shouldForward("untouched"),a["\u0275nov"](n,13)._shouldForward("touched"),a["\u0275nov"](n,13)._shouldForward("pristine"),a["\u0275nov"](n,13)._shouldForward("dirty"),a["\u0275nov"](n,13)._shouldForward("valid"),a["\u0275nov"](n,13)._shouldForward("invalid"),a["\u0275nov"](n,13)._shouldForward("pending"),!a["\u0275nov"](n,13)._animationsEnabled]),e(n,21,1,[a["\u0275nov"](n,23).required?"":null,a["\u0275nov"](n,27).id,a["\u0275nov"](n,27).tabIndex,a["\u0275nov"](n,27)._getAriaLabel(),a["\u0275nov"](n,27)._getAriaLabelledby(),a["\u0275nov"](n,27).required.toString(),a["\u0275nov"](n,27).disabled.toString(),a["\u0275nov"](n,27).errorState,a["\u0275nov"](n,27).panelOpen?a["\u0275nov"](n,27)._optionIds:null,a["\u0275nov"](n,27).multiple,a["\u0275nov"](n,27)._ariaDescribedby||null,a["\u0275nov"](n,27)._getAriaActiveDescendant(),a["\u0275nov"](n,27).disabled,a["\u0275nov"](n,27).errorState,a["\u0275nov"](n,27).required,a["\u0275nov"](n,31).ngClassUntouched,a["\u0275nov"](n,31).ngClassTouched,a["\u0275nov"](n,31).ngClassPristine,a["\u0275nov"](n,31).ngClassDirty,a["\u0275nov"](n,31).ngClassValid,a["\u0275nov"](n,31).ngClassInvalid,a["\u0275nov"](n,31).ngClassPending])})}function Cr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,13,"div",[["class","pt-4 mb-2"],["style","overflow: hidden"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,9,"div",[["class","row"],["style","color: var(--light); background-color: var(--indigo)"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,2,"div",[["class","heading-split px-1"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Player"])),(e()(),a["\u0275eld"](6,0,null,null,2,"div",[["class","col text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](7,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Role"])),(e()(),a["\u0275and"](16777216,null,null,1,null,yr)),a["\u0275did"](10,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275eld"](11,0,null,null,2,"div",[["class","roles roles-members"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,xr)),a["\u0275did"](13,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,10,0,t.alliancePermissions),e(n,13,0,t.alliance.members)},null)}a["\u0275ccf"]("player-roles",gr,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"player-roles",[],null,null,null,Cr,br)),a["\u0275did"](1,49152,null,0,gr,[],null,null)],null,null)},{alliance:"alliance"},{playerRoleUpdate:"playerRoleUpdate",playerRemove:"playerRemove"},[]);var kr=function(){return function(){var e,n;this.leaveAlliance=new a.EventEmitter,this.destroyAlliance=new a.EventEmitter,this.openAllianceProfile=new a.EventEmitter,this.openPlayerProfile=new a.EventEmitter,this.eventStatuses=z.EventStatus,this.eventTypes=z.EventType,this.invitationStatus=((e={})[this.eventStatuses.create]="was invited by",e[this.eventStatuses.cancel]="invitation canceled by",e[this.eventStatuses.reject]="rejected invite",e),this.membershipStatus=((n={})[this.eventStatuses.remove]="was removed by",n[this.eventStatuses.join]="has joined",n[this.eventStatuses.leave]="has left",n),this.diplomacySubjectStatus=["proposed alliance","canceled their alliance proposal","rejected our alliance proposal","aggreed to enter into alliance","ended our alliance","proposed NAP","canceled their NAP proposal","rejected our NAP proposal","aggreed to enter into NAP","ended our NAP","declared war","aggreed to end war"],this.diplomacyOriginStatus=["proposed alliance to","canceled alliance proposal of","rejected alliance proposal of","aggreed to enter into alliance with","ended our alliance with","proposed NAP to","canceled NAP proposal of","rejected NAP proposal of","aggreed to enter into NAP with","ended our NAP with","declared war on","aggreed to end war with"]}}(),Rr=[[""]],Sr=a["\u0275crt"]({encapsulation:0,styles:Rr,data:{}});function Ir(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.targetPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](2,null,[" "," "])),(e()(),a["\u0275eld"](3,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](4,null,["",""]))],null,function(e,n){var t=n.component;e(n,1,0,n.parent.parent.context.$implicit.targetPlayer.name),e(n,2,0,t.invitationStatus[n.parent.parent.context.$implicit.status]),e(n,4,0,n.parent.parent.context.$implicit.originPlayer.name)})}function Or(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](2,null,[" "," "]))],null,function(e,n){var t=n.component;e(n,1,0,n.parent.parent.context.$implicit.originPlayer.name),e(n,2,0,t.invitationStatus[n.parent.parent.context.$implicit.status])})}function Pr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Ir)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Or)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,n.parent.context.$implicit.status!==t.eventStatuses.reject),e(n,4,0,n.parent.context.$implicit.status===t.eventStatuses.reject)},null)}function Tr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](2,null,[" "," "]))],null,function(e,n){var t=n.component;e(n,1,0,n.parent.parent.context.$implicit.originPlayer.name),e(n,2,0,t.membershipStatus[n.parent.parent.context.$implicit.status])})}function Dr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.targetPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](2,null,[" "," "])),(e()(),a["\u0275eld"](3,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](4,null,["",""]))],null,function(e,n){var t=n.component;e(n,1,0,n.parent.parent.context.$implicit.targetPlayer.name),e(n,2,0,t.membershipStatus[n.parent.parent.context.$implicit.status]),e(n,4,0,n.parent.parent.context.$implicit.originPlayer.name)})}function Ar(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Tr)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Dr)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,n.parent.context.$implicit.status!==t.eventStatuses.remove),e(n,4,0,n.parent.context.$implicit.status===t.eventStatuses.remove)},null)}function Er(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](-1,null,[" created the alliance "]))],null,function(e,n){e(n,1,0,n.parent.parent.context.$implicit.originPlayer.name)})}function jr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Er)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,n.parent.context.$implicit.status===t.eventStatuses.create)},null)}function Fr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](-1,null,[" updated alliance roles "]))],null,function(e,n){e(n,1,0,n.parent.parent.context.$implicit.originPlayer.name)})}function Mr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.targetPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](-1,null,[" role was updated by "])),(e()(),a["\u0275eld"](3,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](4,null,["",""]))],null,function(e,n){e(n,1,0,n.parent.parent.context.$implicit.targetPlayer.name),e(n,4,0,n.parent.parent.context.$implicit.originPlayer.name)})}function Nr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Fr)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Mr)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,n.parent.context.$implicit.status===t.eventStatuses.update),e(n,4,0,n.parent.context.$implicit.status===t.eventStatuses.updateMember)},null)}function Lr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openAllianceProfile.emit(e.parent.parent.context.$implicit.originAlliance.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](2,null,[" "," "]))],null,function(e,n){var t=n.component;e(n,1,0,n.parent.parent.context.$implicit.originAlliance.name),e(n,2,0,t.diplomacySubjectStatus[n.parent.parent.context.$implicit.status])})}function $r(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](2,null,[" "," "])),(e()(),a["\u0275eld"](3,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openAllianceProfile.emit(e.parent.parent.context.$implicit.targetAlliance.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](4,null,["",""]))],null,function(e,n){var t=n.component;e(n,1,0,n.parent.parent.context.$implicit.originPlayer.name),e(n,2,0,t.diplomacyOriginStatus[n.parent.parent.context.$implicit.status]),e(n,4,0,n.parent.parent.context.$implicit.targetAlliance.name)})}function zr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Lr)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,$r)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,n.parent.context.$implicit.originAllianceId!==t.alliance.id),e(n,4,0,n.parent.context.$implicit.originAllianceId===t.alliance.id)},null)}function Vr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.parent.parent.context.$implicit.originPlayer.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""])),(e()(),a["\u0275ted"](-1,null,[" updated alliance profile "]))],null,function(e,n){e(n,1,0,n.parent.parent.context.$implicit.originPlayer.name)})}function qr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Vr)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,n.parent.context.$implicit.status===t.eventStatuses.update)},null)}function Ur(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,13,"div",[["class","col-12 my-1 py-1 px-4"],["style","background-color: beige;"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Fl.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Pr)),a["\u0275did"](3,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Ar)),a["\u0275did"](5,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,jr)),a["\u0275did"](7,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Nr)),a["\u0275did"](9,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,zr)),a["\u0275did"](11,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,qr)),a["\u0275did"](13,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,n){var t=n.component;e(n,1,0,n.context.$implicit.type),e(n,3,0,t.eventTypes.invitation),e(n,5,0,t.eventTypes.membership),e(n,7,0,t.eventTypes.management),e(n,9,0,t.eventTypes.roles),e(n,11,0,t.eventTypes.diplomacy),e(n,13,0,t.eventTypes.profile)},null)}function Br(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["class","mt-3"],["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.destroyAlliance.emit()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Destroy alliance"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function Hr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["class","mt-3"],["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.leaveAlliance.emit()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Leave alliance"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function Wr(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,10,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,3,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Ur)),a["\u0275did"](5,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275eld"](6,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Br)),a["\u0275did"](8,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Hr)),a["\u0275did"](10,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,5,0,t.alliance.events),e(n,8,0,t.role.permissions.editProfile),e(n,10,0,t.role.id!==t.alliance.masterRoleId)},null)}a["\u0275ccf"]("alliance-overview",kr,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"alliance-overview",[],null,null,null,Wr,Sr)),a["\u0275did"](1,49152,null,0,kr,[],null,null)],null,null)},{alliance:"alliance",role:"role"},{leaveAlliance:"leaveAlliance",destroyAlliance:"destroyAlliance",openAllianceProfile:"openAllianceProfile",openPlayerProfile:"openPlayerProfile"},[]);var Zr=t("YlbQ"),Xr=t("26FU");function Gr(e){return function(e){function n(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var l=e.apply(this,n)||this;return l._sticky=!1,l._hasStickyChanged=!1,l}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"sticky",{get:function(){return this._sticky},set:function(e){var n=this._sticky;this._sticky=Object(Sl.c)(e),this._hasStickyChanged=n!==this._sticky},enumerable:!0,configurable:!0}),n.prototype.hasStickyChanged=function(){var e=this._hasStickyChanged;return this._hasStickyChanged=!1,e},n.prototype.resetStickyChanged=function(){this._hasStickyChanged=!1},n}(e)}var Yr=function(){function e(e){this.template=e}return e.decorators=[{type:a.Directive,args:[{selector:"[cdkCellDef]"}]}],e.ctorParameters=function(){return[{type:a.TemplateRef}]},e}(),Qr=function(){function e(e){this.template=e}return e.decorators=[{type:a.Directive,args:[{selector:"[cdkHeaderCellDef]"}]}],e.ctorParameters=function(){return[{type:a.TemplateRef}]},e}(),Kr=function(){function e(e){this.template=e}return e.decorators=[{type:a.Directive,args:[{selector:"[cdkFooterCellDef]"}]}],e.ctorParameters=function(){return[{type:a.TemplateRef}]},e}(),Jr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n._stickyEnd=!1,n}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"stickyEnd",{get:function(){return this._stickyEnd},set:function(e){var n=this._stickyEnd;this._stickyEnd=Object(Sl.c)(e),this._hasStickyChanged=n!==this._stickyEnd},enumerable:!0,configurable:!0}),n.decorators=[{type:a.Directive,args:[{selector:"[cdkColumnDef]",inputs:["sticky"]}]}],n.propDecorators={name:[{type:a.Input,args:["cdkColumnDef"]}],stickyEnd:[{type:a.Input,args:["stickyEnd"]}],cell:[{type:a.ContentChild,args:[Yr]}],headerCell:[{type:a.ContentChild,args:[Qr]}],footerCell:[{type:a.ContentChild,args:[Kr]}]},n}(Gr(function(){return function(){}}())),eu=function(){return function(e,n){var t="cdk-column-"+e.cssClassFriendlyName;n.nativeElement.classList.add(t)}}(),nu=function(e){function n(n,t){return e.call(this,n,t)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"cdk-header-cell, th[cdk-header-cell]",host:{class:"cdk-header-cell",role:"columnheader"}}]}],n.ctorParameters=function(){return[{type:Jr},{type:a.ElementRef}]},n}(eu),tu=function(e){function n(n,t){return e.call(this,n,t)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"cdk-footer-cell, td[cdk-footer-cell]",host:{class:"cdk-footer-cell",role:"gridcell"}}]}],n.ctorParameters=function(){return[{type:Jr},{type:a.ElementRef}]},n}(eu),lu=function(e){function n(n,t){return e.call(this,n,t)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"cdk-cell, td[cdk-cell]",host:{class:"cdk-cell",role:"gridcell"}}]}],n.ctorParameters=function(){return[{type:Jr},{type:a.ElementRef}]},n}(eu),iu="<ng-container cdkCellOutlet></ng-container>",au=function(){function e(e,n){this.template=e,this._differs=n}return e.prototype.ngOnChanges=function(e){if(!this._columnsDiffer){var n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}},e.prototype.getColumnsDiff=function(){return this._columnsDiffer.diff(this.columns)},e.prototype.extractCellTemplate=function(e){return this instanceof ou?e.headerCell.template:this instanceof ru?e.footerCell.template:e.cell.template},e}(),ou=function(e){function n(n,t){return e.call(this,n,t)||this}return Object(Cl.b)(n,e),n.prototype.ngOnChanges=function(n){e.prototype.ngOnChanges.call(this,n)},n.decorators=[{type:a.Directive,args:[{selector:"[cdkHeaderRowDef]",inputs:["columns: cdkHeaderRowDef","sticky: cdkHeaderRowDefSticky"]}]}],n.ctorParameters=function(){return[{type:a.TemplateRef},{type:a.IterableDiffers}]},n}(Gr(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n}(au))),ru=function(e){function n(n,t){return e.call(this,n,t)||this}return Object(Cl.b)(n,e),n.prototype.ngOnChanges=function(n){e.prototype.ngOnChanges.call(this,n)},n.decorators=[{type:a.Directive,args:[{selector:"[cdkFooterRowDef]",inputs:["columns: cdkFooterRowDef","sticky: cdkFooterRowDefSticky"]}]}],n.ctorParameters=function(){return[{type:a.TemplateRef},{type:a.IterableDiffers}]},n}(Gr(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n}(au))),uu=function(e){function n(n,t){return e.call(this,n,t)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[cdkRowDef]",inputs:["columns: cdkRowDefColumns","when: cdkRowDefWhen"]}]}],n.ctorParameters=function(){return[{type:a.TemplateRef},{type:a.IterableDiffers}]},n}(au),su=function(){function e(n){this._viewContainer=n,e.mostRecentCellOutlet=this}return e.prototype.ngOnDestroy=function(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)},e.mostRecentCellOutlet=null,e.decorators=[{type:a.Directive,args:[{selector:"[cdkCellOutlet]"}]}],e.ctorParameters=function(){return[{type:a.ViewContainerRef}]},e}(),cu=function(){function e(){}return e.decorators=[{type:a.Component,args:[{selector:"cdk-header-row, tr[cdk-header-row]",template:iu,host:{class:"cdk-header-row",role:"row"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],e}(),du=function(){function e(){}return e.decorators=[{type:a.Component,args:[{selector:"cdk-footer-row, tr[cdk-footer-row]",template:iu,host:{class:"cdk-footer-row",role:"row"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],e}(),pu=function(){function e(){}return e.decorators=[{type:a.Component,args:[{selector:"cdk-row, tr[cdk-row]",template:iu,host:{class:"cdk-row",role:"row"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],e}();var fu=["top","bottom","left","right"],mu=function(){function e(e,n,t){this.isNativeHtmlTable=e,this.stickCellCss=n,this.direction=t}return e.prototype.clearStickyPositioning=function(e,n){for(var t=0,l=e;t<l.length;t++){var i=l[t];if(i.nodeType===i.ELEMENT_NODE){this._removeStickyStyle(i,n);for(var a=0;a<i.children.length;a++){var o=i.children[a];this._removeStickyStyle(o,n)}}}},e.prototype.updateStickyColumns=function(e,n,t){var l=n.some(function(e){return e})||t.some(function(e){return e});if(e.length&&l)for(var i=e[0],a=i.children.length,o=this._getCellWidths(i),r=this._getStickyStartColumnPositions(o,n),u=this._getStickyEndColumnPositions(o,t),s="rtl"===this.direction,c=0,d=e;c<d.length;c++)for(var p=d[c],f=0;f<a;f++){var m=p.children[f];n[f]&&this._addStickyStyle(m,s?"right":"left",r[f]),t[f]&&this._addStickyStyle(m,s?"left":"right",u[f])}},e.prototype.stickRows=function(e,n,t){for(var l="bottom"===t?e.reverse():e,i=0,a=0;a<l.length;a++)if(n[a]){var o=l[a];if(this.isNativeHtmlTable)for(var r=0;r<o.children.length;r++){var u=o.children[r];this._addStickyStyle(u,t,i)}else this._addStickyStyle(o,t,i);i+=o.getBoundingClientRect().height}},e.prototype.updateStickyFooterContainer=function(e,n){if(this.isNativeHtmlTable){var t=e.querySelector("tfoot");n.some(function(e){return!e})?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0)}},e.prototype._removeStickyStyle=function(e,n){for(var t=0,l=n;t<l.length;t++){var i=l[t];e.style[i]=""}e.style.zIndex=this._getCalculatedZIndex(e),fu.some(function(n){return!!e.style[n]})||(e.style.position="",e.classList.remove(this.stickCellCss))},e.prototype._addStickyStyle=function(e,n,t){e.classList.add(this.stickCellCss),e.style[n]=t+"px",e.style.cssText+="position: -webkit-sticky; position: sticky; ",e.style.zIndex=this._getCalculatedZIndex(e)},e.prototype._getCalculatedZIndex=function(e){for(var n={top:100,bottom:10,left:1,right:1},t=0,l=0,i=fu;l<i.length;l++){var a=i[l];e.style[a]&&(t+=n[a])}return t?""+t:""},e.prototype._getCellWidths=function(e){for(var n=[],t=e.children,l=0;l<t.length;l++){var i=t[l];n.push(i.getBoundingClientRect().width)}return n},e.prototype._getStickyStartColumnPositions=function(e,n){for(var t=[],l=0,i=0;i<e.length;i++)n[i]&&(t[i]=l,l+=e[i]);return t},e.prototype._getStickyEndColumnPositions=function(e,n){for(var t=[],l=0,i=e.length;i>0;i--)n[i]&&(t[i]=l,l+=e[i]);return t},e}(),hu=function(){function e(e,n){this.viewContainer=e,this.elementRef=n}return e.decorators=[{type:a.Directive,args:[{selector:"[rowOutlet]"}]}],e.ctorParameters=function(){return[{type:a.ViewContainerRef},{type:a.ElementRef}]},e}(),gu=function(){function e(e,n){this.viewContainer=e,this.elementRef=n}return e.decorators=[{type:a.Directive,args:[{selector:"[headerRowOutlet]"}]}],e.ctorParameters=function(){return[{type:a.ViewContainerRef},{type:a.ElementRef}]},e}(),vu=function(){function e(e,n){this.viewContainer=e,this.elementRef=n}return e.decorators=[{type:a.Directive,args:[{selector:"[footerRowOutlet]"}]}],e.ctorParameters=function(){return[{type:a.ViewContainerRef},{type:a.ElementRef}]},e}(),bu="\n  <ng-container headerRowOutlet></ng-container>\n  <ng-container rowOutlet></ng-container>\n  <ng-container footerRowOutlet></ng-container>",yu=(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}Object(Cl.b)(n,e)}(a.EmbeddedViewRef),function(){function e(e,n,t,l,i){this._differs=e,this._changeDetectorRef=n,this._elementRef=t,this._dir=i,this._onDestroy=new jl.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new Xr.a({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","grid"),this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}return Object.defineProperty(e.prototype,"trackBy",{get:function(){return this._trackByFn},set:function(e){Object(a.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+"."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiTemplateDataRows",{get:function(){return this._multiTemplateDataRows},set:function(e){this._multiTemplateDataRows=Object(Sl.c)(e),this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create(function(n,t){return e.trackBy?e.trackBy(t.dataIndex,t.data):t})},e.prototype.ngAfterContentChecked=function(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()},e.prototype.ngOnDestroy=function(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),this.dataSource instanceof Zr.a&&this.dataSource.disconnect(this)},e.prototype.renderRows=function(){var e=this;this._renderRows=this._getAllRenderRows();var n=this._dataDiffer.diff(this._renderRows);if(n){var t=this._rowOutlet.viewContainer;n.forEachOperation(function(n,l,i){if(null==n.previousIndex)e._insertRow(n.item,i);else if(null==i)t.remove(l);else{var a=t.get(l);t.move(a,i)}}),this._updateRowIndexContext(),n.forEachIdentityChange(function(e){t.get(e.currentIndex).context.$implicit=e.item.data}),this.updateStickyColumnStyles()}},e.prototype.setHeaderRowDef=function(e){this._customHeaderRowDefs=new Set([e]),this._headerRowDefChanged=!0},e.prototype.setFooterRowDef=function(e){this._customFooterRowDefs=new Set([e]),this._footerRowDefChanged=!0},e.prototype.addColumnDef=function(e){this._customColumnDefs.add(e)},e.prototype.removeColumnDef=function(e){this._customColumnDefs.delete(e)},e.prototype.addRowDef=function(e){this._customRowDefs.add(e)},e.prototype.removeRowDef=function(e){this._customRowDefs.delete(e)},e.prototype.addHeaderRowDef=function(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0},e.prototype.removeHeaderRowDef=function(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0},e.prototype.addFooterRowDef=function(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0},e.prototype.removeFooterRowDef=function(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0},e.prototype.updateStickyHeaderRowStyles=function(){var e=this._getRenderedRows(this._headerRowOutlet);this._stickyStyler.clearStickyPositioning(e,["top"]);var n=this._headerRowDefs.map(function(e){return e.sticky});this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(function(e){return e.resetStickyChanged()})},e.prototype.updateStickyFooterRowStyles=function(){var e=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning(e,["bottom"]);var n=this._footerRowDefs.map(function(e){return e.sticky});this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(function(e){return e.resetStickyChanged()})},e.prototype.updateStickyColumnStyles=function(){var e=this,n=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),l=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning(n.concat(t,l),["left","right"]),n.forEach(function(n,t){e._addStickyColumnStyles([n],e._headerRowDefs[t])}),this._rowDefs.forEach(function(n){for(var l=[],i=0;i<t.length;i++)e._renderRows[i].rowDef===n&&l.push(t[i]);e._addStickyColumnStyles(l,n)}),l.forEach(function(n,t){e._addStickyColumnStyles([n],e._footerRowDefs[t])}),Array.from(this._columnDefsByName.values()).forEach(function(e){return e.resetStickyChanged()})},e.prototype._getAllRenderRows=function(){var e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(var t=0;t<this._data.length;t++){var l=this._data[t],i=this._getRenderRowsForData(l,t,n.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(var a=0;a<i.length;a++){var o=i[a],r=this._cachedRenderRowsMap.get(o.data);r.has(o.rowDef)?r.get(o.rowDef).push(o):r.set(o.rowDef,[o]),e.push(o)}}return e},e.prototype._getRenderRowsForData=function(e,n,t){return this._getRowDefs(e,n).map(function(l){var i=t&&t.has(l)?t.get(l):[];if(i.length){var a=i.shift();return a.dataIndex=n,a}return{data:e,rowDef:l,dataIndex:n}})},e.prototype._cacheColumnDefs=function(){var e=this;this._columnDefsByName.clear(),wu(this._contentColumnDefs,this._customColumnDefs).forEach(function(n){if(e._columnDefsByName.has(n.name))throw t=n.name,Error('Duplicate column definition name provided: "'+t+'".');var t;e._columnDefsByName.set(n.name,n)})},e.prototype._cacheRowDefs=function(){this._headerRowDefs=wu(this._contentHeaderRowDefs,this._customHeaderRowDefs),this._footerRowDefs=wu(this._contentFooterRowDefs,this._customFooterRowDefs),this._rowDefs=wu(this._contentRowDefs,this._customRowDefs);var e=this._rowDefs.filter(function(e){return!e.when});if(!this.multiTemplateDataRows&&e.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=e[0]},e.prototype._renderUpdatedColumns=function(){var e=function(e,n){return e||!!n.getColumnsDiff()};this._rowDefs.reduce(e,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(e,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(e,!1)&&this._forceRenderFooterRows()},e.prototype._switchDataSource=function(e){this._data=[],this.dataSource instanceof Zr.a&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e},e.prototype._observeRenderChanges=function(){var e=this;if(this.dataSource){var n;if(this.dataSource.connect instanceof Function?n=this.dataSource.connect(this):this.dataSource instanceof u.a?n=this.dataSource:Array.isArray(this.dataSource)&&(n=Object(Ui.a)(this.dataSource)),void 0===n)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=n.pipe(Object(El.a)(this._onDestroy)).subscribe(function(n){e._data=n||[],e.renderRows()})}},e.prototype._forceRenderHeaderRows=function(){var e=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach(function(n,t){return e._renderRow(e._headerRowOutlet,n,t)}),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()},e.prototype._forceRenderFooterRows=function(){var e=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach(function(n,t){return e._renderRow(e._footerRowOutlet,n,t)}),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()},e.prototype._addStickyColumnStyles=function(e,n){var t=this,l=Array.from(n.columns||[]).map(function(e){return t._columnDefsByName.get(e)}),i=l.map(function(e){return e.sticky}),a=l.map(function(e){return e.stickyEnd});this._stickyStyler.updateStickyColumns(e,i,a)},e.prototype._getRenderedRows=function(e){for(var n=[],t=0;t<e.viewContainer.length;t++){var l=e.viewContainer.get(t);n.push(l.rootNodes[0])}return n},e.prototype._getRowDefs=function(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];var t=[];if(this.multiTemplateDataRows)t=this._rowDefs.filter(function(t){return!t.when||t.when(n,e)});else{var l=this._rowDefs.find(function(t){return t.when&&t.when(n,e)})||this._defaultRowDef;l&&t.push(l)}if(!t.length)throw function(e){return Error("Could not find a matching row definition for theprovided row data: "+JSON.stringify(e))}(e);return t},e.prototype._insertRow=function(e,n){var t=e.rowDef,l={$implicit:e.data};this._renderRow(this._rowOutlet,t,n,l)},e.prototype._renderRow=function(e,n,t,l){void 0===l&&(l={}),e.viewContainer.createEmbeddedView(n.template,l,t);for(var i=0,a=this._getCellTemplates(n);i<a.length;i++){var o=a[i];su.mostRecentCellOutlet&&su.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,l)}this._changeDetectorRef.markForCheck()},e.prototype._updateRowIndexContext=function(){for(var e=this._rowOutlet.viewContainer,n=0,t=e.length;n<t;n++){var l=e.get(n).context;l.count=t,l.first=0===n,l.last=n===t-1,l.even=n%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[n].dataIndex,l.renderIndex=n):l.index=this._renderRows[n].dataIndex}},e.prototype._getCellTemplates=function(e){var n=this;return e&&e.columns?Array.from(e.columns,function(t){var l=n._columnDefsByName.get(t);if(!l)throw Error('Could not find column with id "'+t+'".');return e.extractCellTemplate(l)}):[]},e.prototype._applyNativeTableSections=function(){for(var e=0,n=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];e<n.length;e++){var t=n[e],l=document.createElement(t.tag);l.appendChild(t.outlet.elementRef.nativeElement),this._elementRef.nativeElement.appendChild(l)}},e.prototype._forceRenderDataRows=function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()},e.prototype._checkStickyStates=function(){var e=function(e,n){return e||n.hasStickyChanged()};this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&this.updateStickyColumnStyles()},e.prototype._setupStickyStyler=function(){var e=this,n=this._dir?this._dir.value:"ltr";this._stickyStyler=new mu(this._isNativeHtmlTable,this.stickyCssClass,n),(this._dir?this._dir.change:Object(Ui.a)()).pipe(Object(El.a)(this._onDestroy)).subscribe(function(n){e._stickyStyler.direction=n,e.updateStickyColumnStyles()})},e.decorators=[{type:a.Component,args:[{selector:"cdk-table, table[cdk-table]",exportAs:"cdkTable",template:bu,host:{class:"cdk-table"},encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:a.IterableDiffers},{type:a.ChangeDetectorRef},{type:a.ElementRef},{type:void 0,decorators:[{type:a.Attribute,args:["role"]}]},{type:Rl.b,decorators:[{type:a.Optional}]}]},e.propDecorators={trackBy:[{type:a.Input}],dataSource:[{type:a.Input}],multiTemplateDataRows:[{type:a.Input}],_rowOutlet:[{type:a.ViewChild,args:[hu]}],_headerRowOutlet:[{type:a.ViewChild,args:[gu]}],_footerRowOutlet:[{type:a.ViewChild,args:[vu]}],_contentColumnDefs:[{type:a.ContentChildren,args:[Jr]}],_contentRowDefs:[{type:a.ContentChildren,args:[uu]}],_contentHeaderRowDefs:[{type:a.ContentChildren,args:[ou]}],_contentFooterRowDefs:[{type:a.ContentChildren,args:[ru]}]},e}());function wu(e,n){return e.toArray().concat(Array.from(n))}var _u=[yu,uu,Yr,su,Qr,Kr,Jr,lu,pu,nu,tu,cu,ou,du,ru,hu,gu,vu],xu=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[Fl.CommonModule],exports:_u,declarations:_u}]}],e}(),Cu=t("dzgT"),ku=function(e){function n(n,t,l,i,a){var o=e.call(this,n,t,l,i,a)||this;return o._differs=n,o._changeDetectorRef=t,o._elementRef=l,o._dir=a,o.stickyCssClass="mat-table-sticky",o}return Object(Cl.b)(n,e),n.decorators=[{type:a.Component,args:[{selector:"mat-table, table[mat-table]",exportAs:"matTable",template:bu,styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-footer-row,mat-row{min-height:48px}mat-footer-row,mat-header-row,mat-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-footer-row::after,mat-header-row::after,mat-row::after{display:inline-block;min-height:inherit;content:''}mat-cell:first-child,mat-footer-cell:first-child,mat-header-cell:first-child{padding-left:24px}[dir=rtl] mat-cell:first-child,[dir=rtl] mat-footer-cell:first-child,[dir=rtl] mat-header-cell:first-child{padding-left:0;padding-right:24px}mat-cell:last-child,mat-footer-cell:last-child,mat-header-cell:last-child{padding-right:24px}[dir=rtl] mat-cell:last-child,[dir=rtl] mat-footer-cell:last-child,[dir=rtl] mat-header-cell:last-child{padding-right:0;padding-left:24px}mat-cell,mat-footer-cell,mat-header-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-footer-row,tr.mat-row{height:48px}th.mat-header-cell{text-align:left}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}td.mat-cell:first-child,td.mat-footer-cell:first-child,th.mat-header-cell:first-child{padding-left:24px}td.mat-cell:last-child,td.mat-footer-cell:last-child,th.mat-header-cell:last-child{padding-right:24px}"],host:{class:"mat-table"},encapsulation:a.ViewEncapsulation.None,changeDetection:a.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:a.IterableDiffers},{type:a.ChangeDetectorRef},{type:a.ElementRef},{type:void 0,decorators:[{type:a.Attribute,args:["role"]}]},{type:Rl.b,decorators:[{type:a.Optional}]}]},n}(yu),Ru=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[matCellDef]",providers:[{provide:Yr,useExisting:n}]}]}],n}(Yr),Su=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[matHeaderCellDef]",providers:[{provide:Qr,useExisting:n}]}]}],n}(Qr),Iu=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[matFooterCellDef]",providers:[{provide:Kr,useExisting:n}]}]}],n}(Kr),Ou=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[matColumnDef]",providers:[{provide:Jr,useExisting:n}]}]}],n.propDecorators={name:[{type:a.Input,args:["matColumnDef"]}],sticky:[{type:a.Input}],stickyEnd:[{type:a.Input}]},n}(Jr),Pu=function(e){function n(n,t){var l=e.call(this,n,t)||this;return t.nativeElement.classList.add("mat-column-"+n.cssClassFriendlyName),l}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"mat-header-cell, th[mat-header-cell]",host:{class:"mat-header-cell",role:"columnheader"}}]}],n.ctorParameters=function(){return[{type:Jr},{type:a.ElementRef}]},n}(nu),Tu=function(e){function n(n,t){var l=e.call(this,n,t)||this;return t.nativeElement.classList.add("mat-column-"+n.cssClassFriendlyName),l}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"mat-footer-cell, td[mat-footer-cell]",host:{class:"mat-footer-cell",role:"gridcell"}}]}],n.ctorParameters=function(){return[{type:Jr},{type:a.ElementRef}]},n}(tu),Du=function(e){function n(n,t){var l=e.call(this,n,t)||this;return t.nativeElement.classList.add("mat-column-"+n.cssClassFriendlyName),l}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"mat-cell, td[mat-cell]",host:{class:"mat-cell",role:"gridcell"}}]}],n.ctorParameters=function(){return[{type:Jr},{type:a.ElementRef}]},n}(lu),Au=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[matHeaderRowDef]",providers:[{provide:ou,useExisting:n}],inputs:["columns: matHeaderRowDef","sticky: matHeaderRowDefSticky"]}]}],n}(ou),Eu=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[matFooterRowDef]",providers:[{provide:ru,useExisting:n}],inputs:["columns: matFooterRowDef","sticky: matFooterRowDefSticky"]}]}],n}(ru),ju=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Directive,args:[{selector:"[matRowDef]",providers:[{provide:uu,useExisting:n}],inputs:["columns: matRowDefColumns","when: matRowDefWhen"]}]}],n}(uu),Fu=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Component,args:[{selector:"mat-header-row, tr[mat-header-row]",template:iu,host:{class:"mat-header-row",role:"row"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None,exportAs:"matHeaderRow",providers:[{provide:cu,useExisting:n}]}]}],n}(cu),Mu=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Component,args:[{selector:"mat-footer-row, tr[mat-footer-row]",template:iu,host:{class:"mat-footer-row",role:"row"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None,exportAs:"matFooterRow",providers:[{provide:du,useExisting:n}]}]}],n}(du),Nu=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Component,args:[{selector:"mat-row, tr[mat-row]",template:iu,host:{class:"mat-row",role:"row"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None,exportAs:"matRow",providers:[{provide:pu,useExisting:n}]}]}],n}(pu),Lu=[ku,Su,Au,Ou,Ru,ju,Iu,Eu,Pu,Du,Tu,Fu,Nu,Mu],$u=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[xu,Fl.CommonModule,Ml.n],exports:Lu,declarations:Lu}]}],e}(),zu=9007199254740991,Vu=function(e){function n(n){void 0===n&&(n=[]);var t=e.call(this)||this;return t._renderData=new Xr.a([]),t._filter=new Xr.a(""),t._renderChangesSubscription=Bi.a.EMPTY,t.sortingDataAccessor=function(e,n){var t=e[n];if(Object(Sl.a)(t)){var l=Number(t);return l<zu?l:t}return t},t.sortData=function(e,n){var l=n.active,i=n.direction;return l&&""!=i?e.sort(function(e,n){var a=t.sortingDataAccessor(e,l),o=t.sortingDataAccessor(n,l),r=0;return null!=a&&null!=o?a>o?r=1:a<o&&(r=-1):null!=a?r=1:null!=o&&(r=-1),r*("asc"==i?1:-1)}):e},t.filterPredicate=function(e,n){var t=Object.keys(e).reduce(function(n,t){return n+e[t]},"").toLowerCase(),l=n.trim().toLowerCase();return-1!=t.indexOf(l)},t._data=new Xr.a(n),t._updateChangeSubscription(),t}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"data",{get:function(){return this._data.value},set:function(e){this._data.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"filter",{get:function(){return this._filter.value},set:function(e){this._filter.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sort",{get:function(){return this._sort},set:function(e){this._sort=e,this._updateChangeSubscription()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paginator",{get:function(){return this._paginator},set:function(e){this._paginator=e,this._updateChangeSubscription()},enumerable:!0,configurable:!0}),n.prototype._updateChangeSubscription=function(){var e=this,n=this._sort?Object(qi.a)(this._sort.sortChange,this._sort.initialized):Object(Ui.a)(null),t=this._paginator?Object(qi.a)(this._paginator.page,this._paginator.initialized):Object(Ui.a)(null),l=this._data,i=Object(Cu.b)(l,this._filter).pipe(Object(s.a)(function(n){var t=n[0];return e._filterData(t)})),a=Object(Cu.b)(i,n).pipe(Object(s.a)(function(n){var t=n[0];return e._orderData(t)})),o=Object(Cu.b)(a,t).pipe(Object(s.a)(function(n){var t=n[0];return e._pageData(t)}));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=o.subscribe(function(n){return e._renderData.next(n)})},n.prototype._filterData=function(e){var n=this;return this.filteredData=this.filter?e.filter(function(e){return n.filterPredicate(e,n.filter)}):e,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData},n.prototype._orderData=function(e){return this.sort?this.sortData(e.slice(),this.sort):e},n.prototype._pageData=function(e){if(!this.paginator)return e;var n=this.paginator.pageIndex*this.paginator.pageSize;return e.slice().splice(n,this.paginator.pageSize)},n.prototype._updatePaginator=function(e){var n=this;Promise.resolve().then(function(){if(n.paginator&&(n.paginator.length=e,n.paginator.pageIndex>0)){var t=Math.ceil(n.paginator.length/n.paginator.pageSize)-1||0;n.paginator.pageIndex=Math.min(n.paginator.pageIndex,t)}})},n.prototype.connect=function(){return this._renderData},n.prototype.disconnect=function(){},n}(Zr.a),qu=(a["\u0275cmf"]($u,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,Fl.NgLocalization,Fl.NgLocaleLocalization,[a.LOCALE_ID,[2,Fl["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](1073742336,Fl.CommonModule,Fl.CommonModule,[]),a["\u0275mpd"](1073742336,xu,xu,[]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,$u,$u,[])])}),a["\u0275crt"]({encapsulation:2,styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-footer-row,mat-row{min-height:48px}mat-footer-row,mat-header-row,mat-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-footer-row::after,mat-header-row::after,mat-row::after{display:inline-block;min-height:inherit;content:''}mat-cell:first-child,mat-footer-cell:first-child,mat-header-cell:first-child{padding-left:24px}[dir=rtl] mat-cell:first-child,[dir=rtl] mat-footer-cell:first-child,[dir=rtl] mat-header-cell:first-child{padding-left:0;padding-right:24px}mat-cell:last-child,mat-footer-cell:last-child,mat-header-cell:last-child{padding-right:24px}[dir=rtl] mat-cell:last-child,[dir=rtl] mat-footer-cell:last-child,[dir=rtl] mat-header-cell:last-child{padding-right:0;padding-left:24px}mat-cell,mat-footer-cell,mat-header-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-footer-row,tr.mat-row{height:48px}th.mat-header-cell{text-align:left}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}td.mat-cell:first-child,td.mat-footer-cell:first-child,th.mat-header-cell:first-child{padding-left:24px}td.mat-cell:last-child,td.mat-footer-cell:last-child,th.mat-header-cell:last-child{padding-right:24px}"],data:{}}));function Uu(e){return a["\u0275vid"](2,[a["\u0275qud"](402653184,1,{_rowOutlet:0}),a["\u0275qud"](402653184,2,{_headerRowOutlet:0}),a["\u0275qud"](402653184,3,{_footerRowOutlet:0}),(e()(),a["\u0275eld"](3,16777216,null,null,1,null,null,null,null,null,null,null)),a["\u0275did"](4,16384,[[2,4]],0,gu,[a.ViewContainerRef,a.ElementRef],null,null),(e()(),a["\u0275eld"](5,16777216,null,null,1,null,null,null,null,null,null,null)),a["\u0275did"](6,16384,[[1,4]],0,hu,[a.ViewContainerRef,a.ElementRef],null,null),(e()(),a["\u0275eld"](7,16777216,null,null,1,null,null,null,null,null,null,null)),a["\u0275did"](8,16384,[[3,4]],0,vu,[a.ViewContainerRef,a.ElementRef],null,null)],null,null)}a["\u0275ccf"]("mat-table, table[mat-table]",ku,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"mat-table",[["class","mat-table"]],null,null,null,Uu,qu)),a["\u0275did"](1,2342912,null,4,ku,[a.IterableDiffers,a.ChangeDetectorRef,a.ElementRef,[8,null],[2,Rl.b]],null,null),a["\u0275qud"](603979776,1,{_contentColumnDefs:1}),a["\u0275qud"](603979776,2,{_contentRowDefs:1}),a["\u0275qud"](603979776,3,{_contentHeaderRowDefs:1}),a["\u0275qud"](603979776,4,{_contentFooterRowDefs:1})],function(e,n){e(n,1,0)},null)},{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},{},[]);var Bu=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Hu(e){return a["\u0275vid"](2,[(e()(),a["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),a["\u0275did"](1,147456,null,0,su,[a.ViewContainerRef],null,null)],null,null)}a["\u0275ccf"]("mat-header-row, tr[mat-header-row]",Fu,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-row",[["class","mat-header-row"],["role","row"]],null,null,null,Hu,Bu)),a["\u0275prd"](6144,null,cu,null,[Fu]),a["\u0275did"](2,49152,null,0,Fu,[],null,null)],null,null)},{},{},[]);var Wu=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Zu(e){return a["\u0275vid"](2,[(e()(),a["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),a["\u0275did"](1,147456,null,0,su,[a.ViewContainerRef],null,null)],null,null)}a["\u0275ccf"]("mat-footer-row, tr[mat-footer-row]",Mu,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-footer-row",[["class","mat-footer-row"],["role","row"]],null,null,null,Zu,Wu)),a["\u0275prd"](6144,null,du,null,[Mu]),a["\u0275did"](2,49152,null,0,Mu,[],null,null)],null,null)},{},{},[]);var Xu=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Gu(e){return a["\u0275vid"](2,[(e()(),a["\u0275eld"](0,16777216,null,null,1,null,null,null,null,null,null,null)),a["\u0275did"](1,147456,null,0,su,[a.ViewContainerRef],null,null)],null,null)}a["\u0275ccf"]("mat-row, tr[mat-row]",Nu,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-row",[["class","mat-row"],["role","row"]],null,null,null,Gu,Xu)),a["\u0275prd"](6144,null,pu,null,[Nu]),a["\u0275did"](2,49152,null,0,Nu,[],null,null)],null,null)},{},{},[]);var Yu=t("YNBZ"),Qu=(t("BJTO"),function(){function e(e,n,t,l){var i=this;this.cloudinary=e,this.store=n,this.dialogRef=t,this.data=l,this.uploader=new Yu.FileUploader({url:"//api.cloudinary.com/v1_1/"+this.cloudinary.config().cloud_name+"/upload",autoUpload:!1,isHTML5:!0,removeAfterUpload:!0}),this.upload=new jl.a,this.description="",this.description=this.data.description,this.uploader.onCompleteItem=function(e,n,t,l){200===t?i.upload.next(JSON.parse(n)):i.upload.thrownError(t)}}return e.prototype.fileSelected=function(e){var n=this,t=e[0];this.getBase64(t).then(function(e){return n.imagePreview=e})},e.prototype.getBase64=function(e){return new Promise(function(n,t){var l=new FileReader;l.readAsDataURL(e),l.onload=function(){return n(l.result)},l.onerror=function(e){return t(e)}})},e.prototype.removeAvatar=function(){this.data.avatarUrl?this.store.dispatch("alliance"===this.data.type?new yn:new x):this.uploader.queue.length&&(this.uploader.clearQueue(),this.imagePreview=null)},e.prototype.saveProfile=function(){var e=this;this.upload.pipe(Object(Ot.a)()).subscribe(function(n){var t={};n&&(t.avatarUrl=n.secure_url),e.description!==e.data.description&&(t.description=e.description),Object.keys(t).length&&e.store.dispatch("alliance"===e.data.type?new gn(t):new y(t))}),this.uploadFile()},e.prototype.uploadFile=function(){var e=this;if(this.uploader.queue.length){var n=this.uploader.queue[this.uploader.queue.length-1];n.withCredentials=!1,n.onBuildForm=function(n){return n.append("folder",e.data.type),n.append("upload_preset",e.cloudinary.config().upload_preset),n},n.upload()}else this.upload.next(null)},e}()),Ku=function(){function e(e){this.dialog=e,this.alliance=null,this.openPlayerProfile=new a.EventEmitter,this.displayedColumns=["rank","name","score"],this.dataSource=new Vu([])}return Object.defineProperty(e.prototype,"allianceScore",{get:function(){return this.alliance.members.reduce(function(e,n){return e+n.score},0)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this.dataSource.data=this.alliance?this.alliance.members:[],this.editDialog&&(this.editDialog.componentInstance.data={avatarUrl:this.alliance.avatarUrl,description:this.alliance.description,type:"alliance"})},e.prototype.editProfile=function(){var e=this;this.editDialog=this.dialog.open(Qu,{width:"80vw",data:{description:this.alliance.description,avatarUrl:this.alliance.avatarUrl,type:"alliance"}}),this.editDialog.afterClosed().subscribe(function(n){e.editDialog=null})},e}(),Ju=t("o3x0"),es=[[""]],ns=a["\u0275crt"]({encapsulation:0,styles:es,data:{}});function ts(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Loading..."]))],null,null)}function ls(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.editProfile()&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Edit profile"]))],null,null)}function is(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null))],null,function(e,n){e(n,1,0,n.component.alliance.avatarUrl)})}function as(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.alliance.description)})}function os(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["#"]))],null,null)}function rs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,["",""]))],null,function(e,n){e(n,2,0,n.context.index+1)})}function us(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["Name"]))],null,null)}function ss(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275eld"](2,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(e.context.$implicit.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](3,null,["",""]))],null,function(e,n){e(n,3,0,n.context.$implicit.name)})}function cs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["Score"]))],null,null)}function ds(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.score)})}function ps(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-row",[["class","mat-header-row"],["role","row"]],null,null,null,Hu,Bu)),a["\u0275prd"](6144,null,cu,null,[Fu]),a["\u0275did"](2,49152,null,0,Fu,[],null,null)],null,null)}function fs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-row",[["class","mat-row"],["role","row"]],null,null,null,Gu,Xu)),a["\u0275prd"](6144,null,pu,null,[Nu]),a["\u0275did"](2,49152,null,0,Nu,[],null,null)],null,null)}function ms(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,81,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,80,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,27,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,4,"div",[["class","d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,1,"h2",[["class","m-0"]],null,null,null,null,null)),(e()(),a["\u0275ted"](5,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,ls)),a["\u0275did"](7,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](8,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,is)),a["\u0275did"](10,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](11,0,null,null,15,"div",[["class","row mt-2"]],null,null,null,null,null)),(e()(),a["\u0275eld"](12,0,null,null,6,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),a["\u0275eld"](13,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Members"])),(e()(),a["\u0275eld"](15,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Score"])),(e()(),a["\u0275eld"](17,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Founded"])),(e()(),a["\u0275eld"](19,0,null,null,7,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(e()(),a["\u0275eld"](20,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](21,null,["",""])),(e()(),a["\u0275eld"](22,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](23,null,["",""])),(e()(),a["\u0275eld"](24,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](25,null,["",""])),a["\u0275ppd"](26,2),(e()(),a["\u0275eld"](27,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,as)),a["\u0275did"](29,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](30,0,null,null,51,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),a["\u0275eld"](31,0,null,null,1,"h2",[["class","m-0"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Members"])),(e()(),a["\u0275eld"](33,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),a["\u0275eld"](34,0,null,null,47,"mat-table",[["class","mat-table"]],null,null,null,Uu,qu)),a["\u0275did"](35,2342912,null,4,ku,[a.IterableDiffers,a.ChangeDetectorRef,a.ElementRef,[8,null],[2,Rl.b]],{dataSource:[0,"dataSource"]},null),a["\u0275qud"](603979776,1,{_contentColumnDefs:1}),a["\u0275qud"](603979776,2,{_contentRowDefs:1}),a["\u0275qud"](603979776,3,{_contentHeaderRowDefs:1}),a["\u0275qud"](603979776,4,{_contentFooterRowDefs:1}),(e()(),a["\u0275eld"](40,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](41,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,5,{cell:0}),a["\u0275qud"](335544320,6,{headerCell:0}),a["\u0275qud"](335544320,7,{footerCell:0}),a["\u0275prd"](2048,[[1,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,os)),a["\u0275did"](47,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[6,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,rs)),a["\u0275did"](50,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[5,4]],Yr,null,[Ru]),(e()(),a["\u0275eld"](52,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](53,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,8,{cell:0}),a["\u0275qud"](335544320,9,{headerCell:0}),a["\u0275qud"](335544320,10,{footerCell:0}),a["\u0275prd"](2048,[[1,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,us)),a["\u0275did"](59,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[9,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,ss)),a["\u0275did"](62,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[8,4]],Yr,null,[Ru]),(e()(),a["\u0275eld"](64,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](65,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,11,{cell:0}),a["\u0275qud"](335544320,12,{headerCell:0}),a["\u0275qud"](335544320,13,{footerCell:0}),a["\u0275prd"](2048,[[1,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,cs)),a["\u0275did"](71,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[12,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,ds)),a["\u0275did"](74,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[11,4]],Yr,null,[Ru]),(e()(),a["\u0275and"](0,null,null,2,null,ps)),a["\u0275did"](77,540672,null,0,Au,[a.TemplateRef,a.IterableDiffers],{columns:[0,"columns"]},null),a["\u0275prd"](2048,[[3,4]],ou,null,[Au]),(e()(),a["\u0275and"](0,null,null,2,null,fs)),a["\u0275did"](80,540672,null,0,ju,[a.TemplateRef,a.IterableDiffers],{columns:[0,"columns"]},null),a["\u0275prd"](2048,[[2,4]],uu,null,[ju])],function(e,n){var t=n.component;e(n,7,0,null==t.role?null:t.role.permissions.editProfile),e(n,10,0,t.alliance.avatarUrl),e(n,29,0,t.alliance.description),e(n,35,0,t.dataSource);e(n,41,0,"rank");e(n,53,0,"name");e(n,65,0,"score"),e(n,77,0,t.displayedColumns),e(n,80,0,t.displayedColumns)},function(e,n){var t=n.component;e(n,5,0,t.alliance.name),e(n,21,0,t.alliance.members.length),e(n,23,0,t.allianceScore),e(n,25,0,a["\u0275unv"](n,25,0,e(n,26,0,a["\u0275nov"](n.parent,0),t.alliance.createdAt,"short")))})}function hs(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DatePipe,[a.LOCALE_ID]),(e()(),a["\u0275eld"](1,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,ts)),a["\u0275did"](3,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,ms)),a["\u0275did"](5,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,3,0,!t.alliance),e(n,5,0,t.alliance)},null)}a["\u0275ccf"]("alliance-profile",Ku,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"alliance-profile",[],null,null,null,hs,ns)),a["\u0275did"](1,573440,null,0,Ku,[Ju.e],null,null)],null,null)},{alliance:"alliance",role:"role"},{openPlayerProfile:"openPlayerProfile"},[]);var gs=[[""]],vs=a["\u0275crt"]({encapsulation:0,styles:gs,data:{}});function bs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,16777216,null,null,5,"mat-tab",[["label","Diplomacy"]],null,null,null,Pa,Ia)),a["\u0275did"](1,770048,[[1,4]],2,Qi,[a.ViewContainerRef],{textLabel:[0,"textLabel"]},null),a["\u0275qud"](335544320,6,{templateLabel:0}),a["\u0275qud"](335544320,7,{_explicitContent:0}),(e()(),a["\u0275eld"](4,0,null,0,1,"alliance-diplomacy",[],null,null,null,Eo,ro)),a["\u0275did"](5,573440,null,0,ao,[O.n],{alliance:[0,"alliance"]},null),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){e(n,1,0,"Diplomacy"),e(n,5,0,n.parent.context.ngIf)},null)}function ys(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275eld"](3,0,null,null,2,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.cancelInvite(e.context.$implicit.id)&&l);return l},oi.b,oi.a)),a["\u0275did"](4,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](5,2)],function(e,n){e(n,4,0,e(n,5,0,"fas","times"))},function(e,n){e(n,2,0,n.context.$implicit.name),e(n,3,0,a["\u0275nov"](n,4).renderedIconHTML)})}function ws(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Invited players:"])),(e()(),a["\u0275eld"](3,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,ys)),a["\u0275did"](5,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){e(n,5,0,n.parent.parent.context.ngIf.invitations)},null)}function _s(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["No pending invitations."]))],null,null)}function xs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,16777216,null,null,19,"mat-tab",[["label","Invitations"]],null,null,null,Pa,Ia)),a["\u0275did"](1,770048,[[1,4]],2,Qi,[a.ViewContainerRef],{textLabel:[0,"textLabel"]},null),a["\u0275qud"](335544320,8,{templateLabel:0}),a["\u0275qud"](335544320,9,{_explicitContent:0}),(e()(),a["\u0275eld"](4,0,null,0,12,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Invite players to expand your alliance."])),(e()(),a["\u0275eld"](7,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](8,0,null,null,5,"input",[["placeholder","Player name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,9)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,9).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,9)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,9)._compositionEnd(t.target.value)&&l);"ngModelChange"===n&&(l=!1!==(i.inviteTarget=t)&&l);return l},null,null)),a["\u0275did"](9,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](11,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](13,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](14,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.createInvite()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](15,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Invite"])),(e()(),a["\u0275and"](16777216,null,0,1,null,ws)),a["\u0275did"](18,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),a["\u0275and"](0,[["noInvitations",2]],0,0,null,_s)),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,1,0,"Invitations"),e(n,11,0,t.inviteTarget);e(n,15,0,"primary"),e(n,18,0,n.parent.context.ngIf.invitations.length,a["\u0275nov"](n,19))},function(e,n){e(n,8,0,a["\u0275nov"](n,13).ngClassUntouched,a["\u0275nov"](n,13).ngClassTouched,a["\u0275nov"](n,13).ngClassPristine,a["\u0275nov"](n,13).ngClassDirty,a["\u0275nov"](n,13).ngClassValid,a["\u0275nov"](n,13).ngClassInvalid,a["\u0275nov"](n,13).ngClassPending),e(n,14,0,a["\u0275nov"](n,15).disabled||null,"NoopAnimations"===a["\u0275nov"](n,15)._animationMode)})}function Cs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,16777216,null,null,7,"mat-tab",[["label","Management"]],null,null,null,Pa,Ia)),a["\u0275did"](1,770048,[[1,4]],2,Qi,[a.ViewContainerRef],{textLabel:[0,"textLabel"]},null),a["\u0275qud"](335544320,10,{templateLabel:0}),a["\u0275qud"](335544320,11,{_explicitContent:0}),(e()(),a["\u0275eld"](4,0,null,0,1,"editable-roles",[],null,[[null,"roleUpdate"],[null,"roleRemove"]],function(e,n,t){var l=!0,i=e.component;"roleUpdate"===n&&(l=!1!==i.roleUpdate(t)&&l);"roleRemove"===n&&(l=!1!==i.roleRemove(t)&&l);return l},pr,lr)),a["\u0275did"](5,573440,null,0,nr,[Si.f],{alliance:[0,"alliance"]},{roleUpdate:"roleUpdate",roleRemove:"roleRemove"}),(e()(),a["\u0275eld"](6,0,null,0,1,"player-roles",[["class","mt-4"]],null,[[null,"playerRoleUpdate"],[null,"playerRemove"]],function(e,n,t){var l=!0,i=e.component;"playerRoleUpdate"===n&&(l=!1!==i.updatePlayerRole(t)&&l);"playerRemove"===n&&(l=!1!==i.removeMember(t)&&l);return l},Cr,br)),a["\u0275did"](7,49152,null,0,gr,[],{alliance:[0,"alliance"]},{playerRoleUpdate:"playerRoleUpdate",playerRemove:"playerRemove"}),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){e(n,1,0,"Management"),e(n,5,0,n.parent.context.ngIf),e(n,7,0,n.parent.context.ngIf)},null)}function ks(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,21,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,20,"mat-tab-group",[["class","mat-tab-group"]],[[2,"mat-tab-group-dynamic-height",null],[2,"mat-tab-group-inverted-header",null]],null,null,_a,ha)),a["\u0275did"](2,3325952,null,1,ua,[a.ElementRef,a.ChangeDetectorRef],null,null),a["\u0275qud"](603979776,1,{_tabs:1}),(e()(),a["\u0275eld"](4,16777216,null,null,5,"mat-tab",[["label","Overview"]],null,null,null,Pa,Ia)),a["\u0275did"](5,770048,[[1,4]],2,Qi,[a.ViewContainerRef],{textLabel:[0,"textLabel"]},null),a["\u0275qud"](335544320,2,{templateLabel:0}),a["\u0275qud"](335544320,3,{_explicitContent:0}),(e()(),a["\u0275eld"](8,0,null,0,1,"alliance-overview",[],null,[[null,"leaveAlliance"],[null,"destroyAlliance"],[null,"openAllianceProfile"],[null,"openPlayerProfile"]],function(e,n,t){var l=!0,i=e.component;"leaveAlliance"===n&&(l=!1!==i.leaveAlliance()&&l);"destroyAlliance"===n&&(l=!1!==i.destroyAlliance()&&l);"openAllianceProfile"===n&&(l=!1!==i.openAllianceProfile.emit(t)&&l);"openPlayerProfile"===n&&(l=!1!==i.openPlayerProfile.emit(t)&&l);return l},Wr,Sr)),a["\u0275did"](9,49152,null,0,kr,[],{alliance:[0,"alliance"],role:[1,"role"]},{leaveAlliance:"leaveAlliance",destroyAlliance:"destroyAlliance",openAllianceProfile:"openAllianceProfile",openPlayerProfile:"openPlayerProfile"}),(e()(),a["\u0275eld"](10,16777216,null,null,5,"mat-tab",[["label","Profile"]],null,null,null,Pa,Ia)),a["\u0275did"](11,770048,[[1,4]],2,Qi,[a.ViewContainerRef],{textLabel:[0,"textLabel"]},null),a["\u0275qud"](335544320,4,{templateLabel:0}),a["\u0275qud"](335544320,5,{_explicitContent:0}),(e()(),a["\u0275eld"](14,0,null,0,1,"alliance-profile",[],null,null,null,hs,ns)),a["\u0275did"](15,573440,null,0,Ku,[Ju.e],{alliance:[0,"alliance"],role:[1,"role"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,bs)),a["\u0275did"](17,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,xs)),a["\u0275did"](19,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Cs)),a["\u0275did"](21,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,5,0,"Overview"),e(n,9,0,n.context.ngIf,n.parent.context.ngIf.role);e(n,11,0,"Profile"),e(n,15,0,n.context.ngIf,n.parent.context.ngIf.role),e(n,17,0,null==n.parent.context.ngIf.role?null:n.parent.context.ngIf.role.permissions.manageAlliance),e(n,19,0,null==n.parent.context.ngIf.role?null:n.parent.context.ngIf.role.permissions.viewInvites),e(n,21,0,null==n.parent.context.ngIf.role?null:n.parent.context.ngIf.role.permissions.viewManagement)},function(e,n){e(n,1,0,a["\u0275nov"](n,2).dynamicHeight,"below"===a["\u0275nov"](n,2).headerPosition)})}function Rs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275eld"](3,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,["",""])),a["\u0275ppd"](5,2),(e()(),a["\u0275eld"](6,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.acceptInvite(e.context.$implicit.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Accept"])),(e()(),a["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.rejectInvite(e.context.$implicit.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Reject"]))],null,function(e,n){e(n,2,0,n.context.$implicit.name),e(n,4,0,a["\u0275unv"](n,4,0,e(n,5,0,a["\u0275nov"](n.parent.parent.parent.parent.parent,0),n.context.$implicit.createdAt,"yy-MM-dd HH:mm:ss")))})}function Ss(e){return a["\u0275vid"](0,[(e()(),a["\u0275ted"](-1,null,["You don't hanve any invitations."]))],null,null)}function Is(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Here are your current invitations:"])),(e()(),a["\u0275and"](16777216,null,null,1,null,Rs)),a["\u0275did"](4,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](0,[["noInvites",2]],null,0,null,Ss))],function(e,n){e(n,4,0,n.parent.context.ngIf)},null)}function Os(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["You are currently not a part of any alliance."])),(e()(),a["\u0275and"](16777216,null,null,1,null,Is)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,4,0,n.context.ngIf.length)},null)}function Ps(e){return a["\u0275vid"](0,[(e()(),a["\u0275and"](16777216,null,null,2,null,Os)),a["\u0275did"](1,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),(e()(),a["\u0275eld"](3,0,null,null,10,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Create your own alliance:"])),(e()(),a["\u0275eld"](6,0,null,null,5,"input",[["placeholder","Alliance name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,7)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,7).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,7)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,7)._compositionEnd(t.target.value)&&l);"ngModelChange"===n&&(l=!1!==(i.allianceName=t)&&l);return l},null,null)),a["\u0275did"](7,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](9,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](11,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.createAlliance()&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Create"]))],function(e,n){var t=n.component;e(n,1,0,a["\u0275unv"](n,1,0,a["\u0275nov"](n,2).transform(t.invitations$))),e(n,9,0,t.allianceName)},function(e,n){e(n,6,0,a["\u0275nov"](n,11).ngClassUntouched,a["\u0275nov"](n,11).ngClassTouched,a["\u0275nov"](n,11).ngClassPristine,a["\u0275nov"](n,11).ngClassDirty,a["\u0275nov"](n,11).ngClassValid,a["\u0275nov"](n,11).ngClassInvalid,a["\u0275nov"](n,11).ngClassPending)})}function Ts(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"div",[["class","p-2"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,ks)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),a["\u0275and"](0,[["noAlliance",2]],null,0,null,Ps))],function(e,n){e(n,2,0,n.context.ngIf.alliance,a["\u0275nov"](n,3))},null)}function Ds(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DatePipe,[a.LOCALE_ID]),(e()(),a["\u0275and"](16777216,null,null,2,null,Ts)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,2,0,a["\u0275unv"](n,2,0,a["\u0275nov"](n,3).transform(t.allianceData$)))},null)}a["\u0275ccf"]("alliance",Jo,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"alliance",[],null,null,null,Ds,vs)),a["\u0275did"](1,114688,null,0,Jo,[O.n,Si.f],null,null)],function(e,n){e(n,1,0)},null)},{},{openAllianceProfile:"openAllianceProfile",openPlayerProfile:"openPlayerProfile"},[]);var As=t("au9L"),Es=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},js=function(){function e(){this.unitQueue=[],this.unitDetails=Pi}return e.prototype.ngOnInit=function(){var e=this;this.queue$=Object(ci.a)(0,1e3).pipe(pi(),Object(s.a)(function(n){var t=n.timestamp;return e.unitQueue.map(function(e){return Es({},e,{timeLeft:+e.endsAt-t})})}))},e.prototype.ngOnChanges=function(e){},e}(),Fs=[[""]],Ms=a["\u0275crt"]({encapsulation:0,styles:Fs,data:{}});function Ns(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,3,"div",[["class","col d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,0,"i",[["class","unit-icon mr-1"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,["",""])),(e()(),a["\u0275eld"](5,0,null,null,1,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275ted"](6,null,[" "," "])),(e()(),a["\u0275eld"](7,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275ted"](8,null,[" "," "])),a["\u0275ppd"](9,2),(e()(),a["\u0275eld"](10,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275ted"](11,null,[" "," "])),a["\u0275ppd"](12,2)],null,function(e,n){var t=n.component;e(n,2,0,n.context.$implicit.name),e(n,4,0,t.unitDetails[n.context.$implicit.name].name),e(n,6,0,n.context.$implicit.amount),e(n,8,0,a["\u0275unv"](n,8,0,e(n,9,0,a["\u0275nov"](n.parent,0),n.context.$implicit.endsAt,"HH:mm:ss"))),e(n,11,0,a["\u0275unv"](n,11,0,e(n,12,0,a["\u0275nov"](n.parent,1),n.context.$implicit.timeLeft,"HH:mm:ss")))})}function Ls(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DatePipe,[a.LOCALE_ID]),a["\u0275pid"](0,si,[]),(e()(),a["\u0275and"](16777216,null,null,2,null,Ns)),a["\u0275did"](3,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,3,0,a["\u0275unv"](n,3,0,a["\u0275nov"](n,4).transform(t.queue$)))},null)}a["\u0275ccf"]("unit-queue",js,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"unit-queue",[],null,null,null,Ls,Ms)),a["\u0275did"](1,638976,null,0,js,[],null,null)],function(e,n){e(n,1,0)},null)},{unitQueue:"unitQueue"},{},[]);var $s=t("xlPZ");var zs=t("yGWI"),Vs=function(e){return Object(ci.a)(0,1e3).pipe(pi(),Object(s.a)(function(n){var t=(n.timestamp-+e.updatedAt)/36e5;return{wood:Math.min(e.resources.wood+e.production.wood*t,e.storage),clay:Math.min(e.resources.clay+e.production.clay*t,e.storage),iron:Math.min(e.resources.iron+e.production.iron*t,e.storage)}}),n?Object($s.a)(function(){return new jl.a},n):Object($s.a)(new jl.a),Object(zs.a)());var n},qs=function(){function e(e){this.store=e,this.unitDetails=Pi,this.recruitment={resources:{wood:null,clay:null,iron:null},resourcesAvailable:{wood:null,clay:null,iron:null},units:{},population:0},this.hasRecruitmentQueue=!1,mi.d.add(hi.f)}return e.prototype.ngOnChanges=function(){var e=this;this.unitData=this.worldData.units,this.hasRecruitmentQueue=!!this.town.unitQueues.length,Vs(this.town).pipe(Object(Mt.a)(1)).subscribe(function(n){if(e.recruitment.resources.wood===e.recruitment.resourcesAvailable.wood&&e.recruitment.resources.clay===e.recruitment.resourcesAvailable.clay&&e.recruitment.resources.iron===e.recruitment.resourcesAvailable.iron)return e.recruitment.resources=n,void(e.recruitment.resourcesAvailable=n);var t=n.wood-e.recruitment.resources.wood,l=n.clay-e.recruitment.resources.clay,i=n.iron-e.recruitment.resources.iron;e.recruitment.resources=n,e.recruitment.resourcesAvailable.wood+=t,e.recruitment.resourcesAvailable.clay+=l,e.recruitment.resourcesAvailable.iron+=i})},e.prototype.unitAmountUpdate=function(e,n){var t=(e=Math.max(e,0)||0)-(this.recruitment.units[n]||0);if("number"==typeof e){var l=this.worldData.unitMap[n].costs;this.recruitment.resourcesAvailable.wood-=l.wood*t,this.recruitment.resourcesAvailable.clay-=l.clay*t,this.recruitment.resourcesAvailable.iron-=l.iron*t,this.recruitment.population=Math.max(this.recruitment.population+t,0)}this.recruitment.units[n]=e},e.prototype.calculateMax=function(e){return Math.max(Math.min.apply(null,[Math.floor(this.recruitment.resourcesAvailable.wood/e.wood),Math.floor(this.recruitment.resourcesAvailable.clay/e.clay),Math.floor(this.recruitment.resourcesAvailable.iron/e.iron),Math.floor(this.town.population.available-this.recruitment.population)]),0)},e.prototype.canRecruit=function(e){var n=this;return!(this.town._actionState.recruit.inProgress||!this.town.population.available)&&(!e.requirements||e.requirements.every(function(e){return e.level<=n.town.buildings[e.item].level}))},e.prototype.recruit=function(e,n){this.store.dispatch(new Wt([{type:n,amount:e}]))},e}(),Us=[["input[_ngcontent-%COMP%]{max-width:4rem}"]],Bs=a["\u0275crt"]({encapsulation:0,styles:Us,data:{}});function Hs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[["class","pb-1 text-warning"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Max population reached, upgrade your farm to recruit new troops."]))],null,null)}function Ws(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,10,"div",[["class","py-2"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,6,"input",[["min","0"],["type","number"]],[[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModel"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,2)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,2).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,2)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,2)._compositionEnd(t.target.value)&&l);"change"===n&&(l=!1!==a["\u0275nov"](e,3).onChange(t.target.value)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,3).onChange(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,3).onTouched()&&l);"ngModel"===n&&(l=!1!==i.recruitment.units[e.parent.context.$implicit.name]&&l);"ngModelChange"===n&&(l=!1!==i.unitAmountUpdate(t,e.parent.context.$implicit.name)&&l);return l},null,null)),a["\u0275did"](2,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275did"](3,16384,null,0,Si.x,[a.Renderer2,a.ElementRef],null,null),a["\u0275prd"](1024,null,Si.l,function(e,n){return[e,n]},[Si.d,Si.x]),a["\u0275did"](5,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{name:[0,"name"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](7,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275ted"](8,null,[" / "," "])),(e()(),a["\u0275eld"](9,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.recruit(i.recruitment.units[e.parent.context.$implicit.name],e.parent.context.$implicit.name)&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["recruit"]))],function(e,n){e(n,5,0,a["\u0275inlineInterpolate"](1,"",n.parent.context.$implicit.name,""))},function(e,n){var t=n.component;e(n,1,0,t.calculateMax(n.parent.context.$implicit.costs)+t.recruitment.units[n.parent.context.$implicit.name],a["\u0275nov"](n,7).ngClassUntouched,a["\u0275nov"](n,7).ngClassTouched,a["\u0275nov"](n,7).ngClassPristine,a["\u0275nov"](n,7).ngClassDirty,a["\u0275nov"](n,7).ngClassValid,a["\u0275nov"](n,7).ngClassInvalid,a["\u0275nov"](n,7).ngClassPending),e(n,8,0,t.calculateMax(n.parent.context.$implicit.costs))})}function Zs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,17,"div",[["class","card p-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275eld"](3,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,2,"div",[["class","col-xl-6"]],null,null,null,null,null)),(e()(),a["\u0275ted"](5,null,["Attack: "," ",""])),a["\u0275pad"](6,1),(e()(),a["\u0275eld"](7,0,null,null,4,"div",[["class","col-xl-6"]],null,null,null,null,null)),(e()(),a["\u0275ted"](8,null,[" Defense: "," general, "," cavalry, "," archer"])),a["\u0275pad"](9,1),a["\u0275pad"](10,1),a["\u0275pad"](11,1),(e()(),a["\u0275eld"](12,0,null,null,2,"div",[["class","col-xl-6"]],null,null,null,null,null)),(e()(),a["\u0275ted"](13,null,["Haul: ",""])),a["\u0275pad"](14,1),(e()(),a["\u0275eld"](15,0,null,null,2,"div",[["class","col-xl-6"]],null,null,null,null,null)),(e()(),a["\u0275ted"](16,null,["Speed per field: ",""])),a["\u0275pad"](17,1)],null,function(e,n){var t=n.component;e(n,2,0,t.unitDetails[n.parent.context.$implicit.name].description),e(n,5,0,t.worldData.unitMap[e(n,6,0,n.parent.context.$implicit.name)].combat.attack,t.worldData.unitMap[n.parent.context.$implicit.name].attackType),e(n,8,0,t.worldData.unitMap[e(n,9,0,n.parent.context.$implicit.name)].combat.defense.general,t.worldData.unitMap[e(n,10,0,n.parent.context.$implicit.name)].combat.defense.cavalry,t.worldData.unitMap[e(n,11,0,n.parent.context.$implicit.name)].combat.defense.archer),e(n,13,0,t.worldData.unitMap[e(n,14,0,n.parent.context.$implicit.name)].haul),e(n,16,0,t.worldData.unitMap[e(n,17,0,n.parent.context.$implicit.name)].speed)})}function Xs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,32,"div",[["class","py-1"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,26,"div",[["class","row align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,6,"div",[["class","col-sm-6 d-flex"],["style","cursor: pointer;"]],null,[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!=(e.context.$implicit.visible=!e.context.$implicit.visible)&&l);return l},null,null)),(e()(),a["\u0275eld"](3,0,null,null,2,"fa-icon",[["class","fa pr-1 align-items-center d-flex ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](4,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"],rotate:[1,"rotate"]},null),a["\u0275pad"](5,2),(e()(),a["\u0275eld"](6,0,null,null,0,"i",[["class","unit-icon mr-1"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275eld"](7,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](8,null,["",""])),(e()(),a["\u0275eld"](9,0,null,null,15,"div",[["class","col-sm-6 d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](10,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](11,0,null,null,0,"div",[["class","resource-icon wood"]],null,null,null,null,null)),(e()(),a["\u0275ted"](12,null,[" "," "])),a["\u0275ppd"](13,2),(e()(),a["\u0275eld"](14,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](15,0,null,null,0,"div",[["class","resource-icon clay"]],null,null,null,null,null)),(e()(),a["\u0275ted"](16,null,[" "," "])),a["\u0275ppd"](17,2),(e()(),a["\u0275eld"](18,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](19,0,null,null,0,"div",[["class","resource-icon iron"]],null,null,null,null,null)),(e()(),a["\u0275ted"](20,null,[" "," "])),a["\u0275ppd"](21,2),(e()(),a["\u0275eld"](22,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](23,null,["",""])),a["\u0275ppd"](24,2),(e()(),a["\u0275eld"](25,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Ws)),a["\u0275did"](27,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](28,0,null,null,4,"div",[["class","row my-1"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),a["\u0275did"](29,16384,null,0,As.a,[],{collapsed:[0,"collapsed"]},null),(e()(),a["\u0275eld"](30,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Zs)),a["\u0275did"](32,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,4,0,e(n,5,0,"fas","chevron-right"),n.context.$implicit.visible?90:0),e(n,27,0,t.canRecruit(n.context.$implicit)),e(n,29,0,!n.context.$implicit.visible),e(n,32,0,t.unitDetails[n.context.$implicit.name])},function(e,n){var t=n.component;e(n,3,0,a["\u0275nov"](n,4).renderedIconHTML),e(n,6,0,n.context.$implicit.name),e(n,8,0,t.unitDetails[n.context.$implicit.name].name),e(n,12,0,a["\u0275unv"](n,12,0,e(n,13,0,a["\u0275nov"](n.parent,0),n.context.$implicit.costs.wood,"1.0-0"))),e(n,16,0,a["\u0275unv"](n,16,0,e(n,17,0,a["\u0275nov"](n.parent,0),n.context.$implicit.costs.clay,"1.0-0"))),e(n,20,0,a["\u0275unv"](n,20,0,e(n,21,0,a["\u0275nov"](n.parent,0),n.context.$implicit.costs.iron,"1.0-0"))),e(n,23,0,a["\u0275unv"](n,23,0,e(n,24,0,a["\u0275nov"](n.parent,1),n.context.$implicit.recruitTime*t.town.recruitmentModifier,"HH:mm:ss")));e(n,28,0,!0,!a["\u0275nov"](n,29).collapsed)})}function Gs(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Ongoing recruiting"])),(e()(),a["\u0275eld"](3,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,1,"div",[["class","col d-flex"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Unit"])),(e()(),a["\u0275eld"](6,0,null,null,1,"div",[["class","col d-flex"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Amount"])),(e()(),a["\u0275eld"](8,0,null,null,1,"div",[["class","col d-flex"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["End time"])),(e()(),a["\u0275eld"](10,0,null,null,1,"div",[["class","col d-flex"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Time left"])),(e()(),a["\u0275eld"](12,0,null,null,1,"unit-queue",[],null,null,null,Ls,Ms)),a["\u0275did"](13,638976,null,0,js,[],{unitQueue:[0,"unitQueue"]},null)],function(e,n){e(n,13,0,n.component.town.unitQueues)},null)}function Ys(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DecimalPipe,[a.LOCALE_ID]),a["\u0275pid"](0,si,[]),(e()(),a["\u0275eld"](2,0,null,null,8,"div",[["class","container-fluid pb-4"]],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Recruitment"])),(e()(),a["\u0275and"](16777216,null,null,1,null,Hs)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Xs)),a["\u0275did"](8,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Gs)),a["\u0275did"](10,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,6,0,!t.town.population.available),e(n,8,0,t.unitData),e(n,10,0,t.hasRecruitmentQueue)},null)}var Qs=a["\u0275ccf"]("recruit",qs,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"recruit",[],null,null,null,Ys,Bs)),a["\u0275did"](1,573440,null,0,qs,[O.n],null,null)],null,null)},{town:"town",worldData:"worldData"},{},[]),Ks=function(){function e(){this.unitList=[],this.attackType=z.CombatOutcome.attack,mi.d.add(hi.e)}return e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){},e}(),Js=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ec(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[["class","col d-flex flex-column align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,0,"div",[["class","unit-icon"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,["",""])),(e()(),a["\u0275eld"](4,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),a["\u0275ted"](5,null,["",""]))],null,function(e,n){var t=n.component;e(n,1,0,n.context.$implicit.name),e(n,3,0,t.report.target.units[n.context.$implicit.name]||0),e(n,5,0,t.report.target.losses[n.context.$implicit.name]||0)})}function nc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[["class","col d-flex flex-column align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,0,"div",[["class","unit-icon"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,["",""])),(e()(),a["\u0275eld"](4,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),a["\u0275ted"](5,null,["",""]))],null,function(e,n){var t=n.component;e(n,1,0,n.context.$implicit.name),e(n,3,0,t.report.origin.units[n.context.$implicit.name]||0),e(n,5,0,t.report.origin.losses[n.context.$implicit.name]||0)})}function tc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,9,"div",[["class","mr-3"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,[" Loyalty decreased by "])),(e()(),a["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,["",""])),(e()(),a["\u0275ted"](-1,null,[" from "])),(e()(),a["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](6,null,["",""])),(e()(),a["\u0275ted"](-1,null,[" to "])),(e()(),a["\u0275eld"](8,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](9,null,["",""]))],null,function(e,n){var t=n.component;e(n,3,0,-1*(t.report.loyaltyChange[1]-t.report.loyaltyChange[0])),e(n,6,0,t.report.loyaltyChange[0]),e(n,9,0,t.report.loyaltyChange[1])})}function lc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,19,"section",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,tc)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](3,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Haul:"])),(e()(),a["\u0275eld"](5,0,null,null,12,"div",[["class","d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](6,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](7,0,null,null,0,"div",[["class","resource-icon wood"]],null,null,null,null,null)),(e()(),a["\u0275ted"](8,null,[" "," "])),a["\u0275ppd"](9,2),(e()(),a["\u0275eld"](10,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](11,0,null,null,0,"div",[["class","resource-icon clay"]],null,null,null,null,null)),(e()(),a["\u0275ted"](12,null,[" "," "])),a["\u0275ppd"](13,2),(e()(),a["\u0275eld"](14,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](15,0,null,null,0,"div",[["class","resource-icon iron"]],null,null,null,null,null)),(e()(),a["\u0275ted"](16,null,[" "," "])),a["\u0275ppd"](17,2),(e()(),a["\u0275eld"](18,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](19,null,["/",""]))],function(e,n){var t=n.component;e(n,2,0,t.report.loyaltyChange[0]!==t.report.loyaltyChange[1])},function(e,n){var t=n.component;e(n,8,0,a["\u0275unv"](n,8,0,e(n,9,0,a["\u0275nov"](n.parent,1),t.report.haul.haul.wood,"1.0-0"))),e(n,12,0,a["\u0275unv"](n,12,0,e(n,13,0,a["\u0275nov"](n.parent,1),t.report.haul.haul.clay,"1.0-0"))),e(n,16,0,a["\u0275unv"](n,16,0,e(n,17,0,a["\u0275nov"](n.parent,1),t.report.haul.haul.iron,"1.0-0"))),e(n,19,0,t.report.haul.maxHaul)})}function ic(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DatePipe,[a.LOCALE_ID]),a["\u0275pid"](0,Fl.DecimalPipe,[a.LOCALE_ID]),(e()(),a["\u0275eld"](2,0,null,null,46,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,15,"div",[["class","col-12 d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](5,null,[" "," "])),a["\u0275pid"](0,Fl.JsonPipe,[]),(e()(),a["\u0275eld"](7,0,null,null,3,"span",[["class","badge"]],null,null,null,null,null)),a["\u0275did"](8,278528,null,0,Fl.NgClass,[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](9,{"badge-danger":0,"badge-success":1}),(e()(),a["\u0275ted"](10,null,["",""])),(e()(),a["\u0275eld"](11,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](12,null,[""," (",") attacks "," (",")"])),(e()(),a["\u0275eld"](13,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(e()(),a["\u0275ted"](14,null,["",""])),a["\u0275ppd"](15,2),(e()(),a["\u0275eld"](16,0,null,null,2,"fa-icon",[["class","ml-auto ng-fa-icon"]],[[1,"aria-expanded",0],[1,"aria-controls",0],[8,"innerHTML",1]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=(i.isCollapsed=!i.isCollapsed)&&l);return l},oi.b,oi.a)),a["\u0275did"](17,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](18,2),(e()(),a["\u0275eld"](19,0,null,null,29,"div",[["class","col-12 py-2 px-1"]],[[8,"id",0],[2,"collapse",null],[2,"show",null]],null,null,null,null)),a["\u0275did"](20,16384,null,0,As.a,[],{collapsed:[0,"collapsed"]},null),(e()(),a["\u0275eld"](21,0,null,null,12,"section",[],null,null,null,null,null)),(e()(),a["\u0275eld"](22,0,null,null,1,"header",[["class","font-weight-bold"]],null,null,null,null,null)),(e()(),a["\u0275ted"](23,null,["Defender - "," (",")"])),(e()(),a["\u0275eld"](24,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](25,0,null,null,6,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](26,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Units"])),(e()(),a["\u0275eld"](28,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Amount"])),(e()(),a["\u0275eld"](30,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Losses"])),(e()(),a["\u0275and"](16777216,null,null,1,null,ec)),a["\u0275did"](33,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275eld"](34,0,null,null,12,"section",[],null,null,null,null,null)),(e()(),a["\u0275eld"](35,0,null,null,1,"header",[["class","font-weight-bold"]],null,null,null,null,null)),(e()(),a["\u0275ted"](36,null,["Attacker - "," (",")"])),(e()(),a["\u0275eld"](37,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](38,0,null,null,6,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](39,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Units"])),(e()(),a["\u0275eld"](41,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Amount"])),(e()(),a["\u0275eld"](43,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Losses"])),(e()(),a["\u0275and"](16777216,null,null,1,null,nc)),a["\u0275did"](46,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,lc)),a["\u0275did"](48,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,8,0,"badge",e(n,9,0,"lose"===t.report.result,"win"===t.report.result)),e(n,17,0,e(n,18,0,"fas","chevron-down")),e(n,20,0,!t.isCollapsed),e(n,33,0,t.unitList),e(n,46,0,t.unitList),e(n,48,0,t.report.outcome===t.attackType)},function(e,n){var t=n.component;e(n,5,0,a["\u0275unv"](n,5,0,a["\u0275nov"](n,6).transform(t.report))),e(n,10,0,t.report.result),e(n,12,0,t.report.originTown.name,t.report.originTown.location,t.report.targetTown.name,t.report.targetTown.location),e(n,14,0,a["\u0275unv"](n,14,0,e(n,15,0,a["\u0275nov"](n,0),t.report.createdAt,"yy-MM-dd HH:mm:ss"))),e(n,16,0,!t.isCollapsed,"collapse-"+t.report.id,a["\u0275nov"](n,17).renderedIconHTML);e(n,19,0,"collapse-"+t.report.id,!0,!a["\u0275nov"](n,20).collapsed),e(n,23,0,t.report.targetTown.name,t.report.targetTown.location),e(n,36,0,t.report.originTown.name,t.report.originTown.location)})}a["\u0275ccf"]("report-item",Ks,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"report-item",[],null,null,null,ic,Js)),a["\u0275did"](1,245760,null,0,Ks,[],null,null)],function(e,n){e(n,1,0)},null)},{report:"report",unitList:"unitList"},{},[]);var ac=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},oc=function(){function e(){this.reportsMapped=[]}return e.prototype.ngOnChanges=function(){this.reportsMapped=this.mapReports(this.reports.originReports,z.CombatOutcome.attack).concat(this.mapReports(this.reports.targetReports,z.CombatOutcome.defense)).sort(function(e,n){return+n.createdAt-+e.createdAt})},e.prototype.mapReports=function(e,n){return e.map(function(e){return ac({},e,{type:n,result:e.outcome===n?"win":"lose"})})},e.prototype.ngOnDestroy=function(){},e}(),rc=[[""]],uc=a["\u0275crt"]({encapsulation:0,styles:rc,data:{}});function sc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"report-item",[],null,null,null,ic,Js)),a["\u0275did"](1,245760,null,0,Ks,[],{report:[0,"report"],unitList:[1,"unitList"]},null)],function(e,n){var t=n.component;e(n,1,0,n.context.$implicit,t.worldData.units)},null)}function cc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["There are no reports."]))],null,null)}function dc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,6,"div",[["class","container-fluid pb-5"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Reports"])),(e()(),a["\u0275and"](16777216,null,null,1,null,sc)),a["\u0275did"](4,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,cc)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,4,0,t.reportsMapped),e(n,6,0,!t.reportsMapped.length)},null)}a["\u0275ccf"]("report",oc,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"report",[],null,null,null,dc,uc)),a["\u0275did"](1,704512,null,0,oc,[],null,null)],null,null)},{reports:"reports",worldData:"worldData"},{},[]);var pc=function(){return function(){this.unitList=[],this.cancelSupport=new a.EventEmitter}}(),fc=[[".support-units[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{opacity:.6}"]],mc=a["\u0275crt"]({encapsulation:0,styles:fc,data:{}});function hc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,6,"div",[["class","col-12 pb-2 d-flex align-items-center justify-content-between"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Your support for "])),(e()(),a["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,[""," (",")"])),(e()(),a["\u0275eld"](5,0,null,null,1,"button",[["class","btn btn-sm btn-info"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.cancelSupport.emit(i.support.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Recall"]))],null,function(e,n){var t=n.component;e(n,4,0,t.support.targetTown.name,t.support.targetTown.location)})}function gc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,6,"div",[["class","col-12 pb-2 d-flex align-items-center justify-content-between"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Support from "])),(e()(),a["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,[""," (",")"])),(e()(),a["\u0275eld"](5,0,null,null,1,"button",[["class","btn btn-sm btn-info"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.cancelSupport.emit(i.support.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Send home"]))],null,function(e,n){var t=n.component;e(n,4,0,t.support.originTown.name,t.support.originTown.location)})}function vc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[["class","col d-flex flex-column align-items-center"]],null,null,null,null,null)),a["\u0275did"](1,278528,null,0,Fl.NgClass,[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](2,{empty:0}),(e()(),a["\u0275eld"](3,0,null,null,0,"div",[["class","unit-icon"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](5,null,["",""]))],function(e,n){e(n,1,0,"col d-flex flex-column align-items-center",e(n,2,0,!n.component.support.units[n.context.$implicit.name]))},function(e,n){var t=n.component;e(n,3,0,n.context.$implicit.name),e(n,5,0,t.support.units[n.context.$implicit.name]||0)})}function bc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,6,"div",[["class","row support-units mb-4"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,hc)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,gc)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,vc)),a["\u0275did"](6,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,2,0,t.isOrigin),e(n,4,0,!t.isOrigin),e(n,6,0,t.unitList)},null)}a["\u0275ccf"]("support-item",pc,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"support-item",[],null,null,null,bc,mc)),a["\u0275did"](1,49152,null,0,pc,[],null,null)],null,null)},{support:"support",isOrigin:"isOrigin",unitList:"unitList"},{cancelSupport:"cancelSupport"},[]);var yc=function(){function e(e){this.store=e}return e.prototype.recallSupport=function(e){this.store.dispatch(new el(e))},e.prototype.sendBackSupport=function(e){this.store.dispatch(new ll(e))},e}(),wc=[[""]],_c=a["\u0275crt"]({encapsulation:0,styles:wc,data:{}});function xc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"support-item",[],null,[[null,"cancelSupport"]],function(e,n,t){var l=!0,i=e.component;"cancelSupport"===n&&(l=!1!==i.sendBackSupport(t)&&l);return l},bc,mc)),a["\u0275did"](1,49152,null,0,pc,[],{support:[0,"support"],isOrigin:[1,"isOrigin"],unitList:[2,"unitList"]},{cancelSupport:"cancelSupport"})],function(e,n){var t=n.component;e(n,1,0,n.context.$implicit,!1,t.worldData.units)},null)}function Cc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["No support stationed"]))],null,null)}function kc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"support-item",[],null,[[null,"cancelSupport"]],function(e,n,t){var l=!0,i=e.component;"cancelSupport"===n&&(l=!1!==i.recallSupport(t)&&l);return l},bc,mc)),a["\u0275did"](1,49152,null,0,pc,[],{support:[0,"support"],isOrigin:[1,"isOrigin"],unitList:[2,"unitList"]},{cancelSupport:"cancelSupport"})],function(e,n){var t=n.component;e(n,1,0,n.context.$implicit,!0,t.worldData.units)},null)}function Rc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["No supporting troops"]))],null,null)}function Sc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,16,"div",[["class","container-fluid pb-4"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Support"])),(e()(),a["\u0275eld"](3,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Stationed support"])),(e()(),a["\u0275and"](16777216,null,null,1,null,xc)),a["\u0275did"](7,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Cc)),a["\u0275did"](9,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](10,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](11,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Your sent support"])),(e()(),a["\u0275and"](16777216,null,null,1,null,kc)),a["\u0275did"](14,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Rc)),a["\u0275did"](16,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,7,0,t.town.targetSupport),e(n,9,0,!(null!=t.town.targetSupport&&t.town.targetSupport.length)),e(n,14,0,t.town.originSupport),e(n,16,0,!(null!=t.town.originSupport&&t.town.originSupport.length))},null)}a["\u0275ccf"]("support",yc,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"support",[],null,null,null,Sc,_c)),a["\u0275did"](1,49152,null,0,yc,[O.n],null,null)],null,null)},{town:"town",worldData:"worldData"},{},[]);var Ic=function(){function e(){this.changes=new jl.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(e,n,t){if(0==t||0==n)return"0 of "+t;var l=e*n;return l+1+" - "+(l<(t=Math.max(t,0))?Math.min(l+n,t):l+n)+" of "+t}}return e.decorators=[{type:a.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=Object(a.defineInjectable)({factory:function(){return new e},token:e,providedIn:"root"}),e}();function Oc(e){return e||new Ic}var Pc={provide:Ic,deps:[[new a.Optional,new a.SkipSelf,Ic]],useFactory:Oc},Tc=(function(){}(),function(){return function(){}}()),Dc=function(e){function n(n,t){var l=e.call(this)||this;return l._intl=n,l._changeDetectorRef=t,l._pageIndex=0,l._length=0,l._pageSizeOptions=[],l._hidePageSize=!1,l._showFirstLastButtons=!1,l.page=new a.EventEmitter,l._intlChanges=n.changes.subscribe(function(){return l._changeDetectorRef.markForCheck()}),l}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(e){this._pageIndex=Math.max(Object(Sl.e)(e),0),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this._length},set:function(e){this._length=Object(Sl.e)(e),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSize",{get:function(){return this._pageSize},set:function(e){this._pageSize=Math.max(Object(Sl.e)(e),0),this._updateDisplayedPageSizeOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pageSizeOptions",{get:function(){return this._pageSizeOptions},set:function(e){this._pageSizeOptions=(e||[]).map(function(e){return Object(Sl.e)(e)}),this._updateDisplayedPageSizeOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hidePageSize",{get:function(){return this._hidePageSize},set:function(e){this._hidePageSize=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showFirstLastButtons",{get:function(){return this._showFirstLastButtons},set:function(e){this._showFirstLastButtons=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()},n.prototype.ngOnDestroy=function(){this._intlChanges.unsubscribe()},n.prototype.nextPage=function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex++,this._emitPageEvent(e)}},n.prototype.previousPage=function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex--,this._emitPageEvent(e)}},n.prototype.firstPage=function(){if(this.hasPreviousPage()){var e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}},n.prototype.lastPage=function(){if(this.hasNextPage()){var e=this.pageIndex;this.pageIndex=this.getNumberOfPages(),this._emitPageEvent(e)}},n.prototype.hasPreviousPage=function(){return this.pageIndex>=1&&0!=this.pageSize},n.prototype.hasNextPage=function(){var e=this.getNumberOfPages();return this.pageIndex<e&&0!=this.pageSize},n.prototype.getNumberOfPages=function(){return Math.ceil(this.length/this.pageSize)-1},n.prototype._changePageSize=function(e){var n=this.pageIndex*this.pageSize,t=this.pageIndex;this.pageIndex=Math.floor(n/e)||0,this.pageSize=e,this._emitPageEvent(t)},n.prototype._updateDisplayedPageSizeOptions=function(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort(function(e,n){return e-n}),this._changeDetectorRef.markForCheck())},n.prototype._emitPageEvent=function(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})},n.decorators=[{type:a.Component,args:[{selector:"mat-paginator",exportAs:"matPaginator",template:'<div class="mat-paginator-container"><div class="mat-paginator-page-size" *ngIf="!hidePageSize"><div class="mat-paginator-page-size-label">{{_intl.itemsPerPageLabel}}</div><mat-form-field *ngIf="_displayedPageSizeOptions.length > 1" class="mat-paginator-page-size-select"><mat-select [value]="pageSize" [aria-label]="_intl.itemsPerPageLabel" (selectionChange)="_changePageSize($event.value)"><mat-option *ngFor="let pageSizeOption of _displayedPageSizeOptions" [value]="pageSizeOption">{{pageSizeOption}}</mat-option></mat-select></mat-form-field><div *ngIf="_displayedPageSizeOptions.length <= 1">{{pageSize}}</div></div><div class="mat-paginator-range-actions"><div class="mat-paginator-range-label">{{_intl.getRangeLabel(pageIndex, pageSize, length)}}</div><button mat-icon-button type="button" class="mat-paginator-navigation-first" (click)="firstPage()" [attr.aria-label]="_intl.firstPageLabel" [matTooltip]="_intl.firstPageLabel" [matTooltipPosition]="\'above\'" [disabled]="!hasPreviousPage()" *ngIf="showFirstLastButtons"><svg class="mat-paginator-icon" viewBox="0 0 24 24" focusable="false"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"/></svg></button> <button mat-icon-button type="button" class="mat-paginator-navigation-previous" (click)="previousPage()" [attr.aria-label]="_intl.previousPageLabel" [matTooltip]="_intl.previousPageLabel" [matTooltipPosition]="\'above\'" [disabled]="!hasPreviousPage()"><svg class="mat-paginator-icon" viewBox="0 0 24 24" focusable="false"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></button> <button mat-icon-button type="button" class="mat-paginator-navigation-next" (click)="nextPage()" [attr.aria-label]="_intl.nextPageLabel" [matTooltip]="_intl.nextPageLabel" [matTooltipPosition]="\'above\'" [disabled]="!hasNextPage()"><svg class="mat-paginator-icon" viewBox="0 0 24 24" focusable="false"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg></button> <button mat-icon-button type="button" class="mat-paginator-navigation-last" (click)="lastPage()" [attr.aria-label]="_intl.lastPageLabel" [matTooltip]="_intl.lastPageLabel" [matTooltipPosition]="\'above\'" [disabled]="!hasNextPage()" *ngIf="showFirstLastButtons"><svg class="mat-paginator-icon" viewBox="0 0 24 24" focusable="false"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"/></svg></button></div></div>',styles:[".mat-paginator{display:block}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center;min-height:48px}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}"],host:{class:"mat-paginator"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:Ic},{type:a.ChangeDetectorRef}]},n.propDecorators={pageIndex:[{type:a.Input}],length:[{type:a.Input}],pageSize:[{type:a.Input}],pageSizeOptions:[{type:a.Input}],hidePageSize:[{type:a.Input}],showFirstLastButtons:[{type:a.Input}],page:[{type:a.Output}]},n}(Object(Ml.I)(Tc)),Ac=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[Fl.CommonModule,eo.c,hr.d,Wl],exports:[Dc],declarations:[Dc],providers:[Pc]}]}],e}(),Ec=(a["\u0275cmf"](Ac,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[Yl]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,Fl.NgLocalization,Fl.NgLocaleLocalization,[a.LOCALE_ID,[2,Fl["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](4608,Pl.c,Pl.c,[Pl.i,Pl.e,a.ComponentFactoryResolver,Pl.h,Pl.f,a.Injector,a.NgZone,Fl.DOCUMENT,Rl.b]),a["\u0275mpd"](5120,Pl.j,Pl.k,[Pl.c]),a["\u0275mpd"](5120,hr.a,hr.b,[Pl.c]),a["\u0275mpd"](4608,Zl.c,Zl.c,[]),a["\u0275mpd"](5120,zl,Vl,[Pl.c]),a["\u0275mpd"](5120,Ic,Oc,[[3,Ic]]),a["\u0275mpd"](1073742336,Fl.CommonModule,Fl.CommonModule,[]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,Dl.b,Dl.b,[]),a["\u0275mpd"](1073742336,Ml.y,Ml.y,[]),a["\u0275mpd"](1073742336,eo.c,eo.c,[]),a["\u0275mpd"](1073742336,Al.h,Al.h,[]),a["\u0275mpd"](1073742336,Tl.b,Tl.b,[]),a["\u0275mpd"](1073742336,Pl.g,Pl.g,[]),a["\u0275mpd"](1073742336,Ml.w,Ml.w,[]),a["\u0275mpd"](1073742336,Ml.u,Ml.u,[]),a["\u0275mpd"](1073742336,to.d,to.d,[]),a["\u0275mpd"](1073742336,hr.d,hr.d,[]),a["\u0275mpd"](1073742336,Zl.d,Zl.d,[]),a["\u0275mpd"](1073742336,kl.a,kl.a,[]),a["\u0275mpd"](1073742336,Wl,Wl,[]),a["\u0275mpd"](1073742336,Ac,Ac,[])])}),a["\u0275crt"]({encapsulation:2,styles:[".mat-paginator{display:block}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center;min-height:48px}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}"],data:{}}));function jc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==a["\u0275nov"](e,1)._selectViaInteraction()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,1)._handleKeydown(t)&&l);return l},fr.c,fr.a)),a["\u0275did"](1,8568832,[[8,4]],0,Ml.t,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.l],[2,Ml.s]],{value:[0,"value"]},null),(e()(),a["\u0275ted"](2,0,["",""]))],function(e,n){e(n,1,0,n.context.$implicit)},function(e,n){e(n,0,0,a["\u0275nov"](n,1)._getTabIndex(),a["\u0275nov"](n,1).selected,a["\u0275nov"](n,1).multiple,a["\u0275nov"](n,1).active,a["\u0275nov"](n,1).id,a["\u0275nov"](n,1).selected.toString(),a["\u0275nov"](n,1).disabled.toString(),a["\u0275nov"](n,1).disabled),e(n,2,0,n.context.$implicit)})}function Fc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,17,"mat-form-field",[["class","mat-paginator-page-size-select mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,no.b,no.a)),a["\u0275did"](1,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],null,null),a["\u0275qud"](335544320,1,{_control:0}),a["\u0275qud"](335544320,2,{_placeholderChild:0}),a["\u0275qud"](335544320,3,{_labelChild:0}),a["\u0275qud"](603979776,4,{_errorChildren:1}),a["\u0275qud"](603979776,5,{_hintChildren:1}),a["\u0275qud"](603979776,6,{_prefixChildren:1}),a["\u0275qud"](603979776,7,{_suffixChildren:1}),(e()(),a["\u0275eld"](9,0,null,1,8,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(e,n,t){var l=!0,i=e.component;"keydown"===n&&(l=!1!==a["\u0275nov"](e,11)._handleKeydown(t)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,11)._onFocus()&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,11)._onBlur()&&l);"selectionChange"===n&&(l=!1!==i._changePageSize(t.value)&&l);return l},mr.b,mr.a)),a["\u0275prd"](6144,null,Ml.l,null,[hr.c]),a["\u0275did"](11,2080768,null,3,hr.c,[Tl.e,a.ChangeDetectorRef,a.NgZone,Ml.d,a.ElementRef,[2,Rl.b],[2,Si.p],[2,Si.h],[2,to.b],[8,null],[8,null],hr.a],{value:[0,"value"],ariaLabel:[1,"ariaLabel"]},{selectionChange:"selectionChange"}),a["\u0275qud"](603979776,8,{options:1}),a["\u0275qud"](603979776,9,{optionGroups:1}),a["\u0275qud"](335544320,10,{customTrigger:0}),a["\u0275prd"](2048,[[1,4]],to.c,null,[hr.c]),(e()(),a["\u0275and"](16777216,null,1,1,null,jc)),a["\u0275did"](17,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,11,0,t.pageSize,t._intl.itemsPerPageLabel),e(n,17,0,t._displayedPageSizeOptions)},function(e,n){e(n,0,1,["standard"==a["\u0275nov"](n,1).appearance,"fill"==a["\u0275nov"](n,1).appearance,"outline"==a["\u0275nov"](n,1).appearance,"legacy"==a["\u0275nov"](n,1).appearance,a["\u0275nov"](n,1)._control.errorState,a["\u0275nov"](n,1)._canLabelFloat,a["\u0275nov"](n,1)._shouldLabelFloat(),a["\u0275nov"](n,1)._hideControlPlaceholder(),a["\u0275nov"](n,1)._control.disabled,a["\u0275nov"](n,1)._control.autofilled,a["\u0275nov"](n,1)._control.focused,"accent"==a["\u0275nov"](n,1).color,"warn"==a["\u0275nov"](n,1).color,a["\u0275nov"](n,1)._shouldForward("untouched"),a["\u0275nov"](n,1)._shouldForward("touched"),a["\u0275nov"](n,1)._shouldForward("pristine"),a["\u0275nov"](n,1)._shouldForward("dirty"),a["\u0275nov"](n,1)._shouldForward("valid"),a["\u0275nov"](n,1)._shouldForward("invalid"),a["\u0275nov"](n,1)._shouldForward("pending"),!a["\u0275nov"](n,1)._animationsEnabled]),e(n,9,1,[a["\u0275nov"](n,11).id,a["\u0275nov"](n,11).tabIndex,a["\u0275nov"](n,11)._getAriaLabel(),a["\u0275nov"](n,11)._getAriaLabelledby(),a["\u0275nov"](n,11).required.toString(),a["\u0275nov"](n,11).disabled.toString(),a["\u0275nov"](n,11).errorState,a["\u0275nov"](n,11).panelOpen?a["\u0275nov"](n,11)._optionIds:null,a["\u0275nov"](n,11).multiple,a["\u0275nov"](n,11)._ariaDescribedby||null,a["\u0275nov"](n,11)._getAriaActiveDescendant(),a["\u0275nov"](n,11).disabled,a["\u0275nov"](n,11).errorState,a["\u0275nov"](n,11).required])})}function Mc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.pageSize)})}function Nc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,6,"div",[["class","mat-paginator-page-size"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"div",[["class","mat-paginator-page-size-label"]],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,Fc)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Mc)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,4,0,t._displayedPageSizeOptions.length>1),e(n,6,0,t._displayedPageSizeOptions.length<=1)},function(e,n){e(n,2,0,n.component._intl.itemsPerPageLabel)})}function Lc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,16777216,null,null,4,"button",[["class","mat-paginator-navigation-first"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,n,t){var l=!0,i=e.component;"longpress"===n&&(l=!1!==a["\u0275nov"](e,2).show()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,2)._handleKeydown(t)&&l);"touchend"===n&&(l=!1!==a["\u0275nov"](e,2)._handleTouchend()&&l);"click"===n&&(l=!1!==i.firstPage()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"]},null),a["\u0275did"](2,147456,null,0,Bl,[Pl.c,a.ElementRef,Tl.c,a.ViewContainerRef,a.NgZone,Dl.a,kl.c,kl.f,zl,[2,Rl.b],[2,Ul]],{position:[0,"position"],message:[1,"message"]},null),(e()(),a["\u0275eld"](3,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,0,":svg:path",[["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"]],null,null,null,null,null)),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,1,0,!t.hasPreviousPage());e(n,2,0,"above",t._intl.firstPageLabel)},function(e,n){e(n,0,0,n.component._intl.firstPageLabel,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function $c(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,16777216,null,null,4,"button",[["class","mat-paginator-navigation-last"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,n,t){var l=!0,i=e.component;"longpress"===n&&(l=!1!==a["\u0275nov"](e,2).show()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,2)._handleKeydown(t)&&l);"touchend"===n&&(l=!1!==a["\u0275nov"](e,2)._handleTouchend()&&l);"click"===n&&(l=!1!==i.lastPage()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"]},null),a["\u0275did"](2,147456,null,0,Bl,[Pl.c,a.ElementRef,Tl.c,a.ViewContainerRef,a.NgZone,Dl.a,kl.c,kl.f,zl,[2,Rl.b],[2,Ul]],{position:[0,"position"],message:[1,"message"]},null),(e()(),a["\u0275eld"](3,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,0,":svg:path",[["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],null,null,null,null,null)),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,1,0,!t.hasNextPage());e(n,2,0,"above",t._intl.lastPageLabel)},function(e,n){e(n,0,0,n.component._intl.lastPageLabel,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function zc(e){return a["\u0275vid"](2,[(e()(),a["\u0275eld"](0,0,null,null,19,"div",[["class","mat-paginator-container"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Nc)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](3,0,null,null,16,"div",[["class","mat-paginator-range-actions"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,1,"div",[["class","mat-paginator-range-label"]],null,null,null,null,null)),(e()(),a["\u0275ted"](5,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,Lc)),a["\u0275did"](7,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](8,16777216,null,null,4,"button",[["class","mat-paginator-navigation-previous"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,n,t){var l=!0,i=e.component;"longpress"===n&&(l=!1!==a["\u0275nov"](e,10).show()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,10)._handleKeydown(t)&&l);"touchend"===n&&(l=!1!==a["\u0275nov"](e,10)._handleTouchend()&&l);"click"===n&&(l=!1!==i.previousPage()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](9,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"]},null),a["\u0275did"](10,147456,null,0,Bl,[Pl.c,a.ElementRef,Tl.c,a.ViewContainerRef,a.NgZone,Dl.a,kl.c,kl.f,zl,[2,Rl.b],[2,Ul]],{position:[0,"position"],message:[1,"message"]},null),(e()(),a["\u0275eld"](11,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(e()(),a["\u0275eld"](12,0,null,null,0,":svg:path",[["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"]],null,null,null,null,null)),(e()(),a["\u0275eld"](13,16777216,null,null,4,"button",[["class","mat-paginator-navigation-next"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,n,t){var l=!0,i=e.component;"longpress"===n&&(l=!1!==a["\u0275nov"](e,15).show()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,15)._handleKeydown(t)&&l);"touchend"===n&&(l=!1!==a["\u0275nov"](e,15)._handleTouchend()&&l);"click"===n&&(l=!1!==i.nextPage()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](14,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"]},null),a["\u0275did"](15,147456,null,0,Bl,[Pl.c,a.ElementRef,Tl.c,a.ViewContainerRef,a.NgZone,Dl.a,kl.c,kl.f,zl,[2,Rl.b],[2,Ul]],{position:[0,"position"],message:[1,"message"]},null),(e()(),a["\u0275eld"](16,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(e()(),a["\u0275eld"](17,0,null,null,0,":svg:path",[["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,$c)),a["\u0275did"](19,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,2,0,!t.hidePageSize),e(n,7,0,t.showFirstLastButtons),e(n,9,0,!t.hasPreviousPage());e(n,10,0,"above",t._intl.previousPageLabel),e(n,14,0,!t.hasNextPage());e(n,15,0,"above",t._intl.nextPageLabel),e(n,19,0,t.showFirstLastButtons)},function(e,n){var t=n.component;e(n,5,0,t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)),e(n,8,0,t._intl.previousPageLabel,a["\u0275nov"](n,9).disabled||null,"NoopAnimations"===a["\u0275nov"](n,9)._animationMode),e(n,13,0,t._intl.nextPageLabel,a["\u0275nov"](n,14).disabled||null,"NoopAnimations"===a["\u0275nov"](n,14)._animationMode)})}a["\u0275ccf"]("mat-paginator",Dc,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-paginator",[["class","mat-paginator"]],null,null,null,zc,Ec)),a["\u0275did"](1,245760,null,0,Dc,[Ic,a.ChangeDetectorRef],null,null)],function(e,n){e(n,1,0)},null)},{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},{page:"page"},[]);var Vc=function(){function e(){this.displayedColumns=["rank","name","score"],this.dataSource=new Vu([])}return e.prototype.ngAfterViewInit=function(){this.initializePaginator()},e.prototype.ngOnChanges=function(){this.dataSource.data=this.positionRankings.rankings,this.initializePaginator()},e.prototype.initializePaginator=function(){var e=this;this.positionRankings&&!this.dataSource.paginator&&this.paginator&&setTimeout(function(){e.dataSource.paginator=e.paginator;var n=Math.floor(e.positionRankings.playerPosition/e.paginator.pageSize);e.dataSource.paginator.pageIndex=n})},e}(),qc=[[".personal-score[_ngcontent-%COMP%]{background-color:var(--indigo)}.personal-score[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{color:var(--white)}"]],Uc=a["\u0275crt"]({encapsulation:0,styles:qc,data:{}});function Bc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["Rank"]))],null,null)}function Hc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,["#",""]))],null,function(e,n){e(n,2,0,n.context.index+1+a["\u0275nov"](n.parent,53).pageSize*a["\u0275nov"](n.parent,53).pageIndex)})}function Wc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["Name"]))],null,null)}function Zc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.name)})}function Xc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["Score"]))],null,null)}function Gc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.score)})}function Yc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-row",[["class","mat-header-row"],["role","row"]],null,null,null,Hu,Bu)),a["\u0275prd"](6144,null,cu,null,[Fu]),a["\u0275did"](2,49152,null,0,Fu,[],null,null)],null,null)}function Qc(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"mat-row",[["class","mat-row"],["role","row"]],null,null,null,Gu,Xu)),a["\u0275prd"](6144,null,pu,null,[Nu]),a["\u0275did"](2,49152,null,0,Nu,[],null,null),a["\u0275did"](3,278528,null,0,Fl.NgClass,[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2],{ngClass:[0,"ngClass"]},null),a["\u0275pod"](4,{"personal-score":0})],function(e,n){var t=n.component;e(n,3,0,e(n,4,0,n.context.index+a["\u0275nov"](n.parent,53).pageSize*a["\u0275nov"](n.parent,53).pageIndex===t.positionRankings.playerPosition))},null)}function Kc(e){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{paginator:0}),(e()(),a["\u0275eld"](1,0,null,null,53,"div",[["class","container-fluid pb-4"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Player ranking"])),(e()(),a["\u0275eld"](4,0,null,null,47,"mat-table",[["class","mat-table"]],null,null,null,Uu,qu)),a["\u0275did"](5,2342912,null,4,ku,[a.IterableDiffers,a.ChangeDetectorRef,a.ElementRef,[8,null],[2,Rl.b]],{dataSource:[0,"dataSource"]},null),a["\u0275qud"](603979776,2,{_contentColumnDefs:1}),a["\u0275qud"](603979776,3,{_contentRowDefs:1}),a["\u0275qud"](603979776,4,{_contentHeaderRowDefs:1}),a["\u0275qud"](603979776,5,{_contentFooterRowDefs:1}),(e()(),a["\u0275eld"](10,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](11,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,6,{cell:0}),a["\u0275qud"](335544320,7,{headerCell:0}),a["\u0275qud"](335544320,8,{footerCell:0}),a["\u0275prd"](2048,[[2,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,Bc)),a["\u0275did"](17,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[7,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,Hc)),a["\u0275did"](20,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[6,4]],Yr,null,[Ru]),(e()(),a["\u0275eld"](22,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](23,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,9,{cell:0}),a["\u0275qud"](335544320,10,{headerCell:0}),a["\u0275qud"](335544320,11,{footerCell:0}),a["\u0275prd"](2048,[[2,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,Wc)),a["\u0275did"](29,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[10,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,Zc)),a["\u0275did"](32,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[9,4]],Yr,null,[Ru]),(e()(),a["\u0275eld"](34,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](35,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,12,{cell:0}),a["\u0275qud"](335544320,13,{headerCell:0}),a["\u0275qud"](335544320,14,{footerCell:0}),a["\u0275prd"](2048,[[2,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,Xc)),a["\u0275did"](41,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[13,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,Gc)),a["\u0275did"](44,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[12,4]],Yr,null,[Ru]),(e()(),a["\u0275and"](0,null,null,2,null,Yc)),a["\u0275did"](47,540672,null,0,Au,[a.TemplateRef,a.IterableDiffers],{columns:[0,"columns"]},null),a["\u0275prd"](2048,[[4,4]],ou,null,[Au]),(e()(),a["\u0275and"](0,null,null,2,null,Qc)),a["\u0275did"](50,540672,null,0,ju,[a.TemplateRef,a.IterableDiffers],{columns:[0,"columns"]},null),a["\u0275prd"](2048,[[3,4]],uu,null,[ju]),(e()(),a["\u0275eld"](52,0,null,null,2,"mat-paginator",[["class","mat-paginator"]],null,null,null,zc,Ec)),a["\u0275did"](53,245760,[[1,4],["paginator",4]],0,Dc,[Ic,a.ChangeDetectorRef],{pageSize:[0,"pageSize"],pageSizeOptions:[1,"pageSizeOptions"],showFirstLastButtons:[2,"showFirstLastButtons"]},null),a["\u0275pad"](54,5)],function(e,n){var t=n.component;e(n,5,0,t.dataSource);e(n,11,0,"rank");e(n,23,0,"name");e(n,35,0,"score"),e(n,47,0,t.displayedColumns),e(n,50,0,t.displayedColumns);e(n,53,0,20,e(n,54,0,5,10,20,50,100),!0)},null)}a["\u0275ccf"]("rankings",Vc,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"rankings",[],null,null,null,Kc,Uc)),a["\u0275did"](1,4767744,null,0,Vc,[],null,null)],null,null)},{positionRankings:"positionRankings"},{},[]);var Jc=function(){function e(e){this.dialog=e,this.player=null,this.currentPlayer=null,this.openAllianceProfile=new a.EventEmitter,this.displayedColumns=["location","name","score"],this.dataSource=new Vu([])}return Object.defineProperty(e.prototype,"playerScore",{get:function(){return this.player.towns.reduce(function(e,n){return e+n.score},0)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this.dataSource.data=this.player?this.player.towns:[],this.dataSource.data.sort(function(e,n){return n.score-e.score||e.id-n.id}),this.editDialog&&(this.editDialog.componentInstance.data={avatarUrl:this.player.avatarUrl,description:this.player.description,type:"player"})},e.prototype.editProfile=function(){var e=this;this.editDialog=this.dialog.open(Qu,{width:"80vw",data:{description:this.player.description,avatarUrl:this.player.avatarUrl,type:"player"}}),this.editDialog.afterClosed().subscribe(function(n){e.editDialog=null})},e}(),ed=[[""]],nd=a["\u0275crt"]({encapsulation:0,styles:ed,data:{}});function td(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Loading..."]))],null,null)}function ld(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-warning btn-sm"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.editProfile()&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Edit profile"]))],null,null)}function id(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null))],null,function(e,n){e(n,1,0,n.component.player.avatarUrl)})}function ad(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openAllianceProfile.emit(i.player.alliance.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.player.alliance.name)})}function od(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["-"]))],null,null)}function rd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.player.description)})}function ud(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["Location"]))],null,null)}function sd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.location)})}function cd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["Name"]))],null,null)}function dd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.name)})}function pd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-cell",[["class","mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Pu,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](-1,null,["Score"]))],null,null)}function fd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-cell",[["class","mat-cell"],["role","gridcell"]],null,null,null,null,null)),a["\u0275did"](1,16384,null,0,Du,[Jr,a.ElementRef],null,null),(e()(),a["\u0275ted"](2,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.score)})}function md(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-header-row",[["class","mat-header-row"],["role","row"]],null,null,null,Hu,Bu)),a["\u0275prd"](6144,null,cu,null,[Fu]),a["\u0275did"](2,49152,null,0,Fu,[],null,null)],null,null)}function hd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"mat-row",[["class","mat-row"],["role","row"]],null,null,null,Gu,Xu)),a["\u0275prd"](6144,null,pu,null,[Nu]),a["\u0275did"](2,49152,null,0,Nu,[],null,null)],null,null)}function gd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,84,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,83,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,30,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,4,"div",[["class","d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](4,0,null,null,1,"h2",[["class","m-0"]],null,null,null,null,null)),(e()(),a["\u0275ted"](5,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,ld)),a["\u0275did"](7,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](8,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,id)),a["\u0275did"](10,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](11,0,null,null,18,"div",[["class","row mt-2"]],null,null,null,null,null)),(e()(),a["\u0275eld"](12,0,null,null,6,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),a["\u0275eld"](13,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Score"])),(e()(),a["\u0275eld"](15,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Alliance"])),(e()(),a["\u0275eld"](17,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Joined"])),(e()(),a["\u0275eld"](19,0,null,null,10,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(e()(),a["\u0275eld"](20,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](21,null,["",""])),(e()(),a["\u0275eld"](22,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,ad)),a["\u0275did"](24,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,od)),a["\u0275did"](26,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](27,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](28,null,["",""])),a["\u0275ppd"](29,2),(e()(),a["\u0275eld"](30,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,rd)),a["\u0275did"](32,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](33,0,null,null,51,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),a["\u0275eld"](34,0,null,null,1,"h2",[["class","m-0"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Towns"])),(e()(),a["\u0275eld"](36,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),a["\u0275eld"](37,0,null,null,47,"mat-table",[["class","mat-table"]],null,null,null,Uu,qu)),a["\u0275did"](38,2342912,null,4,ku,[a.IterableDiffers,a.ChangeDetectorRef,a.ElementRef,[8,null],[2,Rl.b]],{dataSource:[0,"dataSource"]},null),a["\u0275qud"](603979776,1,{_contentColumnDefs:1}),a["\u0275qud"](603979776,2,{_contentRowDefs:1}),a["\u0275qud"](603979776,3,{_contentHeaderRowDefs:1}),a["\u0275qud"](603979776,4,{_contentFooterRowDefs:1}),(e()(),a["\u0275eld"](43,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](44,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,5,{cell:0}),a["\u0275qud"](335544320,6,{headerCell:0}),a["\u0275qud"](335544320,7,{footerCell:0}),a["\u0275prd"](2048,[[1,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,ud)),a["\u0275did"](50,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[6,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,sd)),a["\u0275did"](53,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[5,4]],Yr,null,[Ru]),(e()(),a["\u0275eld"](55,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](56,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,8,{cell:0}),a["\u0275qud"](335544320,9,{headerCell:0}),a["\u0275qud"](335544320,10,{footerCell:0}),a["\u0275prd"](2048,[[1,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,cd)),a["\u0275did"](62,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[9,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,dd)),a["\u0275did"](65,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[8,4]],Yr,null,[Ru]),(e()(),a["\u0275eld"](67,0,null,null,11,null,null,null,null,null,null,null)),a["\u0275did"](68,16384,null,3,Ou,[],{name:[0,"name"]},null),a["\u0275qud"](335544320,11,{cell:0}),a["\u0275qud"](335544320,12,{headerCell:0}),a["\u0275qud"](335544320,13,{footerCell:0}),a["\u0275prd"](2048,[[1,4]],Jr,null,[Ou]),(e()(),a["\u0275and"](0,null,null,2,null,pd)),a["\u0275did"](74,16384,null,0,Su,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[12,4]],Qr,null,[Su]),(e()(),a["\u0275and"](0,null,null,2,null,fd)),a["\u0275did"](77,16384,null,0,Ru,[a.TemplateRef],null,null),a["\u0275prd"](2048,[[11,4]],Yr,null,[Ru]),(e()(),a["\u0275and"](0,null,null,2,null,md)),a["\u0275did"](80,540672,null,0,Au,[a.TemplateRef,a.IterableDiffers],{columns:[0,"columns"]},null),a["\u0275prd"](2048,[[3,4]],ou,null,[Au]),(e()(),a["\u0275and"](0,null,null,2,null,hd)),a["\u0275did"](83,540672,null,0,ju,[a.TemplateRef,a.IterableDiffers],{columns:[0,"columns"]},null),a["\u0275prd"](2048,[[2,4]],uu,null,[ju])],function(e,n){var t=n.component;e(n,7,0,(null==t.currentPlayer?null:t.currentPlayer.id)===(null==t.player?null:t.player.id)),e(n,10,0,t.player.avatarUrl),e(n,24,0,t.player.alliance),e(n,26,0,!t.player.alliance),e(n,32,0,t.player.description),e(n,38,0,t.dataSource);e(n,44,0,"location");e(n,56,0,"name");e(n,68,0,"score"),e(n,80,0,t.displayedColumns),e(n,83,0,t.displayedColumns)},function(e,n){var t=n.component;e(n,5,0,t.player.name),e(n,21,0,t.playerScore),e(n,28,0,a["\u0275unv"](n,28,0,e(n,29,0,a["\u0275nov"](n.parent,0),t.player.createdAt,"short")))})}function vd(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DatePipe,[a.LOCALE_ID]),(e()(),a["\u0275eld"](1,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,td)),a["\u0275did"](3,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,gd)),a["\u0275did"](5,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,3,0,!t.player),e(n,5,0,t.player)},null)}a["\u0275ccf"]("player-profile",Jc,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"player-profile",[],null,null,null,vd,nd)),a["\u0275did"](1,573440,null,0,Jc,[Ju.e],null,null)],null,null)},{player:"player",currentPlayer:"currentPlayer"},{openAllianceProfile:"openAllianceProfile"},[]);var bd=t("lwpf"),yd=t("ebCm"),wd=t("bne5"),_d=t("Gi3i"),xd={transformDrawer:Object(xl.m)("transform",[Object(xl.j)("open, open-instant",Object(xl.k)({transform:"translate3d(0, 0, 0)",visibility:"visible"})),Object(xl.j)("void",Object(xl.k)({"box-shadow":"none",visibility:"hidden"})),Object(xl.l)("void => open-instant",Object(xl.e)("0ms")),Object(xl.l)("void <=> open, open-instant => void",Object(xl.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function Cd(e){throw Error("A drawer was already declared for 'position=\""+e+"\"'")}var kd=new a.InjectionToken("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}});var Rd=function(){function e(e,n){this._changeDetectorRef=e,this._container=n}return e.prototype.ngAfterContentInit=function(){var e=this;this._container._contentMarginChanges.subscribe(function(){e._changeDetectorRef.markForCheck()})},e.decorators=[{type:a.Component,args:[{selector:"mat-drawer-content",template:"<ng-content></ng-content>",host:{class:"mat-drawer-content","[style.margin-left.px]":"_container._contentMargins.left","[style.margin-right.px]":"_container._contentMargins.right"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:a.ChangeDetectorRef},{type:Id,decorators:[{type:a.Inject,args:[Object(a.forwardRef)(function(){return Id})]}]}]},e}(),Sd=function(){function e(e,n,t,l,i,o){var r=this;this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=t,this._platform=l,this._ngZone=i,this._doc=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new a.EventEmitter,this._animationState="void",this.openedChange=new a.EventEmitter(!0),this.onPositionChanged=new a.EventEmitter,this._modeChanged=new jl.a,this._opened=!1,this.openedChange.subscribe(function(e){e?(r._doc&&(r._elementFocusedBeforeDrawerWasOpened=r._doc.activeElement),r._isFocusTrapEnabled&&r._focusTrap&&r._trapFocus()):r._restoreFocus()}),this._ngZone.runOutsideAngular(function(){Object(wd.a)(r._elementRef.nativeElement,"keydown").pipe(Object(Pt.a)(function(e){return e.keyCode===Il.e&&!r.disableClose})).subscribe(function(e){return r._ngZone.run(function(){r.close(),e.stopPropagation()})})})}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(e){this._mode=e,this._modeChanged.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableClose",{get:function(){return this._disableClose},set:function(e){this._disableClose=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoFocus",{get:function(){return this._autoFocus},set:function(e){this._autoFocus=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_openedStream",{get:function(){return this.openedChange.pipe(Object(Pt.a)(function(e){return e}),Object(s.a)(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openedStart",{get:function(){return this._animationStarted.pipe(Object(Pt.a)(function(e){return e.fromState!==e.toState&&0===e.toState.indexOf("open")}),Object(s.a)(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_closedStream",{get:function(){return this.openedChange.pipe(Object(Pt.a)(function(e){return!e}),Object(s.a)(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closedStart",{get:function(){return this._animationStarted.pipe(Object(Pt.a)(function(e){return e.fromState!==e.toState&&"void"===e.toState}),Object(s.a)(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isFocusTrapEnabled",{get:function(){return this.opened&&"side"!==this.mode},enumerable:!0,configurable:!0}),e.prototype._trapFocus=function(){var e=this;this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then(function(n){n||"function"!=typeof e._elementRef.nativeElement.focus||e._elementRef.nativeElement.focus()})},e.prototype._restoreFocus=function(){if(this.autoFocus){var e=this._doc&&this._doc.activeElement;e&&this._elementRef.nativeElement.contains(e)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}},e.prototype.ngAfterContentInit=function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._focusTrap.enabled=this._isFocusTrapEnabled},e.prototype.ngAfterContentChecked=function(){this._platform.isBrowser&&(this._enableAnimations=!0)},e.prototype.ngOnDestroy=function(){this._focusTrap&&this._focusTrap.destroy()},Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){this.toggle(Object(Sl.c)(e))},enumerable:!0,configurable:!0}),e.prototype.open=function(e){return this.toggle(!0,e)},e.prototype.close=function(){return this.toggle(!1)},e.prototype.toggle=function(e,n){var t=this;return void 0===e&&(e=!this.opened),void 0===n&&(n="program"),this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",this._restoreFocus()),this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled),new Promise(function(e){t.openedChange.pipe(Object(Mt.a)(1)).subscribe(function(n){return e(n?"open":"close")})})},e.prototype._onAnimationStart=function(e){this._animationStarted.emit(e)},e.prototype._onAnimationEnd=function(e){var n=e.fromState,t=e.toState;(0===t.indexOf("open")&&"void"===n||"void"===t&&0===n.indexOf("open"))&&this.openedChange.emit(this._opened)},Object.defineProperty(e.prototype,"_width",{get:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0},enumerable:!0,configurable:!0}),e.decorators=[{type:a.Component,args:[{selector:"mat-drawer",exportAs:"matDrawer",template:"<ng-content></ng-content>",animations:[xd.transformDrawer],host:{class:"mat-drawer","[@transform]":"_animationState","(@transform.start)":"_onAnimationStart($event)","(@transform.done)":"_onAnimationEnd($event)","[attr.align]":"null","[class.mat-drawer-end]":'position === "end"',"[class.mat-drawer-over]":'mode === "over"',"[class.mat-drawer-push]":'mode === "push"',"[class.mat-drawer-side]":'mode === "side"',tabIndex:"-1"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:a.ElementRef},{type:kl.g},{type:kl.f},{type:Dl.a},{type:a.NgZone},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[Fl.DOCUMENT]}]}]},e.propDecorators={position:[{type:a.Input}],mode:[{type:a.Input}],disableClose:[{type:a.Input}],autoFocus:[{type:a.Input}],openedChange:[{type:a.Output}],_openedStream:[{type:a.Output,args:["opened"]}],openedStart:[{type:a.Output}],_closedStream:[{type:a.Output,args:["closed"]}],closedStart:[{type:a.Output}],onPositionChanged:[{type:a.Output,args:["positionChanged"]}],opened:[{type:a.Input}]},e}(),Id=function(){function e(e,n,t,l,i,o){void 0===i&&(i=!1);var r=this;this._dir=e,this._element=n,this._ngZone=t,this._changeDetectorRef=l,this._animationMode=o,this.backdropClick=new a.EventEmitter,this._destroyed=new jl.a,this._doCheckSubject=new jl.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new jl.a,e&&e.change.pipe(Object(El.a)(this._destroyed)).subscribe(function(){r._validateDrawers(),r._updateContentMargins()}),this._autosize=i}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autosize",{get:function(){return this._autosize},set:function(e){this._autosize=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasBackdrop",{get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(e){this._backdropOverride=null==e?null:Object(Sl.c)(e)},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this._drawers.changes.pipe(Object(Hi.a)(null)).subscribe(function(){e._validateDrawers(),e._drawers.forEach(function(n){e._watchDrawerToggle(n),e._watchDrawerPosition(n),e._watchDrawerMode(n)}),(!e._drawers.length||e._isDrawerOpen(e._start)||e._isDrawerOpen(e._end))&&e._updateContentMargins(),e._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(Object(_d.a)(10),Object(El.a)(this._destroyed)).subscribe(function(){return e._updateContentMargins()})},e.prototype.ngOnDestroy=function(){this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()},e.prototype.open=function(){this._drawers.forEach(function(e){return e.open()})},e.prototype.close=function(){this._drawers.forEach(function(e){return e.close()})},e.prototype.ngDoCheck=function(){var e=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(function(){return e._doCheckSubject.next()})},e.prototype._watchDrawerToggle=function(e){var n=this;e._animationStarted.pipe(Object(El.a)(this._drawers.changes),Object(Pt.a)(function(e){return e.fromState!==e.toState})).subscribe(function(e){"open-instant"!==e.toState&&"NoopAnimations"!==n._animationMode&&n._element.nativeElement.classList.add("mat-drawer-transition"),n._updateContentMargins(),n._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Object(El.a)(this._drawers.changes)).subscribe(function(){return n._setContainerClass(e.opened)})},e.prototype._watchDrawerPosition=function(e){var n=this;e&&e.onPositionChanged.pipe(Object(El.a)(this._drawers.changes)).subscribe(function(){n._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(Mt.a)(1)).subscribe(function(){n._validateDrawers()})})},e.prototype._watchDrawerMode=function(e){var n=this;e&&e._modeChanged.pipe(Object(El.a)(Object(qi.a)(this._drawers.changes,this._destroyed))).subscribe(function(){n._updateContentMargins(),n._changeDetectorRef.markForCheck()})},e.prototype._setContainerClass=function(e){e?this._element.nativeElement.classList.add("mat-drawer-opened"):this._element.nativeElement.classList.remove("mat-drawer-opened")},e.prototype._validateDrawers=function(){var e=this;this._start=this._end=null,this._drawers.forEach(function(n){"end"==n.position?(null!=e._end&&Cd("end"),e._end=n):(null!=e._start&&Cd("start"),e._start=n)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)},e.prototype._isPushed=function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode},e.prototype._onBackdropClicked=function(){this.backdropClick.emit(),this._closeModalDrawer()},e.prototype._closeModalDrawer=function(){var e=this;[this._start,this._end].filter(function(n){return n&&!n.disableClose&&e._canHaveBackdrop(n)}).forEach(function(e){return e.close()})},e.prototype._isShowingBackdrop=function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)},e.prototype._canHaveBackdrop=function(e){return"side"!==e.mode||!!this._backdropOverride},e.prototype._isDrawerOpen=function(e){return null!=e&&e.opened},e.prototype._updateContentMargins=function(){var e=this,n=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)n+=this._left._width;else if("push"==this._left.mode){n+=l=this._left._width,t-=l}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._width;else if("push"==this._right.mode){var l;t+=l=this._right._width,n-=l}n=n||null,t=t||null,n===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:n,right:t},this._ngZone.run(function(){return e._contentMarginChanges.next(e._contentMargins)}))},e.decorators=[{type:a.Component,args:[{selector:"mat-drawer-container",exportAs:"matDrawerContainer",template:'<div class="mat-drawer-backdrop" (click)="_onBackdropClicked()" *ngIf="hasBackdrop" [class.mat-drawer-shown]="_isShowingBackdrop()"></div><ng-content select="mat-drawer"></ng-content><ng-content select="mat-drawer-content"></ng-content><mat-drawer-content *ngIf="!_content" cdkScrollable><ng-content></ng-content></mat-drawer-content>',styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media screen and (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media screen and (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media screen and (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-sidenav-fixed{position:fixed}"],host:{class:"mat-drawer-container","[class.mat-drawer-container-explicit-backdrop]":"_backdropOverride"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:Rl.b,decorators:[{type:a.Optional}]},{type:a.ElementRef},{type:a.NgZone},{type:a.ChangeDetectorRef},{type:void 0,decorators:[{type:a.Inject,args:[kd]}]},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[ma.a]}]}]},e.propDecorators={_drawers:[{type:a.ContentChildren,args:[Sd]}],_content:[{type:a.ContentChild,args:[Rd]}],autosize:[{type:a.Input}],hasBackdrop:[{type:a.Input}],backdropClick:[{type:a.Output}],scrollable:[{type:a.ViewChild,args:[Tl.a]}]},e}(),Od=function(e){function n(n,t){return e.call(this,n,t)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Component,args:[{selector:"mat-sidenav-content",template:"<ng-content></ng-content>",host:{class:"mat-drawer-content mat-sidenav-content","[style.margin-left.px]":"_container._contentMargins.left","[style.margin-right.px]":"_container._contentMargins.right"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:a.ChangeDetectorRef},{type:Td,decorators:[{type:a.Inject,args:[Object(a.forwardRef)(function(){return Td})]}]}]},n}(Rd),Pd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n._fixedInViewport=!1,n._fixedTopGap=0,n._fixedBottomGap=0,n}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"fixedInViewport",{get:function(){return this._fixedInViewport},set:function(e){this._fixedInViewport=Object(Sl.c)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fixedTopGap",{get:function(){return this._fixedTopGap},set:function(e){this._fixedTopGap=Object(Sl.e)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"fixedBottomGap",{get:function(){return this._fixedBottomGap},set:function(e){this._fixedBottomGap=Object(Sl.e)(e)},enumerable:!0,configurable:!0}),n.decorators=[{type:a.Component,args:[{selector:"mat-sidenav",exportAs:"matSidenav",template:"<ng-content></ng-content>",animations:[xd.transformDrawer],host:{class:"mat-drawer mat-sidenav",tabIndex:"-1","[@transform]":"_animationState","(@transform.start)":"_onAnimationStart($event)","(@transform.done)":"_onAnimationEnd($event)","[attr.align]":"null","[class.mat-drawer-end]":'position === "end"',"[class.mat-drawer-over]":'mode === "over"',"[class.mat-drawer-push]":'mode === "push"',"[class.mat-drawer-side]":'mode === "side"',"[class.mat-sidenav-fixed]":"fixedInViewport","[style.top.px]":"fixedInViewport ? fixedTopGap : null","[style.bottom.px]":"fixedInViewport ? fixedBottomGap : null"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],n.propDecorators={fixedInViewport:[{type:a.Input}],fixedTopGap:[{type:a.Input}],fixedBottomGap:[{type:a.Input}]},n}(Sd),Td=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(Cl.b)(n,e),n.decorators=[{type:a.Component,args:[{selector:"mat-sidenav-container",exportAs:"matSidenavContainer",template:'<div class="mat-drawer-backdrop" (click)="_onBackdropClicked()" *ngIf="hasBackdrop" [class.mat-drawer-shown]="_isShowingBackdrop()"></div><ng-content select="mat-sidenav"></ng-content><ng-content select="mat-sidenav-content"></ng-content><mat-sidenav-content *ngIf="!_content" cdkScrollable><ng-content></ng-content></mat-sidenav-content>',styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media screen and (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media screen and (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media screen and (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-sidenav-fixed{position:fixed}"],host:{class:"mat-drawer-container mat-sidenav-container","[class.mat-drawer-container-explicit-backdrop]":"_backdropOverride"},changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],n.propDecorators={_drawers:[{type:a.ContentChildren,args:[Pd]}],_content:[{type:a.ContentChild,args:[Od]}]},n}(Id),Dd=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[Fl.CommonModule,Ml.n,Tl.b,Dl.b],exports:[Ml.n,Sd,Id,Rd,Pd,Td,Od],declarations:[Sd,Id,Rd,Pd,Td,Od]}]}],e}(),Ad=(a["\u0275cmf"](Dd,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,Fl.NgLocalization,Fl.NgLocaleLocalization,[a.LOCALE_ID,[2,Fl["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](1073742336,Fl.CommonModule,Fl.CommonModule,[]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,Dl.b,Dl.b,[]),a["\u0275mpd"](1073742336,Tl.b,Tl.b,[]),a["\u0275mpd"](1073742336,Dd,Dd,[])])}),a["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function Ed(e){return a["\u0275vid"](2,[a["\u0275ncd"](null,0)],null,null)}a["\u0275ccf"]("mat-drawer-content",Rd,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-drawer-content",[["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Ed,Ad)),a["\u0275did"](1,1097728,null,0,Rd,[a.ChangeDetectorRef,Id],null,null)],null,function(e,n){e(n,0,0,a["\u0275nov"](n,1)._container._contentMargins.left,a["\u0275nov"](n,1)._container._contentMargins.right)})},{},{},["*"]);var jd=a["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"translate3d(0, 0, 0)",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function Fd(e){return a["\u0275vid"](2,[a["\u0275ncd"](null,0)],null,null)}a["\u0275ccf"]("mat-drawer",Sd,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-drawer",[["class","mat-drawer"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null]],[["component","@transform.start"],["component","@transform.done"]],function(e,n,t){var l=!0;return"component:@transform.start"===n&&(l=!1!==a["\u0275nov"](e,1)._onAnimationStart(t)&&l),"component:@transform.done"===n&&(l=!1!==a["\u0275nov"](e,1)._onAnimationEnd(t)&&l),l},Fd,jd)),a["\u0275did"](1,3325952,null,0,Sd,[a.ElementRef,kl.g,kl.f,Dl.a,a.NgZone,[2,Fl.DOCUMENT]],null,null)],null,function(e,n){e(n,0,0,a["\u0275nov"](n,1)._animationState,null,"end"===a["\u0275nov"](n,1).position,"over"===a["\u0275nov"](n,1).mode,"push"===a["\u0275nov"](n,1).mode,"side"===a["\u0275nov"](n,1).mode)})},{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},["*"]);var Md=a["\u0275crt"]({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media screen and (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media screen and (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media screen and (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-sidenav-fixed{position:fixed}"],data:{}});function Nd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i._onBackdropClicked()&&l);return l},null,null))],null,function(e,n){e(n,0,0,n.component._isShowingBackdrop())})}function Ld(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"mat-drawer-content",[["cdkScrollable",""],["class","mat-drawer-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Ed,Ad)),a["\u0275did"](1,212992,[[1,4]],0,Tl.a,[a.ElementRef,Tl.c,a.NgZone],null,null),a["\u0275did"](2,1097728,null,0,Rd,[a.ChangeDetectorRef,Id],null,null),a["\u0275ncd"](0,2)],function(e,n){e(n,1,0)},function(e,n){e(n,0,0,a["\u0275nov"](n,2)._container._contentMargins.left,a["\u0275nov"](n,2)._container._contentMargins.right)})}function $d(e){return a["\u0275vid"](2,[a["\u0275qud"](671088640,1,{scrollable:0}),(e()(),a["\u0275and"](16777216,null,null,1,null,Nd)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275ncd"](null,0),a["\u0275ncd"](null,1),(e()(),a["\u0275and"](16777216,null,null,1,null,Ld)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,2,0,t.hasBackdrop),e(n,6,0,!t._content)},null)}a["\u0275ccf"]("mat-drawer-container",Id,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"mat-drawer-container",[["class","mat-drawer-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,$d,Md)),a["\u0275did"](1,1490944,null,2,Id,[[2,Rl.b],a.ElementRef,a.NgZone,a.ChangeDetectorRef,kd,[2,ma.a]],null,null),a["\u0275qud"](603979776,1,{_drawers:1}),a["\u0275qud"](335544320,2,{_content:0})],function(e,n){e(n,1,0)},function(e,n){e(n,0,0,a["\u0275nov"](n,1)._backdropOverride)})},{autosize:"autosize",hasBackdrop:"hasBackdrop"},{backdropClick:"backdropClick"},["mat-drawer","mat-drawer-content","*"]);var zd=a["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Vd(e){return a["\u0275vid"](2,[a["\u0275ncd"](null,0)],null,null)}a["\u0275ccf"]("mat-sidenav-content",Od,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Vd,zd)),a["\u0275did"](1,1097728,null,0,Od,[a.ChangeDetectorRef,Td],null,null)],null,function(e,n){e(n,0,0,a["\u0275nov"](n,1)._container._contentMargins.left,a["\u0275nov"](n,1)._container._contentMargins.right)})},{},{},["*"]);var qd=a["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"translate3d(0, 0, 0)",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function Ud(e){return a["\u0275vid"](2,[a["\u0275ncd"](null,0)],null,null)}a["\u0275ccf"]("mat-sidenav",Pd,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"]],[["component","@transform.start"],["component","@transform.done"]],function(e,n,t){var l=!0;return"component:@transform.start"===n&&(l=!1!==a["\u0275nov"](e,1)._onAnimationStart(t)&&l),"component:@transform.done"===n&&(l=!1!==a["\u0275nov"](e,1)._onAnimationEnd(t)&&l),l},Ud,qd)),a["\u0275did"](1,3325952,null,0,Pd,[a.ElementRef,kl.g,kl.f,Dl.a,a.NgZone,[2,Fl.DOCUMENT]],null,null)],null,function(e,n){e(n,0,0,a["\u0275nov"](n,1)._animationState,null,"end"===a["\u0275nov"](n,1).position,"over"===a["\u0275nov"](n,1).mode,"push"===a["\u0275nov"](n,1).mode,"side"===a["\u0275nov"](n,1).mode,a["\u0275nov"](n,1).fixedInViewport,a["\u0275nov"](n,1).fixedInViewport?a["\u0275nov"](n,1).fixedTopGap:null,a["\u0275nov"](n,1).fixedInViewport?a["\u0275nov"](n,1).fixedBottomGap:null)})},{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened",fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},["*"]);var Bd=a["\u0275crt"]({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-opened{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media screen and (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media screen and (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media screen and (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-sidenav-fixed{position:fixed}"],data:{}});function Hd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i._onBackdropClicked()&&l);return l},null,null))],null,function(e,n){e(n,0,0,n.component._isShowingBackdrop())})}function Wd(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Vd,zd)),a["\u0275did"](1,212992,[[1,4]],0,Tl.a,[a.ElementRef,Tl.c,a.NgZone],null,null),a["\u0275did"](2,1097728,null,0,Od,[a.ChangeDetectorRef,Td],null,null),a["\u0275ncd"](0,2)],function(e,n){e(n,1,0)},function(e,n){e(n,0,0,a["\u0275nov"](n,2)._container._contentMargins.left,a["\u0275nov"](n,2)._container._contentMargins.right)})}function Zd(e){return a["\u0275vid"](2,[a["\u0275qud"](671088640,1,{scrollable:0}),(e()(),a["\u0275and"](16777216,null,null,1,null,Hd)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275ncd"](null,0),a["\u0275ncd"](null,1),(e()(),a["\u0275and"](16777216,null,null,1,null,Wd)),a["\u0275did"](6,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,2,0,t.hasBackdrop),e(n,6,0,!t._content)},null)}a["\u0275ccf"]("mat-sidenav-container",Td,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"mat-sidenav-container",[["class","mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,Zd,Bd)),a["\u0275did"](1,1490944,null,2,Td,[[2,Rl.b],a.ElementRef,a.NgZone,a.ChangeDetectorRef,kd,[2,ma.a]],null,null),a["\u0275qud"](603979776,1,{_drawers:1}),a["\u0275qud"](335544320,2,{_content:0})],function(e,n){e(n,1,0)},function(e,n){e(n,0,0,a["\u0275nov"](n,1)._backdropOverride)})},{autosize:"autosize",hasBackdrop:"hasBackdrop"},{backdropClick:"backdropClick"},["mat-sidenav","mat-sidenav-content","*"]);var Xd=t("ZYCi"),Gd=100,Yd=function(){return function(e){this._elementRef=e}}(),Qd=Object(Ml.E)(Yd,"primary"),Kd=new a.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:Gd}}});var Jd=function(e){function n(n,t,l,i,a){var o=e.call(this,n)||this;o._elementRef=n,o._document=l,o.animationMode=i,o.defaults=a,o._value=0,o._fallbackAnimation=!1,o._noopAnimations="NoopAnimations"===o.animationMode&&!!o.defaults&&!o.defaults._forceAnimations,o._diameter=Gd,o.mode="determinate",o._fallbackAnimation=t.EDGE||t.TRIDENT,a&&(a.diameter&&(o.diameter=a.diameter),a.strokeWidth&&(o.strokeWidth=a.strokeWidth));var r="mat-progress-spinner-indeterminate"+(o._fallbackAnimation?"-fallback":"")+"-animation";return n.nativeElement.classList.add(r),o}return Object(Cl.b)(n,e),Object.defineProperty(n.prototype,"diameter",{get:function(){return this._diameter},set:function(e){this._diameter=Object(Sl.e)(e),this._fallbackAnimation||n.diameters.has(this._diameter)||this._attachStyleNode()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeWidth",{get:function(){return this._strokeWidth||this.diameter/10},set:function(e){this._strokeWidth=Object(Sl.e)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return"determinate"===this.mode?this._value:0},set:function(e){this._value=Math.max(0,Math.min(100,Object(Sl.e)(e)))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_circleRadius",{get:function(){return(this.diameter-10)/2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_viewBox",{get:function(){var e=2*this._circleRadius+this.strokeWidth;return"0 0 "+e+" "+e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_strokeCircumference",{get:function(){return 2*Math.PI*this._circleRadius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_strokeDashOffset",{get:function(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_circleStrokeWidth",{get:function(){return this.strokeWidth/this.diameter*100},enumerable:!0,configurable:!0}),n.prototype._attachStyleNode=function(){var e=n.styleTag;e||(e=this._document.createElement("style"),this._document.head.appendChild(e),n.styleTag=e),e&&e.sheet&&e.sheet.insertRule(this._getAnimationText(),0),n.diameters.add(this.diameter)},n.prototype._getAnimationText=function(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*this._strokeCircumference).replace(/END_VALUE/g,""+.2*this._strokeCircumference).replace(/DIAMETER/g,""+this.diameter)},n.diameters=new Set([Gd]),n.styleTag=null,n.decorators=[{type:a.Component,args:[{selector:"mat-progress-spinner",exportAs:"matProgressSpinner",host:{role:"progressbar",class:"mat-progress-spinner","[class._mat-animation-noopable]":"_noopAnimations","[style.width.px]":"diameter","[style.height.px]":"diameter","[attr.aria-valuemin]":'mode === "determinate" ? 0 : null',"[attr.aria-valuemax]":'mode === "determinate" ? 100 : null',"[attr.aria-valuenow]":"value","[attr.mode]":"mode"},inputs:["color"],template:'<svg [style.width.px]="diameter" [style.height.px]="diameter" [attr.viewBox]="_viewBox" preserveAspectRatio="xMidYMid meet" focusable="false" [ngSwitch]="mode === \'indeterminate\'"><circle *ngSwitchCase="true" cx="50%" cy="50%" [attr.r]="_circleRadius" [style.animation-name]="\'mat-progress-spinner-stroke-rotate-\' + diameter" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle><circle *ngSwitchCase="false" cx="50%" cy="50%" [attr.r]="_circleRadius" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle></svg>',styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:a.ElementRef},{type:Dl.a},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[Fl.DOCUMENT]}]},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[ma.a]}]},{type:void 0,decorators:[{type:a.Inject,args:[Kd]}]}]},n.propDecorators={diameter:[{type:a.Input}],strokeWidth:[{type:a.Input}],mode:[{type:a.Input}],value:[{type:a.Input}]},n}(Qd),ep=function(e){function n(n,t,l,i,a){var o=e.call(this,n,t,l,i,a)||this;return o.mode="indeterminate",o}return Object(Cl.b)(n,e),n.decorators=[{type:a.Component,args:[{selector:"mat-spinner",host:{role:"progressbar",mode:"indeterminate",class:"mat-spinner mat-progress-spinner","[class._mat-animation-noopable]":"_noopAnimations","[style.width.px]":"diameter","[style.height.px]":"diameter"},inputs:["color"],template:'<svg [style.width.px]="diameter" [style.height.px]="diameter" [attr.viewBox]="_viewBox" preserveAspectRatio="xMidYMid meet" focusable="false" [ngSwitch]="mode === \'indeterminate\'"><circle *ngSwitchCase="true" cx="50%" cy="50%" [attr.r]="_circleRadius" [style.animation-name]="\'mat-progress-spinner-stroke-rotate-\' + diameter" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle><circle *ngSwitchCase="false" cx="50%" cy="50%" [attr.r]="_circleRadius" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle></svg>',styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:a.ElementRef},{type:Dl.a},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[Fl.DOCUMENT]}]},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[ma.a]}]},{type:void 0,decorators:[{type:a.Inject,args:[Kd]}]}]},n}(Jd),np=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{imports:[Ml.n,Fl.CommonModule],exports:[Jd,ep,Ml.n],declarations:[Jd,ep]}]}],e}(),tp=(a["\u0275cmf"](np,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,Fl.NgLocalization,Fl.NgLocaleLocalization,[a.LOCALE_ID,[2,Fl["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,Fl.CommonModule,Fl.CommonModule,[]),a["\u0275mpd"](1073742336,np,np,[])])}),a["\u0275crt"]({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}}));function lp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,t._circleRadius,"mat-progress-spinner-stroke-rotate-"+t.diameter,t._strokeDashOffset,t._strokeCircumference,t._circleStrokeWidth)})}function ip(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,t._circleRadius,t._strokeDashOffset,t._strokeCircumference,t._circleStrokeWidth)})}function ap(e){return a["\u0275vid"](2,[(e()(),a["\u0275eld"](0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),a["\u0275did"](1,16384,null,0,Fl.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,lp)),a["\u0275did"](3,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,ip)),a["\u0275did"](5,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,n){e(n,1,0,"indeterminate"===n.component.mode);e(n,3,0,!0);e(n,5,0,!1)},function(e,n){var t=n.component;e(n,0,0,t.diameter,t.diameter,t._viewBox)})}a["\u0275ccf"]("mat-progress-spinner",Jd,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-progress-spinner",[["class","mat-progress-spinner"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,ap,tp)),a["\u0275did"](1,49152,null,0,Jd,[a.ElementRef,Dl.a,[2,Fl.DOCUMENT],[2,ma.a],Kd],null,null)],null,function(e,n){e(n,0,0,a["\u0275nov"](n,1)._noopAnimations,a["\u0275nov"](n,1).diameter,a["\u0275nov"](n,1).diameter,"determinate"===a["\u0275nov"](n,1).mode?0:null,"determinate"===a["\u0275nov"](n,1).mode?100:null,a["\u0275nov"](n,1).value,a["\u0275nov"](n,1).mode)})},{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},{},[]);var op=a["\u0275crt"]({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function rp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,t._circleRadius,"mat-progress-spinner-stroke-rotate-"+t.diameter,t._strokeDashOffset,t._strokeCircumference,t._circleStrokeWidth)})}function up(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,t._circleRadius,t._strokeDashOffset,t._strokeCircumference,t._circleStrokeWidth)})}function sp(e){return a["\u0275vid"](2,[(e()(),a["\u0275eld"](0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),a["\u0275did"](1,16384,null,0,Fl.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,rp)),a["\u0275did"](3,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,up)),a["\u0275did"](5,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,n){e(n,1,0,"indeterminate"===n.component.mode);e(n,3,0,!0);e(n,5,0,!1)},function(e,n){var t=n.component;e(n,0,0,t.diameter,t.diameter,t._viewBox)})}a["\u0275ccf"]("mat-spinner",ep,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,sp,op)),a["\u0275did"](1,49152,null,0,ep,[a.ElementRef,Dl.a,[2,Fl.DOCUMENT],[2,ma.a],Kd],null,null)],null,function(e,n){e(n,0,0,a["\u0275nov"](n,1)._noopAnimations,a["\u0275nov"](n,1).diameter,a["\u0275nov"](n,1).diameter)})},{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},{},[]);var cp=t("YSVl"),dp=function(){function e(e,n){this.store=e,this.actions$=n,this.visible=!1,this.entries=[],this.message="",this.playerColors={},this.progressingMessages={},this.chatScrollPosition=null}return e.prototype.ngOnInit=function(){var e=this;this.store.select(gt).pipe(Object(Ot.a)()).subscribe(function(n){e.entries=e.formatEntries(n.messages),e.scrollChat(e.chatScrollPosition)}),this.actions$.pipe(Object(r.d)(Sn.PostMessageSuccess),Object(s.a)(function(e){return e.payload})).subscribe(function(n){var t=n.message,l=n.messageStamp,i=e.progressingMessages[l];i.messageStamp=null,i.id=t.id,delete e.progressingMessages[l]}),this.actions$.pipe(Object(r.d)(Sn.AddMessage),Object(s.a)(function(e){return e.payload})).subscribe(function(n){e.chatScrollPosition=e.getScrollPosition();var t=e.entries[e.entries.length-1];t&&t.playerId===n.playerId?t.messages.push({id:n.id,text:n.text,createdAt:+n.createdAt}):e.entries.push(e.formatEntry(n.playerId,n.player,{id:n.id,text:n.text,createdAt:n.createdAt})),e.scrollChat(e.chatScrollPosition)})},e.prototype.sendMessage=function(e,n){if(e.preventDefault(),!(n.length<1)){this.chatScrollPosition=this.getScrollPosition(),this.message="";var t=this.generateSeededNumber("alliance.message."+this.player.id+"."+Date.now());this.store.dispatch(new En({text:n,messageStamp:t}));var l=this.entries[this.entries.length-1],i={id:null,text:n,createdAt:String(Date.now()),messageStamp:t};l&&l.playerId===this.player.id?l.messages.push(i):this.entries.push(this.formatEntry(this.player.id,{name:this.player.name},i)),this.progressingMessages[t]=i,this.scrollChat(this.chatScrollPosition)}},e.prototype.formatEntries=function(e){var n=this;return e.reduce(function(e,t,l,i){var a=i[l-1];return a&&a.playerId===t.playerId?(e[e.length-1].messages.push({id:t.id,text:t.text,createdAt:t.createdAt}),e):(e.push(n.formatEntry(t.playerId,t.player,{id:t.id,text:t.text,createdAt:t.createdAt})),e)},[])},e.prototype.formatEntry=function(e,n,t){return{playerId:e,player:{name:n.name},messages:[t],color:this.getPlayerColor(n.name,e)}},e.prototype.getScrollPosition=function(){return this.messageContainer.nativeElement.scrollHeight-this.messageContainer.nativeElement.scrollTop-this.messageContainer.nativeElement.clientHeight},e.prototype.scrollChat=function(e,n){var t=this;void 0===n&&(n=!1),setTimeout(function(){var l=t.messageContainer.nativeElement;!n&&e>60||(l.scrollTop=l.scrollHeight)})},e.prototype.getPlayerColor=function(e,n){return this.playerColors[e]||(this.playerColors[e]=this.randomHsl(e,n)),this.playerColors[e]},e.prototype.randomHsl=function(e,n){return"hsla("+360*this.generateSeededNumber("megapolis."+n+"."+e)+", 80%, 50%, 0.5)"},e.prototype.generateSeededNumber=function(e){return cp.xor4096(e).quick()},e}(),pp=[[".chat{width:240px;height:1.75em;box-shadow:0 1px 4px rgba(0,0,0,.3);transition:height .5s ease,opacity .1s linear;opacity:.8}.chat.chat-active{height:300px;opacity:1}.chat:not(.chat-active):hover{opacity:1}.chat .header{height:1.75em;padding-left:.5em;display:flex;align-items:center;background:var(--indigo);color:#fff;cursor:pointer}.chat .content-container{height:calc(100% - 1.75em);display:flex;flex-direction:column;background-color:#fff}.chat .content{height:80%;overflow-y:scroll;overflow-x:hidden;word-wrap:break-word;padding:0 .5em}.chat .content .entry{min-width:20%;max-width:90%;position:relative;margin:.6em 0;padding:.3em .3em 0;border:2px solid}.chat .content .entry.entry-owner{left:10%}.chat .content .entry.entry-owner .entry-author{left:initial;right:.4em}.chat .content .entry .entry-author{position:absolute;top:-.5em;left:.4em;padding:0 .15em;height:.8em;font-size:.8em;display:flex;align-items:center;background-color:#fff}.chat .content .entry .entry-message{padding:.2em 0;position:relative;display:flex;align-items:center;border-bottom:1px dashed;border-color:inherit}.chat .content .entry .entry-message:last-child{border-color:transparent}.chat .content .entry .entry-message .message-saving{position:absolute;left:-1.6em}.chat .message-compose{height:auto;min-height:20%;padding:0 .5em;box-shadow:inset 0 1px 1px 0 rgba(0,0,0,.3)}.chat .message-compose .mat-form-field-infix{border-top:0}.chat .message-compose .mat-form-field-wrapper{padding-bottom:0}.chat .message-compose .mat-form-field-underline{display:none}"]],fp=a["\u0275crt"]({encapsulation:2,styles:pp,data:{}});function mp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"mat-spinner",[["class","message-saving mat-spinner mat-progress-spinner"],["diameter","16"],["mode","indeterminate"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,sp,op)),a["\u0275did"](1,49152,null,0,ep,[a.ElementRef,Dl.a,[2,Fl.DOCUMENT],[2,ma.a],Kd],{diameter:[0,"diameter"]},null)],function(e,n){e(n,1,0,"16")},function(e,n){e(n,0,0,a["\u0275nov"](n,1)._noopAnimations,a["\u0275nov"](n,1).diameter,a["\u0275nov"](n,1).diameter)})}function hp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,16777216,null,null,5,"div",[["class","entry-message"],["matTooltipPosition","left"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(e,n,t){var l=!0;"longpress"===n&&(l=!1!==a["\u0275nov"](e,1).show()&&l);"keydown"===n&&(l=!1!==a["\u0275nov"](e,1)._handleKeydown(t)&&l);"touchend"===n&&(l=!1!==a["\u0275nov"](e,1)._handleTouchend()&&l);return l},null,null)),a["\u0275did"](1,147456,null,0,Bl,[Pl.c,a.ElementRef,Tl.c,a.ViewContainerRef,a.NgZone,Dl.a,kl.c,kl.f,zl,[2,Rl.b],[2,Ul]],{position:[0,"position"],message:[1,"message"]},null),a["\u0275ppd"](2,2),(e()(),a["\u0275and"](16777216,null,null,1,null,mp)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275ted"](5,null,[" "," "])),(e()(),a["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,1,0,"left",a["\u0275unv"](n,1,1,e(n,2,0,a["\u0275nov"](n.parent.parent,0),n.context.$implicit.createdAt,"short"))),e(n,4,0,n.parent.context.$implicit.playerId===t.player.id&&n.context.$implicit.messageStamp)},function(e,n){e(n,5,0,n.context.$implicit.text)})}function gp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,6,"div",[["class","entry"]],[[4,"border-color",null]],null,null,null,null)),a["\u0275did"](1,278528,null,0,Fl.NgClass,[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](2,{"entry-owner":0}),(e()(),a["\u0275eld"](3,0,null,null,1,"div",[["class","entry-author"]],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,hp)),a["\u0275did"](6,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,1,0,"entry",e(n,2,0,n.context.$implicit.playerId===t.player.id)),e(n,6,0,n.context.$implicit.messages)},function(e,n){e(n,0,0,n.context.$implicit.color),e(n,4,0,n.context.$implicit.player.name)})}function vp(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DatePipe,[a.LOCALE_ID]),a["\u0275qud"](402653184,1,{messageContainer:0}),(e()(),a["\u0275eld"](2,0,null,null,34,"div",[["class","chat"]],null,null,null,null,null)),a["\u0275did"](3,278528,null,0,Fl.NgClass,[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](4,{"chat-active":0}),(e()(),a["\u0275eld"](5,0,null,null,3,"div",[["class","header"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=(i.visible=!i.visible)&&l);return l},null,null)),(e()(),a["\u0275eld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Alliance chat"])),(e()(),a["\u0275eld"](8,0,null,null,0,"span",[],null,null,null,null,null)),(e()(),a["\u0275eld"](9,0,null,null,27,"div",[["class","content-container"]],null,null,null,null,null)),(e()(),a["\u0275eld"](10,0,[[1,0],["messageContainer",1]],null,2,"div",[["class","content"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,gp)),a["\u0275did"](12,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),a["\u0275eld"](13,0,null,null,23,"div",[["class","message-compose"]],null,null,null,null,null)),(e()(),a["\u0275eld"](14,0,null,null,22,"mat-form-field",[["class","mat-form-field"],["floatLabel","never"],["name","message"],["ngDefaultControl",""],["style","width: 100%"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,23)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,23).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,23)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,23)._compositionEnd(t.target.value)&&l);"ngModelChange"===n&&(l=!1!==(i.message=t)&&l);"keydown.enter"===n&&(l=!1!==i.sendMessage(t,i.message)&&l);return l},no.b,no.a)),a["\u0275did"](15,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],{floatLabel:[0,"floatLabel"]},null),a["\u0275qud"](335544320,2,{_control:0}),a["\u0275qud"](335544320,3,{_placeholderChild:0}),a["\u0275qud"](335544320,4,{_labelChild:0}),a["\u0275qud"](603979776,5,{_errorChildren:1}),a["\u0275qud"](603979776,6,{_hintChildren:1}),a["\u0275qud"](603979776,7,{_prefixChildren:1}),a["\u0275qud"](603979776,8,{_suffixChildren:1}),a["\u0275did"](23,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](25,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](27,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](28,0,null,1,8,"textarea",[["class","mat-input-element mat-form-field-autofill-control cdk-textarea-autosize mat-autosize"],["matAutosizeMaxRows","5"],["matAutosizeMinRows","2"],["matInput",""],["matTextareaAutosize",""],["placeholder","Enter message"],["rows","1"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var l=!0;"input"===n&&(l=!1!==a["\u0275nov"](e,29)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,29).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,29)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,29)._compositionEnd(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,33)._focusChanged(!1)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,33)._focusChanged(!0)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,33)._onInput()&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,34)._noopInputHandler()&&l);return l},null,null)),a["\u0275did"](29,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](31,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},null),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](33,999424,null,0,lo.a,[a.ElementRef,Dl.a,[6,Si.m],[2,Si.p],[2,Si.h],Ml.d,[8,null],io.a,a.NgZone],{placeholder:[0,"placeholder"]},null),a["\u0275did"](34,4603904,null,0,lo.c,[a.ElementRef,Dl.a,a.NgZone],{matAutosizeMinRows:[0,"matAutosizeMinRows"],matAutosizeMaxRows:[1,"matAutosizeMaxRows"],matTextareaAutosize:[2,"matTextareaAutosize"]},null),a["\u0275did"](35,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[2,4]],to.c,null,[lo.a])],function(e,n){var t=n.component;e(n,3,0,"chat",e(n,4,0,t.visible)),e(n,12,0,t.entries);e(n,15,0,"never");e(n,25,0,"message",t.message),e(n,31,0,t.message);e(n,33,0,"Enter message");e(n,34,0,"2","5","")},function(e,n){e(n,14,1,["standard"==a["\u0275nov"](n,15).appearance,"fill"==a["\u0275nov"](n,15).appearance,"outline"==a["\u0275nov"](n,15).appearance,"legacy"==a["\u0275nov"](n,15).appearance,a["\u0275nov"](n,15)._control.errorState,a["\u0275nov"](n,15)._canLabelFloat,a["\u0275nov"](n,15)._shouldLabelFloat(),a["\u0275nov"](n,15)._hideControlPlaceholder(),a["\u0275nov"](n,15)._control.disabled,a["\u0275nov"](n,15)._control.autofilled,a["\u0275nov"](n,15)._control.focused,"accent"==a["\u0275nov"](n,15).color,"warn"==a["\u0275nov"](n,15).color,a["\u0275nov"](n,15)._shouldForward("untouched"),a["\u0275nov"](n,15)._shouldForward("touched"),a["\u0275nov"](n,15)._shouldForward("pristine"),a["\u0275nov"](n,15)._shouldForward("dirty"),a["\u0275nov"](n,15)._shouldForward("valid"),a["\u0275nov"](n,15)._shouldForward("invalid"),a["\u0275nov"](n,15)._shouldForward("pending"),!a["\u0275nov"](n,15)._animationsEnabled,a["\u0275nov"](n,27).ngClassUntouched,a["\u0275nov"](n,27).ngClassTouched,a["\u0275nov"](n,27).ngClassPristine,a["\u0275nov"](n,27).ngClassDirty,a["\u0275nov"](n,27).ngClassValid,a["\u0275nov"](n,27).ngClassInvalid,a["\u0275nov"](n,27).ngClassPending]),e(n,28,1,[a["\u0275nov"](n,33)._isServer,a["\u0275nov"](n,33).id,a["\u0275nov"](n,33).placeholder,a["\u0275nov"](n,33).disabled,a["\u0275nov"](n,33).required,a["\u0275nov"](n,33).readonly,a["\u0275nov"](n,33)._ariaDescribedby||null,a["\u0275nov"](n,33).errorState,a["\u0275nov"](n,33).required.toString(),a["\u0275nov"](n,35).ngClassUntouched,a["\u0275nov"](n,35).ngClassTouched,a["\u0275nov"](n,35).ngClassPristine,a["\u0275nov"](n,35).ngClassDirty,a["\u0275nov"](n,35).ngClassValid,a["\u0275nov"](n,35).ngClassInvalid,a["\u0275nov"](n,35).ngClassPending])})}a["\u0275ccf"]("alliance-chat",dp,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"alliance-chat",[],null,null,null,vp,fp)),a["\u0275did"](1,114688,null,0,dp,[O.n,r.a],null,null)],function(e,n){e(n,1,0)},null)},{player:"player"},{},[]);var bp=function(){return function(e,n){this.dialogRef=e,this.data=n}}(),yp=function(){function e(e){this.dialog=e,this.progressTutorial=new a.EventEmitter,this.stages=[{data:{title:"Welcome",content:"\n<p>\n  Glad to see you in the alpha.\n</p>\n<p>\n  Current version is an early base functionality test with a lot of missing gameplay and features.<br/>\n  Current design, game theme are placeholders and will most likely be changed going into beta.<br/>\n  A detailed feature roadmap can be found in the home page.\n<p>\n<p>\n  This simple walkthrough goes through the basics and goals.\n</p>\n  If you encounter any problems you can report them through the bug button located bottom right.<br/>\n  Any feedback is very appreciated.\n</p>",route:null},disableClose:!0},{data:{title:"Game overview",content:"\n<p>\n  The general goal of the game is to conquer the world.<br/>\n  This is achieved by befriending players, forming an alliance and then conquering others.<br/>\n  If one alliance becomes overwhelmingly dominant it's considered victorious.\n</p>\n<p>\n  To grow your emmpire you need to upgrade your initial town.<br/>\n  Once upgraded enough you'll be able to build the <b>Academy</b>.<br/>\n  Once its built you'll be able to train units used for conquering towns - <b>Diplomats</b>.<br/>\n<p>\n  Sending <b>Diplomat</b> units with your attacks reduces a towns loyalty.<br/>\n  The more <b>Diplomats</b> are in an attack the more loyalty they reduce.<br/>\n  When a towns loyalty falls below 0 it's conquered and given to the conquering player<br/>\n  Town loyalty regenerates over time. If a player loses all his towns he must restart.\n</p>"},disableClose:!0},{data:{title:"Header",content:"\n<p>\n  Header is the primary way to navigate the game.<br/>\n  Recruitment tab becomes available only after building the <b>Barracks</b><br/>\n  Some tabs open a different page while others use a sidenav.<br/>\n  Some tabs open a different page while others use a sidenav.<br/>\n</p>\n<p>\n  <b>Town</b> - overview and upgrade town<br/>\n  <b>Alliance</b> - overview and manage alliance, your invitations<br/>\n  <b>Map</b> - interact with other towns, send troops<br/>\n  <b>Recruit</b> - (available once barracksa are built) build more troops for your town<br/>\n  <b>Movements</b> - check incoming and ongoing troop movements<br/>\n  <b>Support</b> - overview and manage sent and stationed support<br/>\n  <b>Reports</b> - view combat reports<br/>\n  <b>Rankings</b> - check world rankings<br/>\n</p>"},disableClose:!0,backdropClass:"backdrop-transparent"},{data:{title:"Town view",content:"\n<p>\n  The town screen is used for a quick overview and building construction.<br/>\n  Main area shows building costs, build times and whether you can build them.\n</p>\n<p>\n  On the right you can see the towns available population and resources.<br/>\n  Each unit costs 1 population, population is increased by upgrading the farm.<br/>\n  Resources are used both for building construction and unit recruitment.\n</p>\n<p>\n  Below that town units, building queues and supporting units are displayed if there are any.<br/>\n  Units display is formatted - 5/12 (+3)<br/>\n  5 - amount of units currently stationed in town</br>\n  12 - total amount of available units</br>\n  (+3) - amount of units in recruitment\n</p>"},disableClose:!0,backdropClass:"backdrop-transparent"}]}return e.prototype.ngOnInit=function(){this.nextStage()},e.prototype.nextStage=function(){var e=this;this.stage=this.stage||0,this.stage>=this.stages.length||(this.tutorialDialog=this.dialog.open(bp,this.stages[this.stage]),this.tutorialDialog.beforeClose().subscribe(function(){e.stage++,e.progressTutorial.next(),e.nextStage()}))},e}(),wp=[[""]],_p=a["\u0275crt"]({encapsulation:0,styles:wp,data:{}});function xp(e){return a["\u0275vid"](0,[],null,null)}a["\u0275ccf"]("tutorial",yp,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"tutorial",[],null,null,null,xp,_p)),a["\u0275did"](1,114688,null,0,yp,[Ju.e],null,null)],function(e,n){e(n,1,0)},null)},{stage:"stage"},{progressTutorial:"progressTutorial"},[]);var Cp,kp=t("2JUs"),Rp=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Sp=((Cp={})[i.LoadProfileSuccess]="Player profile loaded successfully",Cp[i.UpdateProfileSuccess]="Profile updated successfully",Cp[i.RemoveAvatarSuccess]="Avatar removed successfully",Cp[i.LoadProfileFail]="Failed to load profile, please retry",Cp[i.UpdateProfileFail]="Failed to update profile, pleae retry",Cp[i.RemoveAvatarFail]="Failed to remove avatar, please retry",Cp["[Town] Rename Success"]="Town renamed successfully",Cp["[Town] Build Success"]="Building queued successfully",Cp["[Town] Recruit Success"]="Recruitment queued successfully",Cp["[Town] Move Troops Success"]="Troops sent successfully",Cp["[Town] Recall Support Success"]="Supporting troops recalled successfully",Cp["[Town] Send Back Support Success"]="Supporting troops sent back successfully",Cp["[Town] Rename Fail"]="Failed to rename town, please retry",Cp["[Town] Build Fail"]="Failed to queue building, please retry",Cp["[Town] Recruit Fail"]="Failed to queue recruitment, please retry",Cp["[Town] Move Troops Fail"]="Failed to send troops, please retry",Cp["[Town] Recall Support Fail"]="Failed recall supporting troops, please retry",Cp["[Town] Send Back Support Fail"]="Failed to send back supporting troops, please retry",Cp[$.CreateSuccess]="Alliance created successfully",Cp[$.CreateInviteSuccess]="Player invited successfully",Cp[$.CancelInviteSuccess]="Invite canceled successfully",Cp[$.RemoveMemberSuccess]="Member removed successfully",Cp[$.UpdateRolePermissionsSuccess]="Updated roles successfully",Cp[$.RemoveRoleSuccess]="Removed role successfully",Cp[$.UpdateMemberRoleSuccess]="Updated member role successfully",Cp[$.RejectInviteSuccess]="Rejected alliance invite successfully",Cp[$.LeaveAllianceSuccess]="Left alliance successfully",Cp[$.DestroySuccess]="Destroyed alliance successfully",Cp[$.ProposeAllianceSuccess]="Proposed alliance successfully",Cp[$.ProposeNapSuccess]="Proposed NAP successfully",Cp[$.CancelAllianceSuccess]="Canceled alliance proposal successfully",Cp[$.CancelNapSuccess]="Canceled NAP proposal successfully",Cp[$.RejectAllianceSuccess]="Rejected alliance proposal successfully",Cp[$.RejectNapSuccess]="Rejected NAP proposal successfully",Cp[$.AcceptAllianceSuccess]="Accepted alliance proposal successfully",Cp[$.AcceptNapSuccess]="Accepted NAP proposal successfully",Cp[$.EndAllianceSuccess]="Ended alliance successfully",Cp[$.EndNapSuccess]="Ended NAP successfully",Cp[$.DeclareWarSuccess]="Declared war successfully",Cp[$.LoadProfileSuccess]="Loaded alliance profile successfully",Cp[$.UpdateProfileSuccess]="Updated alliance profile successfully",Cp[$.RemoveAvatarSuccess]="Removed alliance avatar successfully",Cp[$.CreateFail]="Failed to create an alliance, please retry",Cp[$.CreateInviteFail]="Failed to invite target player, please retry",Cp[$.CancelInviteFail]="Failed to cancel invite, please retry",Cp[$.RemoveMemberFail]="Failed to remove member, please retry",Cp[$.UpdateRolePermissionsFail]="Failed to update roles, please retry",Cp[$.RemoveRoleFail]="Failed to remove role, please retry",Cp[$.UpdateMemberRoleFail]="Failed to update member role, please retry",Cp[$.RejectInviteFail]="Failed to reject invite, please retry",Cp[$.LeaveAllianceFail]="Failed to leave alliance, please retry",Cp[$.DestroyFail]="Failed to destroy alliance, please retry",Cp[$.ProposeAllianceFail]="Failed to propose alliance, please retry",Cp[$.ProposeNapFail]="Failed to to propose NAP, please retry",Cp[$.CancelAllianceFail]="Failed to cancel alliance proposal, please retry",Cp[$.CancelNapFail]="Failed to cancel NAP proposal, please retry",Cp[$.RejectAllianceFail]="Failed to reject alliance proposal, please retry",Cp[$.RejectNapFail]="Failed to reject NAP proposal, please retry",Cp[$.AcceptAllianceFail]="Failed to accept alliance proposal, please retry",Cp[$.AcceptNapFail]="Failed to accept NAP proposal, please retry",Cp[$.EndAllianceFail]="Failed to end alliance, please retry",Cp[$.EndNapFail]="Failed to end NAP, please retry",Cp[$.DeclareWarFail]="Failed to declare war, please retry",Cp[$.LoadProfileFail]="Failed to load alliance profile, please retry",Cp[$.UpdateProfileFail]="Failed to update alliance profile, please retry",Cp[$.RemoveAvatarFail]="Failed to remove alliance avatar, please retry",Cp),Ip=function(){function e(e,n,t){var l=this;this.store=e,this.snackBar=n,this.actions$=t,this.player$=this.store.select(at),this.alliance$=this.store.select(dt),this.townState$=this.store.select(tt),this.reports$=this.store.select(ot),this.worldData$=this.store.select(sl.a),this.positionRankings$=this.store.select(_t).pipe(Object(Yo.a)(this.store.select(Ct)),Object(s.a)(function(e){return{rankings:e[0],playerPosition:e[1]}})),this.noTowns$=this.townState$.pipe(Object(s.a)(function(e){return!e.inProgress&&!e.ids.length})),this.viewedAlliance$=this.store.select(mt).pipe(Object(Yo.a)(this.store.select(xt)),Object(Pt.a)(function(e){var n=e[0],t=e[1];return!!n&&!!Object.keys(t).length}),Object(s.a)(function(e){var n=e[0],t=e[1];return Rp({},n,{members:n.members.map(function(e){var n=e.id,l=t[n];return{id:n,name:l.name,score:l.score}})})})),this.viewedPlayer$=this.store.select(ut),this.updates=this.actions$.pipe(r.d.apply(void 0,d.concat(p,Nt,Lt,V,q)),Object(s.a)(function(e){var n="info";return e.type.includes("Success")?n="success":e.type.includes("Fail")&&(n="fail"),{type:n,message:Sp[e.type]}})).subscribe(function(e){l.snackBar.open(e.message,null,{panelClass:["snackbar-event","snackbar-"+e.type],duration:1800})}),mi.d.add(hi.n,hi.v,hi.l,hi.b,hi.m,hi.k,hi.r,hi.q,Go)}return e.prototype.ngOnInit=function(){var e=this;this.townStateSubscription=this.townState$.subscribe(function(n){e.townList=n.ids.map(function(e){return n.playerTowns[e]}),e.activeTown=n.playerTowns[n.activeTown],e.canRecruit=e.activeTown&&!!e.activeTown.buildings.barracks.level}),this.sidenavSubscription=this.store.select(rt).pipe(Object(Pt.a)(function(){return e.sidenavLeft&&e.sidenavRight})).subscribe(function(n){return e.updateSidenavs(n)})},e.prototype.updateSidenavs=function(e){this.sidenavLeft.comp=e.left,this.sidenavRight.comp=e.right,e.left?this.sidenavLeft.open():this.sidenavLeft.close(),e.right?this.sidenavRight.open():this.sidenavRight.close()},e.prototype.onOpenProfile=function(e,n){var t="alliance"===n?pn:g;this.store.dispatch(new t(e))},e.prototype.sidenavToggle=function(e,n){this.store.dispatch(new m([{side:e,name:n}]))},e.prototype.ngOnDestroy=function(){this.sidenavSubscription.unsubscribe(),this.townStateSubscription.unsubscribe()},e.prototype.logout=function(){this.store.dispatch(new kp.g)},e.prototype.selectTown=function(e){this.store.dispatch(new Yt(e))},e.prototype.restart=function(){this.store.dispatch(new h)},e.prototype.progressTutorial=function(){this.store.dispatch(new k)},e}(),Op=t("vARd"),Pp=[["header[_ngcontent-%COMP%]{padding-bottom:43px}nav.navbar[_ngcontent-%COMP%]{padding:0;min-height:43px;position:absolute;width:100%;top:0;left:0;z-index:1}nav.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:0;margin:0}nav.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem;background-color:rgba(255,255,255,0);border-top:3px solid transparent;transition:.25s}nav.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.5)}nav.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;border-top:3px solid #2f0}nav.navbar[_ngcontent-%COMP%]   .collapse.show[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{min-width:40%;text-align:center}.mat-sidenav-container[_ngcontent-%COMP%]{min-height:100vh}.mat-sidenav-container[_ngcontent-%COMP%]   .mat-sidenav[_ngcontent-%COMP%]{background-color:#fff}.game-chat[_ngcontent-%COMP%]{box-shadow:0 1px 4px rgba(0,0,0,.3);position:fixed;bottom:0;right:10%;z-index:1}"]],Tp=a["\u0275crt"]({encapsulation:0,styles:Pp,data:{}});function Dp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"movement",[],null,null,null,ki,bi)),a["\u0275did"](1,638976,null,0,gi,[],{town:[0,"town"],worldData:[1,"worldData"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,t.activeTown,a["\u0275unv"](n,1,1,a["\u0275nov"](n,2).transform(t.worldData$)))},null)}function Ap(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"command",[],null,null,null,zi,ji)),a["\u0275did"](1,114688,null,0,Ti,[Di.a,Ii.a,Ai.c,O.n],{town:[0,"town"],worldData:[1,"worldData"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,t.activeTown,a["\u0275unv"](n,1,1,a["\u0275nov"](n,2).transform(t.worldData$)))},null)}function Ep(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"alliance",[],null,[[null,"openAllianceProfile"],[null,"openPlayerProfile"]],function(e,n,t){var l=!0,i=e.component;"openAllianceProfile"===n&&(l=!1!==i.onOpenProfile(t,"alliance")&&l);"openPlayerProfile"===n&&(l=!1!==i.onOpenProfile(t,"player")&&l);return l},Ds,vs)),a["\u0275did"](1,114688,null,0,Jo,[O.n,Si.f],null,{openAllianceProfile:"openAllianceProfile",openPlayerProfile:"openPlayerProfile"})],function(e,n){e(n,1,0)},null)}function jp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"recruit",[],null,[[null,"upgradeBuilding"]],function(e,n,t){var l=!0,i=e.component;"upgradeBuilding"===n&&(l=!1!==i.upgradeBuilding(t)&&l);return l},Ys,Bs)),a["\u0275did"](1,573440,null,0,qs,[O.n],{town:[0,"town"],worldData:[1,"worldData"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,t.activeTown,a["\u0275unv"](n,1,1,a["\u0275nov"](n,2).transform(t.worldData$)))},null)}function Fp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"report",[],null,null,null,dc,uc)),a["\u0275did"](1,704512,null,0,oc,[],{reports:[0,"reports"],worldData:[1,"worldData"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,a["\u0275unv"](n,1,0,a["\u0275nov"](n,2).transform(t.reports$)),a["\u0275unv"](n,1,1,a["\u0275nov"](n,3).transform(t.worldData$)))},null)}function Mp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"support",[],null,null,null,Sc,_c)),a["\u0275did"](1,49152,null,0,yc,[O.n],{town:[0,"town"],worldData:[1,"worldData"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,t.activeTown,a["\u0275unv"](n,1,1,a["\u0275nov"](n,2).transform(t.worldData$)))},null)}function Np(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"rankings",[],null,null,null,Kc,Uc)),a["\u0275did"](1,4767744,null,0,Vc,[],{positionRankings:[0,"positionRankings"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,a["\u0275unv"](n,1,0,a["\u0275nov"](n,2).transform(t.positionRankings$)))},null)}function Lp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"alliance-profile",[],null,[[null,"openPlayerProfile"]],function(e,n,t){var l=!0,i=e.component;"openPlayerProfile"===n&&(l=!1!==i.onOpenProfile(t,"player")&&l);return l},hs,ns)),a["\u0275did"](1,573440,null,0,Ku,[Ju.e],{alliance:[0,"alliance"]},{openPlayerProfile:"openPlayerProfile"}),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,a["\u0275unv"](n,1,0,a["\u0275nov"](n,2).transform(t.viewedAlliance$)))},null)}function $p(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"player-profile",[],null,[[null,"openAllianceProfile"]],function(e,n,t){var l=!0,i=e.component;"openAllianceProfile"===n&&(l=!1!==i.onOpenProfile(t,"alliance")&&l);return l},vd,nd)),a["\u0275did"](1,573440,null,0,Jc,[Ju.e],{player:[0,"player"],currentPlayer:[1,"currentPlayer"]},{openAllianceProfile:"openAllianceProfile"}),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,a["\u0275unv"](n,1,0,a["\u0275nov"](n,2).transform(t.viewedPlayer$)),a["\u0275unv"](n,1,1,a["\u0275nov"](n,3).transform(t.player$)))},null)}function zp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"a",[["class","nav-link"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sidenavToggle("right","recruit")&&l);return l},null,null)),(e()(),a["\u0275eld"](1,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](2,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](3,2),(e()(),a["\u0275ted"](-1,null,[" Recruit "]))],function(e,n){e(n,2,0,e(n,3,0,"fas","users"))},function(e,n){e(n,1,0,a["\u0275nov"](n,2).renderedIconHTML)})}function Vp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[["class","nav-item mr-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,4,"a",[["class","nav-link"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.onOpenProfile(e.context.ngIf.id,"player")&&l);return l},null,null)),(e()(),a["\u0275eld"](2,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](3,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](4,2),(e()(),a["\u0275ted"](-1,null,[" Profile"]))],function(e,n){e(n,3,0,e(n,4,0,"far","user-circle"))},function(e,n){e(n,2,0,a["\u0275nov"](n,3).renderedIconHTML)})}function qp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"button",[["class","dropdown-item"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==(i.activeTown.id!==e.context.$implicit.id&&i.selectTown(e.context.$implicit.id))&&l);return l},null,null)),a["\u0275did"](1,278528,null,0,Fl.NgClass,[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a["\u0275pod"](2,{"bg-info text-white":0}),(e()(),a["\u0275ted"](3,null,[""," (",")"]))],function(e,n){e(n,1,0,"dropdown-item",e(n,2,0,n.component.activeTown.id===n.context.$implicit.id))},function(e,n){e(n,3,0,n.context.$implicit.name,n.context.$implicit.location)})}function Up(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,11,"div",[["class","nav-item mr-3"],["ngbDropdown",""],["placement","bottom-right"]],[[2,"show",null]],null,null,null,null)),a["\u0275did"](1,212992,null,2,bd.a,[a.ChangeDetectorRef,yd.a,Fl.DOCUMENT,a.NgZone],{placement:[0,"placement"]},null),a["\u0275qud"](335544320,17,{_menu:0}),a["\u0275qud"](335544320,18,{_anchor:0}),(e()(),a["\u0275eld"](4,0,null,null,3,"button",[["aria-haspopup","true"],["class","btn btn-outline-info btn-sm dropdown-toggle"],["id","active-town"],["ngbDropdownToggle",""]],[[1,"aria-expanded",0]],[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==a["\u0275nov"](e,5).toggleOpen()&&l);return l},null,null)),a["\u0275did"](5,16384,null,0,bd.d,[bd.a,a.ElementRef],null,null),a["\u0275prd"](2048,[[18,4]],bd.b,null,[bd.d]),(e()(),a["\u0275ted"](-1,null,["Active town"])),(e()(),a["\u0275eld"](8,0,null,null,3,"div",[["aria-labelledby","active-town"],["ngbDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),a["\u0275did"](9,16384,[[17,4]],0,bd.c,[bd.a,a.ElementRef,a.Renderer2],null,null),(e()(),a["\u0275and"](16777216,null,null,1,null,qp)),a["\u0275did"](11,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,1,0,"bottom-right"),e(n,11,0,t.townList)},function(e,n){e(n,0,0,a["\u0275nov"](n,1).isOpen()),e(n,4,0,a["\u0275nov"](n,5).dropdown.isOpen());e(n,8,0,!0,a["\u0275nov"](n,9).dropdown.isOpen(),a["\u0275nov"](n,9).placement)})}function Bp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,127,"mat-sidenav-container",[["class","backdrop-disabled mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,Zd,Bd)),a["\u0275did"](1,1490944,null,2,Td,[[2,Rl.b],a.ElementRef,a.NgZone,a.ChangeDetectorRef,kd,[2,ma.a]],null,null),a["\u0275qud"](603979776,3,{_drawers:1}),a["\u0275qud"](335544320,4,{_content:0}),(e()(),a["\u0275eld"](4,0,null,0,13,"mat-sidenav",[["class","col-xl-6 container-fluid mat-drawer mat-sidenav"],["mode","over"],["opened","false"],["position","start"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"]],[[null,"closedStart"],["component","@transform.start"],["component","@transform.done"]],function(e,n,t){var l=!0,i=e.component;"component:@transform.start"===n&&(l=!1!==a["\u0275nov"](e,5)._onAnimationStart(t)&&l);"component:@transform.done"===n&&(l=!1!==a["\u0275nov"](e,5)._onAnimationEnd(t)&&l);"closedStart"===n&&(l=!1!==i.sidenavToggle("left",null)&&l);return l},Ud,qd)),a["\u0275did"](5,3325952,[[3,4],[1,4],["sidenavLeft",4]],0,Pd,[a.ElementRef,kl.g,kl.f,Dl.a,a.NgZone,[2,Fl.DOCUMENT]],{position:[0,"position"],mode:[1,"mode"],opened:[2,"opened"]},{closedStart:"closedStart"}),a["\u0275did"](6,16384,null,0,Fl.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),a["\u0275eld"](7,0,null,0,4,"button",[["mat-mini-fab",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sidenavToggle("left",null)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](8,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],null,null),(e()(),a["\u0275eld"](9,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,Ka,Qa)),a["\u0275did"](10,638976,null,0,Ga,[a.ElementRef,Ha,[8,null]],null,null),(e()(),a["\u0275ted"](-1,0,["\xd7"])),(e()(),a["\u0275and"](16777216,null,0,1,null,Dp)),a["\u0275did"](13,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,0,1,null,Ap)),a["\u0275did"](15,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,0,1,null,Ep)),a["\u0275did"](17,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275eld"](18,0,null,0,19,"mat-sidenav",[["class","col-xl-6 mat-drawer mat-sidenav"],["mode","over"],["opened","false"],["position","end"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"]],[[null,"closedStart"],["component","@transform.start"],["component","@transform.done"]],function(e,n,t){var l=!0,i=e.component;"component:@transform.start"===n&&(l=!1!==a["\u0275nov"](e,19)._onAnimationStart(t)&&l);"component:@transform.done"===n&&(l=!1!==a["\u0275nov"](e,19)._onAnimationEnd(t)&&l);"closedStart"===n&&(l=!1!==i.sidenavToggle("right",null)&&l);return l},Ud,qd)),a["\u0275did"](19,3325952,[[3,4],[2,4],["sidenavRight",4]],0,Pd,[a.ElementRef,kl.g,kl.f,Dl.a,a.NgZone,[2,Fl.DOCUMENT]],{position:[0,"position"],mode:[1,"mode"],opened:[2,"opened"]},{closedStart:"closedStart"}),a["\u0275did"](20,16384,null,0,Fl.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),a["\u0275eld"](21,0,null,0,4,"button",[["mat-mini-fab",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sidenavToggle("right",null)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](22,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],null,null),(e()(),a["\u0275eld"](23,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,Ka,Qa)),a["\u0275did"](24,638976,null,0,Ga,[a.ElementRef,Ha,[8,null]],null,null),(e()(),a["\u0275ted"](-1,0,["\xd7"])),(e()(),a["\u0275and"](16777216,null,0,1,null,jp)),a["\u0275did"](27,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,0,1,null,Fp)),a["\u0275did"](29,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,0,1,null,Mp)),a["\u0275did"](31,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,0,1,null,Np)),a["\u0275did"](33,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,0,1,null,Lp)),a["\u0275did"](35,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275and"](16777216,null,0,1,null,$p)),a["\u0275did"](37,278528,null,0,Fl.NgSwitchCase,[a.ViewContainerRef,a.TemplateRef,Fl.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),a["\u0275eld"](38,0,null,1,89,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,Vd,zd)),a["\u0275did"](39,1097728,[[4,4]],0,Od,[a.ChangeDetectorRef,Td],null,null),(e()(),a["\u0275eld"](40,0,null,0,84,"header",[],null,null,null,null,null)),(e()(),a["\u0275eld"](41,0,null,null,83,"nav",[["class","navbar navbar-expand-md navbar-light bg-faded"]],null,null,null,null,null)),(e()(),a["\u0275eld"](42,0,null,null,1,"button",[["class","navbar-toggler"],["type","button"]],[[1,"aria-expanded",0]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=(i.isVisible=!i.isVisible)&&l);return l},null,null)),(e()(),a["\u0275eld"](43,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(e()(),a["\u0275eld"](44,0,null,null,80,"div",[["class","collapse navbar-collapse justify-content-between"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),a["\u0275did"](45,16384,null,0,As.a,[],{collapsed:[0,"collapsed"]},null),(e()(),a["\u0275eld"](46,0,null,null,67,"ul",[["class","nav navbar-nav align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](47,0,null,null,10,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275eld"](48,0,null,null,9,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==a["\u0275nov"](e,49).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l);return l},null,null)),a["\u0275did"](49,671744,[[6,4]],0,Xd.o,[Xd.l,Xd.a,Fl.LocationStrategy],{routerLink:[0,"routerLink"]},null),a["\u0275pad"](50,1),a["\u0275did"](51,1720320,null,2,Xd.n,[Xd.l,a.ElementRef,a.Renderer2,a.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),a["\u0275qud"](603979776,5,{links:1}),a["\u0275qud"](603979776,6,{linksWithHrefs:1}),(e()(),a["\u0275eld"](54,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](55,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](56,2),(e()(),a["\u0275ted"](-1,null,[" Town "])),(e()(),a["\u0275eld"](58,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275eld"](59,0,null,null,4,"a",[["class","nav-link"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sidenavToggle("left","alliance")&&l);return l},null,null)),(e()(),a["\u0275eld"](60,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](61,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](62,2),(e()(),a["\u0275ted"](-1,null,[" Alliance "])),(e()(),a["\u0275eld"](64,0,null,null,10,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275eld"](65,0,null,null,9,"a",[["class","nav-link"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==a["\u0275nov"](e,66).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l);return l},null,null)),a["\u0275did"](66,671744,[[8,4]],0,Xd.o,[Xd.l,Xd.a,Fl.LocationStrategy],{routerLink:[0,"routerLink"]},null),a["\u0275pad"](67,1),a["\u0275did"](68,1720320,null,2,Xd.n,[Xd.l,a.ElementRef,a.Renderer2,a.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),a["\u0275qud"](603979776,7,{links:1}),a["\u0275qud"](603979776,8,{linksWithHrefs:1}),(e()(),a["\u0275eld"](71,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](72,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](73,2),(e()(),a["\u0275ted"](-1,null,[" Map "])),(e()(),a["\u0275eld"](75,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,zp)),a["\u0275did"](77,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](78,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275eld"](79,0,null,null,7,"a",[["class","nav-link"],["routerLinkActive","active"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sidenavToggle("left","movement")&&l);return l},null,null)),a["\u0275did"](80,1720320,null,2,Xd.n,[Xd.l,a.ElementRef,a.Renderer2,a.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),a["\u0275qud"](603979776,9,{links:1}),a["\u0275qud"](603979776,10,{linksWithHrefs:1}),(e()(),a["\u0275eld"](83,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](84,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](85,2),(e()(),a["\u0275ted"](-1,null,[" Movements "])),(e()(),a["\u0275eld"](87,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275eld"](88,0,null,null,7,"a",[["class","nav-link"],["routerLinkActive","active"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sidenavToggle("right","support")&&l);return l},null,null)),a["\u0275did"](89,1720320,null,2,Xd.n,[Xd.l,a.ElementRef,a.Renderer2,a.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),a["\u0275qud"](603979776,11,{links:1}),a["\u0275qud"](603979776,12,{linksWithHrefs:1}),(e()(),a["\u0275eld"](92,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](93,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](94,2),(e()(),a["\u0275ted"](-1,null,[" Support "])),(e()(),a["\u0275eld"](96,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275eld"](97,0,null,null,7,"a",[["class","nav-link"],["routerLinkActive","active"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sidenavToggle("right","report")&&l);return l},null,null)),a["\u0275did"](98,1720320,null,2,Xd.n,[Xd.l,a.ElementRef,a.Renderer2,a.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),a["\u0275qud"](603979776,13,{links:1}),a["\u0275qud"](603979776,14,{linksWithHrefs:1}),(e()(),a["\u0275eld"](101,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](102,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](103,2),(e()(),a["\u0275ted"](-1,null,[" Reports "])),(e()(),a["\u0275eld"](105,0,null,null,8,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275eld"](106,0,null,null,7,"a",[["class","nav-link"],["routerLinkActive","active"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.sidenavToggle("right","rankings")&&l);return l},null,null)),a["\u0275did"](107,1720320,null,2,Xd.n,[Xd.l,a.ElementRef,a.Renderer2,a.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),a["\u0275qud"](603979776,15,{links:1}),a["\u0275qud"](603979776,16,{linksWithHrefs:1}),(e()(),a["\u0275eld"](110,0,null,null,2,"fa-icon",[["aria-hidden","true"],["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](111,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](112,2),(e()(),a["\u0275ted"](-1,null,[" Rankings "])),(e()(),a["\u0275eld"](114,0,null,null,10,"div",[["class","d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,2,null,Vp)),a["\u0275did"](116,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),(e()(),a["\u0275and"](16777216,null,null,1,null,Up)),a["\u0275did"](119,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](120,0,null,null,4,"div",[["class","nav-item"]],null,null,null,null,null)),(e()(),a["\u0275eld"](121,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==a["\u0275nov"](e,122).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l);"click"===n&&(l=!1!==i.logout()&&l);return l},null,null)),a["\u0275did"](122,671744,null,0,Xd.o,[Xd.l,Xd.a,Fl.LocationStrategy],{routerLink:[0,"routerLink"]},null),a["\u0275pad"](123,1),(e()(),a["\u0275ted"](-1,null,["Logout"])),(e()(),a["\u0275eld"](125,0,null,0,2,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),a["\u0275eld"](126,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),a["\u0275did"](127,212992,null,0,Xd.q,[Xd.b,a.ViewContainerRef,a.ComponentFactoryResolver,[8,null],a.ChangeDetectorRef],null,null)],function(e,n){var t=n.component;e(n,1,0);e(n,5,0,"start","over","false"),e(n,6,0,a["\u0275nov"](n,5).comp),e(n,10,0);e(n,13,0,"movement");e(n,15,0,"command");e(n,17,0,"alliance");e(n,19,0,"end","over","false"),e(n,20,0,a["\u0275nov"](n,19).comp),e(n,24,0);e(n,27,0,"recruit");e(n,29,0,"report");e(n,31,0,"support");e(n,33,0,"rankings");e(n,35,0,"allianceProfile");e(n,37,0,"playerProfile"),e(n,45,0,!t.isVisible),e(n,49,0,e(n,50,0,"./town"));e(n,51,0,"active"),e(n,55,0,e(n,56,0,"fas","home")),e(n,61,0,e(n,62,0,"fas","hands-helping")),e(n,66,0,e(n,67,0,"./map"));e(n,68,0,"active"),e(n,72,0,e(n,73,0,"fas","globe")),e(n,77,0,t.canRecruit);e(n,80,0,"active"),e(n,84,0,e(n,85,0,"fas","arrows-alt"));e(n,89,0,"active"),e(n,93,0,e(n,94,0,"fas","shield-alt"));e(n,98,0,"active"),e(n,102,0,e(n,103,0,"fas","flag"));e(n,107,0,"active"),e(n,111,0,e(n,112,0,"fas","sort-amount-up")),e(n,116,0,a["\u0275unv"](n,116,0,a["\u0275nov"](n,117).transform(t.player$))),e(n,119,0,t.townList.length>1),e(n,122,0,e(n,123,0,"/")),e(n,127,0)},function(e,n){var t=n.component;e(n,0,0,a["\u0275nov"](n,1)._backdropOverride);e(n,4,0,a["\u0275nov"](n,5)._animationState,null,"end"===a["\u0275nov"](n,5).position,"over"===a["\u0275nov"](n,5).mode,"push"===a["\u0275nov"](n,5).mode,"side"===a["\u0275nov"](n,5).mode,a["\u0275nov"](n,5).fixedInViewport,a["\u0275nov"](n,5).fixedInViewport?a["\u0275nov"](n,5).fixedTopGap:null,a["\u0275nov"](n,5).fixedInViewport?a["\u0275nov"](n,5).fixedBottomGap:null),e(n,7,0,a["\u0275nov"](n,8).disabled||null,"NoopAnimations"===a["\u0275nov"](n,8)._animationMode),e(n,9,0,a["\u0275nov"](n,10).inline);e(n,18,0,a["\u0275nov"](n,19)._animationState,null,"end"===a["\u0275nov"](n,19).position,"over"===a["\u0275nov"](n,19).mode,"push"===a["\u0275nov"](n,19).mode,"side"===a["\u0275nov"](n,19).mode,a["\u0275nov"](n,19).fixedInViewport,a["\u0275nov"](n,19).fixedInViewport?a["\u0275nov"](n,19).fixedTopGap:null,a["\u0275nov"](n,19).fixedInViewport?a["\u0275nov"](n,19).fixedBottomGap:null),e(n,21,0,a["\u0275nov"](n,22).disabled||null,"NoopAnimations"===a["\u0275nov"](n,22)._animationMode),e(n,23,0,a["\u0275nov"](n,24).inline),e(n,38,0,a["\u0275nov"](n,39)._container._contentMargins.left,a["\u0275nov"](n,39)._container._contentMargins.right),e(n,42,0,t.isVisible);e(n,44,0,!0,!a["\u0275nov"](n,45).collapsed),e(n,48,0,a["\u0275nov"](n,49).target,a["\u0275nov"](n,49).href),e(n,54,0,a["\u0275nov"](n,55).renderedIconHTML),e(n,60,0,a["\u0275nov"](n,61).renderedIconHTML),e(n,65,0,a["\u0275nov"](n,66).target,a["\u0275nov"](n,66).href),e(n,71,0,a["\u0275nov"](n,72).renderedIconHTML),e(n,83,0,a["\u0275nov"](n,84).renderedIconHTML),e(n,92,0,a["\u0275nov"](n,93).renderedIconHTML),e(n,101,0,a["\u0275nov"](n,102).renderedIconHTML),e(n,110,0,a["\u0275nov"](n,111).renderedIconHTML),e(n,121,0,a["\u0275nov"](n,122).target,a["\u0275nov"](n,122).href)})}function Hp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,9,"div",[["class","pt-5 d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,8,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,[" All your towns have been conquered."])),(e()(),a["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,[" You are no more."])),(e()(),a["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),a["\u0275eld"](6,0,null,null,1,"strong",[["class","d-flex my-2"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Care to try again?"])),(e()(),a["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-primary btn-lg"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.restart()&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Restart"]))],null,null)}function Wp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"div",[["class","game-chat"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,2,"alliance-chat",[],null,null,null,vp,fp)),a["\u0275did"](2,114688,null,0,dp,[O.n,r.a],{player:[0,"player"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,2,0,a["\u0275unv"](n,2,0,a["\u0275nov"](n,3).transform(t.player$)))},null)}function Zp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"tutorial",[],null,[[null,"progressTutorial"]],function(e,n,t){var l=!0,i=e.component;"progressTutorial"===n&&(l=!1!==i.progressTutorial()&&l);return l},xp,_p)),a["\u0275did"](1,114688,null,0,yp,[Ju.e],{stage:[0,"stage"]},{progressTutorial:"progressTutorial"})],function(e,n){e(n,1,0,n.context.ngIf.tutorialStage)},null)}function Xp(e){return a["\u0275vid"](0,[a["\u0275qud"](671088640,1,{sidenavLeft:0}),a["\u0275qud"](671088640,2,{sidenavRight:0}),(e()(),a["\u0275and"](16777216,null,null,1,null,Bp)),a["\u0275did"](3,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,2,null,Hp)),a["\u0275did"](5,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),(e()(),a["\u0275and"](16777216,null,null,2,null,Wp)),a["\u0275did"](8,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),(e()(),a["\u0275and"](16777216,null,null,2,null,Zp)),a["\u0275did"](11,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,3,0,t.activeTown),e(n,5,0,a["\u0275unv"](n,5,0,a["\u0275nov"](n,6).transform(t.noTowns$))),e(n,8,0,a["\u0275unv"](n,8,0,a["\u0275nov"](n,9).transform(t.alliance$))),e(n,11,0,a["\u0275unv"](n,11,0,a["\u0275nov"](n,12).transform(t.player$)))},null)}var Gp=a["\u0275ccf"]("game-container",Ip,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"game-container",[],null,null,null,Xp,Tp)),a["\u0275did"](1,245760,null,0,Ip,[O.n,Op.b,r.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[]),Yp=function(){function e(){}return e.prototype.ngOnChanges=function(){this.updateLoyalty()},e.prototype.updateLoyalty=function(){var e=Date.now(),n=this.calculateLoyaltyGrowth(+this.town.updatedAt,e),t=this.town.loyalty+n;this.loyalty=Math.floor(Math.min(100,t)),this.loyalty<100&&this.queueNextUpdate(t)},e.prototype.calculateLoyaltyGrowth=function(e,n){var t=(n-e)/36e5;return this.loyaltyRegeneration*t},e.prototype.queueNextUpdate=function(e){var n=this,t=(1-e%1)*(36e5/this.loyaltyRegeneration);setTimeout(function(){return n.updateLoyalty()},t)},e}(),Qp=[[""]],Kp=a["\u0275crt"]({encapsulation:0,styles:Qp,data:{}});function Jp(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"strong",[["class","ml-4 text-danger"]],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,["Loyalty: ",""]))],null,function(e,n){e(n,1,0,n.component.loyalty)})}function ef(e){return a["\u0275vid"](0,[(e()(),a["\u0275and"](16777216,null,null,1,null,Jp)),a["\u0275did"](1,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,1,0,n.component.loyalty<100)},null)}a["\u0275ccf"]("town-loyalty",Yp,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"town-loyalty",[],null,null,null,ef,Kp)),a["\u0275did"](1,573440,null,0,Yp,[],null,null)],null,null)},{town:"town",loyaltyRegeneration:"loyaltyRegeneration"},{},[]);var nf=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},tf=function(){function e(){this.build=new a.EventEmitter,this.buildings=[],this.buildingDetails=Oi,mi.d.add(hi.f)}return e.prototype.ngOnChanges=function(e){var n=this;Vs(this.town).pipe(Object(Mt.a)(1)).subscribe(function(e){n.buildings=Object.entries(n.town.buildings).map(function(t){var l,i,a,o=t[0],r=t[1],u=r.queued||r.level,s=n.worldData.buildingMap[o],c=s.requirements,d=s.data[u],p=(l=e,i=d.costs,a=n.town.production,!function(e,n){return e.wood>=n.wood&&e.clay>=n.clay&&e.iron>=n.iron}(l,i)&&36e5*Math.max.apply(Math,Object.entries(l).map(function(e){var n=e[0],t=e[1];return(i[n]-t)/a[n]}))),f=!0;return!u&&c&&(f=c.every(function(e){return e.level<=n.town.buildings[e.item].level})),nf({},r,d,{name:o,next:u,requirements:c,available:f,availableIn:p})});var t=n.buildings.reduce(function(e,n){var t=n.available,l=n.availableIn;n.name;return t&&l>0?Math.min(e,l):e},1/0);t!==1/0&&(n.updateAvailability$&&n.updateAvailability$.unsubscribe(),n.updateAvailability$=Object(ci.a)(t).subscribe(function(){return n.ngOnChanges()}))})},e.prototype.upgrade=function(e){this.build.emit({building:e.name,level:e.level})},e}(),lf=[[""]],af=a["\u0275crt"]({encapsulation:0,styles:lf,data:{}});function of(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,["(building ",")"]))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.queued)})}function rf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,15,"div",[["class","col-sm-5 d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,0,"div",[["class","resource-icon wood"]],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,["",""])),a["\u0275ppd"](4,2),(e()(),a["\u0275eld"](5,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](6,0,null,null,0,"div",[["class","resource-icon clay"]],null,null,null,null,null)),(e()(),a["\u0275ted"](7,null,["",""])),a["\u0275ppd"](8,2),(e()(),a["\u0275eld"](9,0,null,null,3,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](10,0,null,null,0,"div",[["class","resource-icon iron"]],null,null,null,null,null)),(e()(),a["\u0275ted"](11,null,["",""])),a["\u0275ppd"](12,2),(e()(),a["\u0275eld"](13,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](14,null,["time ",""])),a["\u0275ppd"](15,2)],null,function(e,n){e(n,3,0,a["\u0275unv"](n,3,0,e(n,4,0,a["\u0275nov"](n.parent.parent,0),n.parent.context.$implicit.costs.wood,"1.0-0"))),e(n,7,0,a["\u0275unv"](n,7,0,e(n,8,0,a["\u0275nov"](n.parent.parent,0),n.parent.context.$implicit.costs.clay,"1.0-0"))),e(n,11,0,a["\u0275unv"](n,11,0,e(n,12,0,a["\u0275nov"](n.parent.parent,0),n.parent.context.$implicit.costs.iron,"1.0-0"))),e(n,14,0,a["\u0275unv"](n,14,0,e(n,15,0,a["\u0275nov"](n.parent.parent,1),n.parent.context.$implicit.buildTime,"HH:mm:ss")))})}function uf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"div",[["class","col-sm-5 d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"strong",[["class","text-warning"]],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["Requires: "," - ",""]))],null,function(e,n){e(n,2,0,n.parent.context.$implicit.requirements[0].item,n.parent.context.$implicit.requirements[0].level)})}function sf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"button",[["class","btn btn-success"],["style","cursor: pointer;"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.upgrade(e.parent.parent.context.$implicit)&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Upgrade"]))],null,null)}function cf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"strong",[["class","text-warning"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Missing resources."]))],null,null)}function df(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[["class","col-sm-3"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,sf)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,cf)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,2,0,!n.parent.context.$implicit.availableIn),e(n,4,0,n.parent.context.$implicit.availableIn)},null)}function pf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[["class","row pt-2"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["Current level ",": ",""])),(e()(),a["\u0275eld"](3,0,null,null,1,"div",[["class","col-md-6"]],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,["Next level ",": ",""]))],null,function(e,n){var t=n.component;e(n,2,0,n.parent.context.$implicit.detailText,t.worldData.buildingMap[n.parent.parent.context.$implicit.name].data[n.parent.parent.context.$implicit.level][n.parent.context.$implicit.details]),e(n,4,0,n.parent.context.$implicit.detailText,t.worldData.buildingMap[n.parent.parent.context.$implicit.name].data[n.parent.parent.context.$implicit.level+1][n.parent.context.$implicit.details])})}function ff(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[["class","card p-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,pf)),a["\u0275did"](4,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,4,0,n.context.$implicit.details)},function(e,n){e(n,2,0,n.context.$implicit.description)})}function mf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,20,"div",[["class","py-1"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,14,"div",[["class","row align-items-center"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,7,"div",[["class","col-sm-4"],["style","cursor: pointer;"]],null,[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!=(e.context.$implicit.visible=!e.context.$implicit.visible)&&l);return l},null,null)),(e()(),a["\u0275eld"](3,0,null,null,2,"fa-icon",[["class","pr-1 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](4,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"],rotate:[1,"rotate"]},null),a["\u0275pad"](5,2),(e()(),a["\u0275eld"](6,0,null,null,1,"span",[["class","pr-2"]],null,null,null,null,null)),(e()(),a["\u0275ted"](7,null,[""," - ",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,of)),a["\u0275did"](9,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,rf)),a["\u0275did"](11,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,uf)),a["\u0275did"](13,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,df)),a["\u0275did"](15,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](16,0,null,null,4,"div",[["class","row my-1"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),a["\u0275did"](17,16384,null,0,As.a,[],{collapsed:[0,"collapsed"]},null),(e()(),a["\u0275eld"](18,0,null,null,2,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,ff)),a["\u0275did"](20,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,4,0,e(n,5,0,"fas","chevron-right"),n.context.$implicit.visible?90:0),e(n,9,0,n.context.$implicit.queued),e(n,11,0,n.context.$implicit.costs),e(n,13,0,!n.context.$implicit.available),e(n,15,0,n.context.$implicit.available),e(n,17,0,!n.context.$implicit.visible),e(n,20,0,t.buildingDetails[n.context.$implicit.name])},function(e,n){var t=n.component;e(n,3,0,a["\u0275nov"](n,4).renderedIconHTML),e(n,7,0,t.buildingDetails[n.context.$implicit.name].name,n.context.$implicit.level);e(n,16,0,!0,!a["\u0275nov"](n,17).collapsed)})}function hf(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DecimalPipe,[a.LOCALE_ID]),a["\u0275pid"](0,si,[]),(e()(),a["\u0275eld"](2,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Buildings"])),(e()(),a["\u0275and"](16777216,null,null,1,null,mf)),a["\u0275did"](6,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){e(n,6,0,n.component.buildings)},null)}a["\u0275ccf"]("buildings",tf,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"buildings",[],null,null,null,hf,af)),a["\u0275did"](1,573440,null,0,tf,[],null,null)],null,null)},{town:"town",worldData:"worldData"},{build:"build"},[]);var gf=function(){function e(){}return e.prototype.ngOnChanges=function(){this.availableResources$=Vs(this.town)},e}(),vf=[[""]],bf=a["\u0275crt"]({encapsulation:0,styles:vf,data:{}});function yf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,4,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,0,"div",[["class","resource-icon wood"]],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,["","/"," (+",")"])),a["\u0275ppd"](4,2),a["\u0275ppd"](5,2),(e()(),a["\u0275eld"](6,0,null,null,4,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](7,0,null,null,0,"div",[["class","resource-icon clay"]],null,null,null,null,null)),(e()(),a["\u0275ted"](8,null,["","/"," (+",")"])),a["\u0275ppd"](9,2),a["\u0275ppd"](10,2),(e()(),a["\u0275eld"](11,0,null,null,4,"div",[["class","resource"]],null,null,null,null,null)),(e()(),a["\u0275eld"](12,0,null,null,0,"div",[["class","resource-icon iron"]],null,null,null,null,null)),(e()(),a["\u0275ted"](13,null,["","/"," (+",")"])),a["\u0275ppd"](14,2),a["\u0275ppd"](15,2)],null,function(e,n){var t=n.component;e(n,3,0,a["\u0275unv"](n,3,0,e(n,4,0,a["\u0275nov"](n.parent,0),n.context.$implicit.wood,"1.0-0")),t.town.storage,a["\u0275unv"](n,3,2,e(n,5,0,a["\u0275nov"](n.parent,0),t.town.production.wood,"1.0-0"))),e(n,8,0,a["\u0275unv"](n,8,0,e(n,9,0,a["\u0275nov"](n.parent,0),n.context.$implicit.clay,"1.0-0")),t.town.storage,a["\u0275unv"](n,8,2,e(n,10,0,a["\u0275nov"](n.parent,0),t.town.production.clay,"1.0-0"))),e(n,13,0,a["\u0275unv"](n,13,0,e(n,14,0,a["\u0275nov"](n.parent,0),n.context.$implicit.iron,"1.0-0")),t.town.storage,a["\u0275unv"](n,13,2,e(n,15,0,a["\u0275nov"](n.parent,0),t.town.production.iron,"1.0-0")))})}function wf(e){return a["\u0275vid"](0,[a["\u0275pid"](0,Fl.DecimalPipe,[a.LOCALE_ID]),(e()(),a["\u0275and"](16777216,null,null,2,null,yf)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,2,0,a["\u0275unv"](n,2,0,a["\u0275nov"](n,3).transform(t.availableResources$)))},null)}a["\u0275ccf"]("resources",gf,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"resources",[],null,null,null,wf,bf)),a["\u0275did"](1,573440,null,0,gf,[],null,null)],null,null)},{town:"town"},{},[]);var _f=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},xf=function(){function e(){this.unitDetails=Pi,this.townUnits=[],this.townSupport=[]}return e.prototype.ngOnChanges=function(e){var n=this.originSupport.reduce(function(e,n){var t=n.units;return Object.entries(t).reduce(function(e,n){var t=n[0],l=n[1];return e[t]=l+(e[t]||0),e},e)},{}),t=this.originMovements.reduce(function(e,n){var t=n.units;return Object.entries(t).reduce(function(e,n){var t=n[0],l=n[1];return e[t]=l+(e[t]||0),e},e)},{}),l=this.targetMovements.reduce(function(e,n){var t=n.units;return n.type!==z.MovementType.return?e:Object.entries(t).reduce(function(e,n){var t=n[0],l=n[1];return e[t]=l+(e[t]||0),e},e)},{});this.townUnits=Object.entries(this.units).reduce(function(e,i){var a=i[0],o=i[1];return(o.inside||o.queued||t[a]||l[a]||n[a])&&e.push(_f({name:a},o,{amount:o.inside+(t[a]||0)+(l[a]||0)+(n[a]||0)})),e},[]);var i=this.targetSupport.reduce(function(e,n){var t=n.units;return Object.entries(t).reduce(function(e,n){var t=n[0],l=n[1];return e[t]=l+(e[t]||0),e},e)},{});this.townSupport=Object.entries(i).reduce(function(e,n){var t=n[0],l=n[1];return e.push({name:t,amount:l}),e},[])},e}(),Cf=[[""]],kf=a["\u0275crt"]({encapsulation:0,styles:Cf,data:{}});function Rf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,["\xa0(+",")"]))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.queued)})}function Sf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"div",[["class","unit d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,0,"i",[["class","unit-icon mr-1"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,[""," - ","/",""])),(e()(),a["\u0275and"](16777216,null,null,1,null,Rf)),a["\u0275did"](5,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,5,0,n.context.$implicit.queued)},function(e,n){var t=n.component;e(n,1,0,n.context.$implicit.name),e(n,3,0,t.unitDetails[n.context.$implicit.name].name,n.context.$implicit.inside,n.context.$implicit.amount)})}function If(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Units"])),(e()(),a["\u0275and"](16777216,null,null,1,null,Sf)),a["\u0275did"](4,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){e(n,4,0,n.component.townUnits)},null)}function Of(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"div",[["class","unit d-flex"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,0,"i",[["class","unit-icon mr-1"]],[[1,"data-unit",0]],null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](3,null,[""," - ",""]))],null,function(e,n){var t=n.component;e(n,1,0,n.context.$implicit.name),e(n,3,0,t.unitDetails[n.context.$implicit.name].name,n.context.$implicit.amount)})}function Pf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Support"])),(e()(),a["\u0275and"](16777216,null,null,1,null,Of)),a["\u0275did"](4,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){e(n,4,0,n.component.townSupport)},null)}function Tf(e){return a["\u0275vid"](0,[(e()(),a["\u0275and"](16777216,null,null,1,null,If)),a["\u0275did"](1,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Pf)),a["\u0275did"](3,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,1,0,t.townUnits.length),e(n,3,0,t.townSupport.length)},null)}a["\u0275ccf"]("units",xf,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"units",[],null,null,null,Tf,kf)),a["\u0275did"](1,573440,null,0,xf,[],null,null)],null,null)},{units:"units",originMovements:"originMovements",targetMovements:"targetMovements",originSupport:"originSupport",targetSupport:"targetSupport"},{},[]);var Df=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},Af=function(){function e(){this.buildingQueue=[],this.buildingDetails=Oi}return e.prototype.ngOnInit=function(){var e=this;this.queue$=Object(ci.a)(0,1e3).pipe(pi(),Object(s.a)(function(n){return e.buildingQueue.map(function(e){return Df({},e,{timeLeft:+e.endsAt-n.timestamp})})}))},e.prototype.ngOnChanges=function(e){},e}(),Ef=[[""]],jf=a["\u0275crt"]({encapsulation:0,styles:Ef,data:{}});function Ff(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](1,null,[" "," "," - "," - "," "])),a["\u0275ppd"](2,2),a["\u0275ppd"](3,2)],null,function(e,n){e(n,1,0,n.component.buildingDetails[n.context.$implicit.name].name,n.context.$implicit.level+1,a["\u0275unv"](n,1,2,e(n,2,0,a["\u0275nov"](n.parent.parent,0),n.context.$implicit.timeLeft,"HH:mm:ss")),a["\u0275unv"](n,1,3,e(n,3,0,a["\u0275nov"](n.parent.parent,1),n.context.$implicit.endsAt,"HH:mm:ss")))})}function Mf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Building Queue"])),(e()(),a["\u0275and"](16777216,null,null,1,null,Ff)),a["\u0275did"](4,802816,null,0,Fl.NgForOf,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){e(n,4,0,n.context.$implicit)},null)}function Nf(e){return a["\u0275vid"](0,[a["\u0275pid"](0,si,[]),a["\u0275pid"](0,Fl.DatePipe,[a.LOCALE_ID]),(e()(),a["\u0275and"](16777216,null,null,2,null,Mf)),a["\u0275did"](3,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,3,0,a["\u0275unv"](n,3,0,a["\u0275nov"](n,4).transform(t.queue$)))},null)}a["\u0275ccf"]("building-queue",Af,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"building-queue",[],null,null,null,Nf,jf)),a["\u0275did"](1,638976,null,0,Af,[],null,null)],function(e,n){e(n,1,0)},null)},{buildingQueue:"buildingQueue"},{},[]);var Lf=function(){function e(e,n,t){this.socket=e,this.gameDataService=n,this.store=t,this.nameChange="",this.town$=this.store.select(lt),this.worldData$=this.store.select(sl.a)}return e.prototype.ngOnInit=function(){},e.prototype.rename=function(e,n){e.length>3&&e!==n&&this.store.dispatch(new zt(e))},e.prototype.build=function(e){this.store.dispatch(new Ut(e))},e.prototype.ngOnDestroy=function(){},e}(),$f=[[""]],zf=a["\u0275crt"]({encapsulation:0,styles:$f,data:{}});function Vf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"town-loyalty",[],null,null,null,ef,Kp)),a["\u0275did"](1,573440,null,0,Yp,[],{town:[0,"town"],loyaltyRegeneration:[1,"loyaltyRegeneration"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t,l=n.component;e(n,1,0,n.parent.context.$implicit,null==(t=a["\u0275unv"](n,1,1,a["\u0275nov"](n,2).transform(l.worldData$)))?null:t.world.loyaltyRegeneration)},null)}function qf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,29,"div",[["class","px-2 py-2 mb-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,13,"div",[["class","row my-2"]],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,12,"div",[["class","col"]],null,null,null,null,null)),(e()(),a["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),a["\u0275ted"](4,null,["",""])),(e()(),a["\u0275eld"](5,0,null,null,5,"input",[["name","town-name"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,6)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,6).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,6)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,6)._compositionEnd(t.target.value)&&l);"ngModelChange"===n&&(l=!1!==(i.nameChange=t)&&l);return l},null,null)),a["\u0275did"](6,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](8,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](10,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](11,0,null,null,1,"button",[["class","btn btn-info"]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.rename(i.nameChange,e.context.$implicit.name)&&l);return l},null,null)),(e()(),a["\u0275ted"](-1,null,["Save"])),(e()(),a["\u0275and"](16777216,null,null,1,null,Vf)),a["\u0275did"](14,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](15,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(e()(),a["\u0275eld"](16,0,null,null,2,"buildings",[["class","col-md-9"]],null,[[null,"build"]],function(e,n,t){var l=!0,i=e.component;"build"===n&&(l=!1!==i.build(t)&&l);return l},hf,af)),a["\u0275did"](17,573440,null,0,tf,[],{town:[0,"town"],worldData:[1,"worldData"]},{build:"build"}),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),(e()(),a["\u0275eld"](19,0,null,null,10,"div",[["class","col-md-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](20,0,null,null,3,"div",[["class","py-1"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Population: "])),(e()(),a["\u0275eld"](22,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),a["\u0275ted"](23,null,["","/",""])),(e()(),a["\u0275eld"](24,0,null,null,1,"resources",[],null,null,null,wf,bf)),a["\u0275did"](25,573440,null,0,gf,[],{town:[0,"town"]},null),(e()(),a["\u0275eld"](26,0,null,null,1,"units",[],null,null,null,Tf,kf)),a["\u0275did"](27,573440,null,0,xf,[],{units:[0,"units"],originMovements:[1,"originMovements"],targetMovements:[2,"targetMovements"],originSupport:[3,"originSupport"],targetSupport:[4,"targetSupport"]},null),(e()(),a["\u0275eld"](28,0,null,null,1,"building-queue",[],null,null,null,Nf,jf)),a["\u0275did"](29,638976,null,0,Af,[],{buildingQueue:[0,"buildingQueue"]},null)],function(e,n){var t=n.component;e(n,8,0,"town-name",t.nameChange),e(n,14,0,100!==n.context.$implicit.loyalty),e(n,17,0,n.context.$implicit,a["\u0275unv"](n,17,1,a["\u0275nov"](n,18).transform(t.worldData$))),e(n,25,0,n.context.$implicit),e(n,27,0,n.context.$implicit.units,n.context.$implicit.originMovements,n.context.$implicit.targetMovements,n.context.$implicit.originSupport,n.context.$implicit.targetSupport),e(n,29,0,n.context.$implicit.buildingQueues)},function(e,n){e(n,4,0,n.context.$implicit.name),e(n,5,0,a["\u0275inlineInterpolate"](1,"",n.context.$implicit.name,""),a["\u0275nov"](n,10).ngClassUntouched,a["\u0275nov"](n,10).ngClassTouched,a["\u0275nov"](n,10).ngClassPristine,a["\u0275nov"](n,10).ngClassDirty,a["\u0275nov"](n,10).ngClassValid,a["\u0275nov"](n,10).ngClassInvalid,a["\u0275nov"](n,10).ngClassPending),e(n,23,0,n.context.$implicit.population.used,n.context.$implicit.population.total)})}function Uf(e){return a["\u0275vid"](0,[(e()(),a["\u0275and"](16777216,null,null,2,null,qf)),a["\u0275did"](1,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,a["\u0275unv"](n,1,0,a["\u0275nov"](n,2).transform(t.town$)))},null)}var Bf=a["\u0275ccf"]("town",Lf,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"town",[],null,null,null,Uf,zf)),a["\u0275did"](1,245760,null,0,Lf,[I.a,Ii.a,O.n],null,null)],function(e,n){e(n,1,0)},null)},{},{},[]),Hf=function(){return function(){this.openAllianceProfile=new a.EventEmitter,this.openPlayerProfile=new a.EventEmitter}}(),Wf=[[""]],Zf=a["\u0275crt"]({encapsulation:0,styles:Wf,data:{}});function Xf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openPlayerProfile.emit(i.data.owner.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.data.owner.name)})}function Gf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["-"]))],null,null)}function Yf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"a",[["href",""]],null,[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!=!!i.openAllianceProfile.emit(i.data.alliance.id)&&l);return l},null,null)),(e()(),a["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.data.alliance.name)})}function Qf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["-"]))],null,null)}function Kf(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,34,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](1,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](2,0,null,null,2,"fa-icon",[["class","pr-2 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](3,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"],fixedWidth:[1,"fixedWidth"]},null),a["\u0275pad"](4,2),(e()(),a["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](6,null,["",""])),(e()(),a["\u0275eld"](7,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](8,0,null,null,2,"fa-icon",[["class","pr-2 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](9,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"],fixedWidth:[1,"fixedWidth"]},null),a["\u0275pad"](10,2),(e()(),a["\u0275and"](16777216,null,null,1,null,Xf)),a["\u0275did"](12,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Gf)),a["\u0275did"](14,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](15,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](16,0,null,null,2,"fa-icon",[["class","pr-2 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](17,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"],fixedWidth:[1,"fixedWidth"]},null),a["\u0275pad"](18,2),(e()(),a["\u0275and"](16777216,null,null,1,null,Yf)),a["\u0275did"](20,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Qf)),a["\u0275did"](22,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](23,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](24,0,null,null,2,"fa-icon",[["class","pr-2 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](25,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"],fixedWidth:[1,"fixedWidth"]},null),a["\u0275pad"](26,2),(e()(),a["\u0275eld"](27,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](28,null,["",""])),(e()(),a["\u0275eld"](29,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](30,0,null,null,2,"fa-icon",[["class","pr-2 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](31,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"],fixedWidth:[1,"fixedWidth"]},null),a["\u0275pad"](32,2),(e()(),a["\u0275eld"](33,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),a["\u0275ted"](34,null,["",""]))],function(e,n){var t=n.component;e(n,3,0,e(n,4,0,"fas","home"),!0);e(n,9,0,e(n,10,0,"far","user-circle"),!0),e(n,12,0,t.data.owner),e(n,14,0,!t.data.owner);e(n,17,0,e(n,18,0,"fas","users"),!0),e(n,20,0,t.data.alliance),e(n,22,0,!t.data.alliance);e(n,25,0,e(n,26,0,"fas","sort-amount-up"),!0);e(n,31,0,e(n,32,0,"fas","exchange-alt"),!0)},function(e,n){var t=n.component;e(n,2,0,a["\u0275nov"](n,3).renderedIconHTML),e(n,6,0,t.data.name),e(n,8,0,a["\u0275nov"](n,9).renderedIconHTML),e(n,16,0,a["\u0275nov"](n,17).renderedIconHTML),e(n,24,0,a["\u0275nov"](n,25).renderedIconHTML),e(n,28,0,t.data.score||"-"),e(n,30,0,a["\u0275nov"](n,31).renderedIconHTML),e(n,34,0,t.data.distance)})}a["\u0275ccf"]("town-hover",Hf,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"town-hover",[],null,null,null,Kf,Zf)),a["\u0275did"](1,49152,null,0,Hf,[],null,null)],null,null)},{data:"data"},{openAllianceProfile:"openAllianceProfile",openPlayerProfile:"openPlayerProfile"},[]);var Jf=t("+umK"),em=new u.a(Jf.a);var nm=t("MGBS"),tm=t("zotm"),lm={leading:!0,trailing:!1};nm.a;function im(e,n,t){return void 0===n&&(n=di.a),void 0===t&&(t=lm),function(l){return l.lift(new am(e,n,t.leading,t.trailing))}}var am=function(){function e(e,n,t,l){this.duration=e,this.scheduler=n,this.leading=t,this.trailing=l}return e.prototype.call=function(e,n){return n.subscribe(new om(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),om=function(e){function n(n,t,l,i,a){var o=e.call(this,n)||this;return o.duration=t,o.scheduler=l,o.leading=i,o.trailing=a,o._hasTrailingValue=!1,o._trailingValue=null,o}return Cl.b(n,e),n.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(rm,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},n.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},n.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},n}(Fa.a);function rm(e){e.subscriber.clearThrottle()}var um=t("15JJ");var sm=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,n){return n.subscribe(new cm(e,this.predicate))},e}(),cm=function(e){function n(n,t){var l=e.call(this,n)||this;return l.predicate=t,l.index=0,l}return Cl.b(n,e),n.prototype._next=function(e){var n,t=this.destination;try{n=this.predicate(e,this.index++)}catch(e){return void t.error(e)}this.nextOrComplete(e,n)},n.prototype.nextOrComplete=function(e,n){var t=this.destination;Boolean(n)?t.next(e):t.complete()},n}(Fa.a),dm=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},pm=function(){function e(e){var n=this;this.mapService=e,this.openAllianceProfile=new a.EventEmitter,this.openPlayerProfile=new a.EventEmitter,this.openCommand=new a.EventEmitter,this.layout=new Ai.b,this.mapVisibility={x:1,y:1},this.mapSize={x:0,y:0},this.hexWidthCount=[{count:5,size:600},{count:7,size:900},{count:11,size:1400},{count:13,size:2e3},{count:19,size:4e3}],this.zoom={current:1,min:.25,max:2},this.elementReady=!1,this.shouldDraw=!1,this.targetCoord=[null,null],this.boxSize={x:260,y:140},this.dragging=0,this.hoverPauser=new jl.a,this.pausableMove=this.hoverPauser.pipe(Object(um.a)(function(e){return e?em:n.moveEvent})),mi.d.add(hi.n,Go,hi.v,hi.i,hi.r,hi.p),this.mapTiles=this.mapService.mapTiles,this.rng=this.mapService.rng}return e.prototype.ngOnChanges=function(e){e.townState&&(this.activeTownHex=this.layout.coordToHex(this.townState.playerTowns[this.townState.activeTown].location)),this.shouldDraw=!0},e.prototype.ngAfterViewChecked=function(){this.elementReady&&this.shouldDraw&&this.mapData&&(this.hoverPauser.next(!1),this.drawMap(this.layout,this.offset),this.shouldDraw=!1)},e.prototype.ngAfterContentInit=function(){var e=this;this.offscreenCanvas=document.createElement("canvas"),this.offscreenCtx=this.offscreenCanvas.getContext("2d",{alpha:!1}),this.offscreenCtx.imageSmoothingEnabled=!1,this.offscreenCtx.lineWidth=1,this.ctx=this.map.nativeElement.getContext("2d",{alpha:!1}),this.ctx.imageSmoothingEnabled=!1,this.ctx.lineWidth=1,this.setMapSettings({x:this.map.nativeElement.offsetWidth,y:this.map.nativeElement.offsetHeight});var n=this.townState.playerTowns[this.townState.activeTown];this.activeTownHex=this.layout.coordToHex(n.location),this.setCenterCoordOffset(n.location),this.elementReady=!0,this.shouldDraw=!0,this.moveEvent=Object(qi.a)(Object(wd.a)(this.map.nativeElement,"mousemove"),Object(wd.a)(this.map.nativeElement,"touchmove")).pipe(im(50)),this.hoverSubscription=this.pausableMove.subscribe(function(n){return e.onHover(n)}),this.hoverPauser.next(!this.mapData)},e.prototype.setMapSettings=function(e){for(var n=Math.ceil(this.worldData.world.size/2),t=this.hexWidthCount[0].count,l=1;l<this.hexWidthCount.length&&e.x>this.hexWidthCount[l-1].size;l++)t=this.hexWidthCount[l].count;var i=e.x/t*this.zoom.current,a=i/this.layout.orientation.f0,o=2*a;this.hexSize={size:a,width:i,height:o},this.mapVisibility={x:Math.ceil(e.x/i)+2,y:Math.ceil(e.y/(.75*o))+2},this.mapSize=e,this.offscreenCanvas.width=e.x,this.offscreenCanvas.height=e.y,this.layout.size={x:this.hexSize.size,y:this.hexSize.size},this.layout.origin={x:this.hexSize.width*n,y:.75*this.hexSize.height*n},this.layout.centerCoord=n},e.prototype.onClick=function(e){this.hover&&this.openCommand.emit(this.hover.data)},e.prototype.onHover=function(e){var n=e.offsetX,t=e.offsetY,l={x:this.offset.x+n,y:this.offset.y+t},i=this.layout.pixelToHex(l).round(),a=this.layout.hexToCoord(i).join(","),o=this.mapData[a]||null;if(o&&o.id!==this.townState.activeTown){var r=this.layout.polygonCorners(i),u={x:r[2].x-this.offset.x,y:r[2].y-this.offset.y-this.boxSize.y};u.y<0&&(u.y=r[5].y-this.offset.y),u.x+this.boxSize.x>this.mapSize.x&&(u.x-=this.boxSize.x),this.hover={data:dm({},o,{distance:this.activeTownHex.distance(i)}),position:"translate3d("+ +u.x+"px,"+u.y+"px,0)",transformOrigin:""}}else this.hover=null},e.prototype.onZoom=function(e){e.preventDefault();var n=this.zoom.current-.25*Math.sign(e.deltaY),t=Math.min(Math.max(n,this.zoom.min),this.zoom.max);this.zoom.current!==t&&(this.zoom.current=t,this.updateMap({x:this.map.nativeElement.offsetWidth,y:this.map.nativeElement.offsetHeight}))},e.prototype.onStartDrag=function(e){var n,t=this,l={x:e.offsetX||e.touches[0].pageX-e.touches[0].target.offsetLeft,y:e.offsetY||e.touches[0].pageY-e.touches[0].target.offsetTop},i={x:this.offset.x,y:this.offset.y};this.dragging=1,Object(qi.a)(Object(wd.a)(this.map.nativeElement,"mousemove"),Object(wd.a)(this.map.nativeElement,"touchmove")).pipe((n=function(){return!!t.dragging},function(e){return e.lift(new sm(n))}),im(10)).subscribe(function(e){return t.onDrag(l,e,i)})},e.prototype.onStopDrag=function(e){this.dragging=0},e.prototype.onDrag=function(e,n,t){var l=n.offsetX||n.touches[0].pageX-n.touches[0].target.offsetLeft,i=n.offsetY||n.touches[0].pageY-n.touches[0].target.offsetTop,a={x:e.x-l,y:e.y-i},o={x:t.x+a.x-this.offset.x,y:t.y+a.y-this.offset.y};Math.abs(a.x)<5&&Math.abs(a.y)<5||(this.dragging=2,this.hover=null,this.offset={x:this.offset.x+o.x,y:this.offset.y+o.y},this.drawMap(this.layout,this.offset,o))},e.prototype.onResize=function(e){this.updateMap({x:this.map.nativeElement.offsetWidth,y:this.map.nativeElement.offsetHeight})},e.prototype.updateMap=function(e){var n=this.layout.pixelToHex({x:this.offset.x+this.mapSize.x/2,y:this.offset.y+this.mapSize.y/2});this.setMapSettings(e);var t=this.layout.hexToPixel(n);t.x-=this.mapSize.x/2,t.y-=this.mapSize.y/2,this.offset=t,this.shouldDraw=!0},e.prototype.jumpToCoord=function(e){if(e[0]<0||e[0]>this.worldData.world.size||e[1]<0||e[1]>this.worldData.world.size)return this.targetCoord[0]=null,void(this.targetCoord[1]=null);this.setCenterCoordOffset(e),this.shouldDraw=!0,this.targetCoord[0]=null,this.targetCoord[1]=null},e.prototype.setCenterCoordOffset=function(e){var n=this.layout.coordToPixel(e);n.x-=this.mapSize.x/2+15,n.y-=this.mapSize.y/2-50,this.offset=n},e.prototype.screenHexes=function(){return this.shapeRectangle(this.mapVisibility.x,this.mapVisibility.y,{x:this.offset.x+this.mapSize.x/2,y:this.offset.y+this.mapSize.y/2})},e.prototype.shapeRectangle=function(e,n,t){for(var l=[],i=t?this.layout.pixelToHex(t).round():new Ai.a(0,0,0),a=-Math.floor(e/2),o=a+e,r=-Math.floor(n/2),u=r+n,s=r;s<u;s++)for(var c=-Math.floor(s/2),d=a+c;d<o+c;d++)l.push(new Ai.a(d+i.x,s+i.y,-d-s+i.z));return l},e.prototype.drawMap=function(e,n,t,l){var i,a=this;if(void 0===l&&(l=!1),t){if(this.offscreenCtx.drawImage(this.offscreenCanvas,-t.x,-t.y),i=[],t.x){var o=t.x>0?this.mapSize.x-t.x:-t.x,r=Math.max(Math.ceil(Math.abs(t.x)/(this.hexSize.width/2)),2);i.push.apply(i,this.shapeRectangle(r,this.mapVisibility.y,{x:n.x+o,y:n.y+this.mapSize.y/2}))}if(t.y){var u=t.y>0?this.mapSize.y-t.y:-t.y,s=Math.max(Math.ceil(Math.abs(t.y)/this.hexSize.size),3);i.push.apply(i,this.shapeRectangle(this.mapVisibility.x,s,{x:n.x+this.mapSize.x/2,y:n.y+u}))}if(t.x&&t.y){var c=i.reduce(function(e,n){return e.set(n.toString(),n),e},new Map);i=Array.from(c.values())}}else i=this.screenHexes();i.forEach(function(n){return a.drawHex(a.offscreenCtx,e,n,l)}),this.ctx.drawImage(this.offscreenCanvas,0,0,this.mapSize.x,this.mapSize.y)},e.prototype.drawHex=function(e,n,t,l,i){void 0===l&&(l=!1),void 0===i&&(i="#27ae60");var a=n.polygonCorners(t,this.offset);e.beginPath(),e.lineWidth=1,e.moveTo(a[5].x,a[5].y);for(var o=0;o<6;o++)e.lineTo(a[o].x,a[o].y);var r=n.hexToCoord(t),u=[a[3].x,a[2].y],s=r.join(","),c=this.mapData[s],d=this.mapTiles.tiles[Math.round(this.mapService.rng(s)*(this.mapTiles.tiles.length-1))];if(e.closePath(),c){var p=c.owner?this.mapTiles.object:this.mapTiles.objectType.abandoned;e.drawImage(this.mapTiles.image,p[0],p[1],this.mapTiles.size[0],this.mapTiles.size[1],u[0],u[1],this.hexSize.width,this.hexSize.height);var f=void 0;if(this.townState.ids.includes(c.id))f=this.townState.activeTown===c.id?this.mapTiles.objectType.ownedActive:this.mapTiles.objectType.owned;else if(this.allianceDiplomacy&&c.alliance&&this.allianceDiplomacy[c.alliance.id]){var m=this.allianceDiplomacy[c.alliance.id];f=this.mapTiles.objectType[m[0]]}f&&e.drawImage(this.mapTiles.image,f[0],f[1],this.mapTiles.size[0],this.mapTiles.size[1],u[0],u[1],this.hexSize.width,this.hexSize.height)}else e.drawImage(this.mapTiles.image,d[0],d[1],this.mapTiles.size[0],this.mapTiles.size[1],u[0],u[1],this.hexSize.width,this.hexSize.height);i&&(e.strokeStyle=i,e.stroke()),l&&(e.fillStyle="hsl(0, 0%, 100%)",e.font="16px sans-serif",e.textAlign="center",e.textBaseline="middle",e.fillText(s,a[2].x,(a[2].y+a[5].y)/2))},e}(),fm=[["canvas[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#27ae60;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.map-navigation[_ngcontent-%COMP%]{background-color:#fff;position:absolute;bottom:0;left:0;max-width:40px;max-height:40px;overflow:hidden;transition:1s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.map-navigation[_ngcontent-%COMP%]:hover{max-width:340px;max-height:80px}.map-navigation[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{margin-top:0}.map-navigation[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-top:-24px;transition:.2s}.map-navigation[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:80px}town-hover[_ngcontent-%COMP%]{min-width:180px;padding:8px;position:absolute;top:0;left:0;background-color:pink}town-hover[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:6px}"]],mm=a["\u0275crt"]({encapsulation:0,styles:fm,data:{}});function hm(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"town-hover",[["class","town-hover hidden-sm-down"]],[[4,"transform",null],[4,"width","px"],[4,"height","px"]],[[null,"openAllianceProfile"],[null,"openPlayerProfile"]],function(e,n,t){var l=!0,i=e.component;"openAllianceProfile"===n&&(l=!1!==i.openAllianceProfile.emit(t)&&l);"openPlayerProfile"===n&&(l=!1!==i.openPlayerProfile.emit(t)&&l);return l},Kf,Zf)),a["\u0275did"](1,49152,null,0,Hf,[],{data:[0,"data"]},{openAllianceProfile:"openAllianceProfile",openPlayerProfile:"openPlayerProfile"})],function(e,n){e(n,1,0,n.component.hover.data)},function(e,n){var t=n.component;e(n,0,0,t.hover.position,t.boxSize.x,t.boxSize.y)})}function gm(e){return a["\u0275vid"](0,[a["\u0275qud"](402653184,1,{map:0}),(e()(),a["\u0275eld"](1,0,[[1,0],["map",1]],null,2,"canvas",[],[[8,"width",0],[8,"height",0]],[[null,"click"],["window","resize"],[null,"wheel"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"],[null,"mouseout"],[null,"touchcancel"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.onClick(t)&&l);"window:resize"===n&&(l=!1!==i.onResize(t)&&l);"wheel"===n&&(l=!1!==i.onZoom(t)&&l);"mousedown"===n&&(l=!1!==i.onStartDrag(t)&&l);"touchstart"===n&&(l=!1!==i.onStartDrag(t)&&l);"mouseup"===n&&(l=!1!==i.onStopDrag(t)&&l);"touchend"===n&&(l=!1!==i.onStopDrag(t)&&l);"mouseout"===n&&(l=!1!==i.onStopDrag(t)&&l);"touchcancel"===n&&(l=!1!==i.onStopDrag(t)&&l);return l},null,null)),(e()(),a["\u0275eld"](2,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Loading map"])),(e()(),a["\u0275eld"](4,0,null,null,31,"div",[["class","map-navigation"]],null,null,null,null,null)),(e()(),a["\u0275eld"](5,0,null,null,30,"div",[["class","d-flex align-items-center p-1"]],null,null,null,null,null)),(e()(),a["\u0275eld"](6,0,null,null,2,"fa-icon",[["class","pl-2 pr-3 ng-fa-icon"]],[[8,"innerHTML",1]],null,null,oi.b,oi.a)),a["\u0275did"](7,573440,null,0,ri.a,[ui.c],{iconProp:[0,"iconProp"]},null),a["\u0275pad"](8,2),(e()(),a["\u0275eld"](9,0,null,null,26,"div",[["style","white-space: nowrap;"]],null,null,null,null,null)),(e()(),a["\u0275eld"](10,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Jump to coords"])),(e()(),a["\u0275eld"](12,0,null,null,23,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,n,t){var l=!0,i=e.component;"submit"===n&&(l=!1!==a["\u0275nov"](e,14).onSubmit(t)&&l);"reset"===n&&(l=!1!==a["\u0275nov"](e,14).onReset()&&l);"ngSubmit"===n&&(l=!1!==i.jumpToCoord(i.targetCoord)&&l);return l},null,null)),a["\u0275did"](13,16384,null,0,Si.y,[],null,null),a["\u0275did"](14,4210688,null,0,Si.p,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),a["\u0275prd"](2048,null,Si.c,null,[Si.p]),a["\u0275did"](16,16384,null,0,Si.o,[[4,Si.c]],null,null),(e()(),a["\u0275eld"](17,0,null,null,7,"input",[["min","0"],["placeholder","X-coord"],["type","number"]],[[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,18)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,18).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,18)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,18)._compositionEnd(t.target.value)&&l);"change"===n&&(l=!1!==a["\u0275nov"](e,19).onChange(t.target.value)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,19).onChange(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,19).onTouched()&&l);"ngModelChange"===n&&(l=!1!==(i.targetCoord[0]=t)&&l);return l},null,null)),a["\u0275did"](18,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275did"](19,16384,null,0,Si.x,[a.Renderer2,a.ElementRef],null,null),a["\u0275prd"](1024,null,Si.l,function(e,n){return[e,n]},[Si.d,Si.x]),a["\u0275did"](21,671744,null,0,Si.q,[[2,Si.c],[8,null],[8,null],[6,Si.l]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),a["\u0275pod"](22,{standalone:0}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](24,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](25,0,null,null,7,"input",[["min","0"],["placeholder","Y-coord"],["type","number"]],[[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,26)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,26).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,26)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,26)._compositionEnd(t.target.value)&&l);"change"===n&&(l=!1!==a["\u0275nov"](e,27).onChange(t.target.value)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,27).onChange(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,27).onTouched()&&l);"ngModelChange"===n&&(l=!1!==(i.targetCoord[1]=t)&&l);return l},null,null)),a["\u0275did"](26,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275did"](27,16384,null,0,Si.x,[a.Renderer2,a.ElementRef],null,null),a["\u0275prd"](1024,null,Si.l,function(e,n){return[e,n]},[Si.d,Si.x]),a["\u0275did"](29,671744,null,0,Si.q,[[2,Si.c],[8,null],[8,null],[6,Si.l]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),a["\u0275pod"](30,{standalone:0}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](32,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](33,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""],["type","submit"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Ja.b,Ja.a)),a["\u0275did"](34,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Go"])),(e()(),a["\u0275and"](16777216,null,null,1,null,hm)),a["\u0275did"](37,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,7,0,e(n,8,0,"fas","search")),e(n,21,0,t.targetCoord[0],e(n,22,0,!0)),e(n,29,0,t.targetCoord[1],e(n,30,0,!0));e(n,34,0,"primary"),e(n,37,0,t.hover)},function(e,n){var t=n.component;e(n,1,0,t.mapSize.x,t.mapSize.y),e(n,6,0,a["\u0275nov"](n,7).renderedIconHTML),e(n,12,0,a["\u0275nov"](n,16).ngClassUntouched,a["\u0275nov"](n,16).ngClassTouched,a["\u0275nov"](n,16).ngClassPristine,a["\u0275nov"](n,16).ngClassDirty,a["\u0275nov"](n,16).ngClassValid,a["\u0275nov"](n,16).ngClassInvalid,a["\u0275nov"](n,16).ngClassPending),e(n,17,0,t.worldData.world.size,a["\u0275nov"](n,24).ngClassUntouched,a["\u0275nov"](n,24).ngClassTouched,a["\u0275nov"](n,24).ngClassPristine,a["\u0275nov"](n,24).ngClassDirty,a["\u0275nov"](n,24).ngClassValid,a["\u0275nov"](n,24).ngClassInvalid,a["\u0275nov"](n,24).ngClassPending),e(n,25,0,t.worldData.world.size,a["\u0275nov"](n,32).ngClassUntouched,a["\u0275nov"](n,32).ngClassTouched,a["\u0275nov"](n,32).ngClassPristine,a["\u0275nov"](n,32).ngClassDirty,a["\u0275nov"](n,32).ngClassValid,a["\u0275nov"](n,32).ngClassInvalid,a["\u0275nov"](n,32).ngClassPending),e(n,33,0,a["\u0275nov"](n,34).disabled||null,"NoopAnimations"===a["\u0275nov"](n,34)._animationMode)})}a["\u0275ccf"]("map-canvas",pm,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"map-canvas",[],null,null,null,gm,mm)),a["\u0275did"](1,10010624,null,0,pm,[Ai.c],null,null)],null,null)},{townState:"townState",worldData:"worldData",mapData:"mapData",allianceDiplomacy:"allianceDiplomacy"},{openAllianceProfile:"openAllianceProfile",openPlayerProfile:"openPlayerProfile",openCommand:"openCommand"},[]);var vm=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},bm=function(){function e(e,n,t){this.mapService=e,this.store=n,this.commandService=t,this.worldData$=this.store.select(sl.a),this.townState$=this.store.select(tt),this.allianceDiplomacy$=this.store.select(dt).pipe(Object(Pt.a)(function(e){return!!e}),Object(s.a)(function(e){var n,t={};return t=e.diplomacyTarget.reduce(function(e,n){var t=n.status,l=n.originAllianceId,i=n.type;return t===z.DiplomacyStatus.ongoing&&(e[l]=z.diplomacyTypeName[i]),e},t),t=e.diplomacyOrigin.reduce(function(e,n){var t=n.status,l=n.targetAllianceId,i=n.type;return t===z.DiplomacyStatus.ongoing&&(e[l]=z.diplomacyTypeName[i]),e},t),vm({},t,((n={})[e.id]="member",n))})),this.mapData$=this.store.select(yt),this.imagesLoaded$=this.mapService.imagesLoaded}return e.prototype.ngOnInit=function(){this.store.dispatch(new zn)},e.prototype.onOpenProfile=function(e,n){var t="alliance"===n?pn:g;this.store.dispatch(new t(e))},e.prototype.onOpenCommand=function(e){this.commandService.targeting.next(e.location),this.toggleSidenav("left","command")},e.prototype.toggleSidenav=function(e,n){this.store.dispatch(new m([{side:e,name:n}]))},e}(),ym=[[".map-container[_ngcontent-%COMP%]{position:relative;margin-left:-15px;width:100vw;height:calc(100vh - 43px);overflow:hidden}.map-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]],wm=a["\u0275crt"]({encapsulation:0,styles:ym,data:{}});function _m(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,5,"map-canvas",[],null,[[null,"openAllianceProfile"],[null,"openPlayerProfile"],[null,"openCommand"]],function(e,n,t){var l=!0,i=e.component;"openAllianceProfile"===n&&(l=!1!==i.onOpenProfile(t,"alliance")&&l);"openPlayerProfile"===n&&(l=!1!==i.onOpenProfile(t,"player")&&l);"openCommand"===n&&(l=!1!==i.onOpenCommand(t)&&l);return l},gm,mm)),a["\u0275did"](1,10010624,null,0,pm,[Ai.c],{townState:[0,"townState"],worldData:[1,"worldData"],mapData:[2,"mapData"],allianceDiplomacy:[3,"allianceDiplomacy"]},{openAllianceProfile:"openAllianceProfile",openPlayerProfile:"openPlayerProfile",openCommand:"openCommand"}),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef]),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,1,0,a["\u0275unv"](n,1,0,a["\u0275nov"](n,2).transform(t.townState$)),a["\u0275unv"](n,1,1,a["\u0275nov"](n,3).transform(t.worldData$)),a["\u0275unv"](n,1,2,a["\u0275nov"](n,4).transform(t.mapData$)),a["\u0275unv"](n,1,3,a["\u0275nov"](n,5).transform(t.allianceDiplomacy$)))},null)}function xm(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,3,"div",[["class","map-container"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,2,null,_m)),a["\u0275did"](2,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),a["\u0275pid"](131072,Fl.AsyncPipe,[a.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,2,0,a["\u0275unv"](n,2,0,a["\u0275nov"](n,3).transform(t.imagesLoaded$)))},null)}var Cm=a["\u0275ccf"]("map",bm,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"map",[],null,null,null,xm,wm)),a["\u0275did"](1,114688,null,0,bm,[Ai.c,O.n,Di.a],null,null)],function(e,n){e(n,1,0)},null)},{},{},[]),km=t("5xlC"),Rm=t("6QML"),Sm=[[""]],Im=a["\u0275crt"]({encapsulation:0,styles:Sm,data:{}});function Om(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,0,"img",[["class","img-fluid"],["style","max-height: 100%;"]],[[8,"src",4]],null,null,null,null))],null,function(e,n){var t=n.component;e(n,0,0,t.imagePreview||t.data.avatarUrl)})}function Pm(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"div",[["class","d-flex justify-content-center align-items-center"],["style","height: 100%; width: 100%; border: 2px dotted rgba(0,0,0,0.6);"]],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["No avatar"]))],null,null)}function Tm(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.removeAvatar()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](1,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Remove"]))],function(e,n){e(n,1,0,"warn")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).disabled||null,"NoopAnimations"===a["\u0275nov"](n,1)._animationMode)})}function Dm(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),a["\u0275did"](1,81920,null,0,Ju.m,[[2,Ju.l],a.ElementRef,Ju.e],null,null),(e()(),a["\u0275ted"](-1,null,["Edit profile"])),(e()(),a["\u0275eld"](3,0,null,null,40,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),a["\u0275did"](4,16384,null,0,Ju.j,[],null,null),(e()(),a["\u0275eld"](5,0,null,null,14,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](6,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Current avatar"])),(e()(),a["\u0275eld"](8,0,null,null,4,"div",[["class","avatar-container"],["style","max-width: 400px; height: 240px;"]],null,null,null,null,null)),(e()(),a["\u0275and"](16777216,null,null,1,null,Om)),a["\u0275did"](10,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275and"](16777216,null,null,1,null,Pm)),a["\u0275did"](12,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](13,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),a["\u0275ted"](-1,null,["Image size is limited to 400x240. Larger images will be scaled down."])),(e()(),a["\u0275and"](16777216,null,null,1,null,Tm)),a["\u0275did"](16,16384,null,0,Fl.NgIf,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),a["\u0275eld"](17,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),a["\u0275eld"](18,0,null,null,1,"input",[["ng2FileSelect",""],["type","file"]],null,[[null,"onFileSelected"],[null,"change"]],function(e,n,t){var l=!0,i=e.component;"change"===n&&(l=!1!==a["\u0275nov"](e,19).onChange()&&l);"onFileSelected"===n&&(l=!1!==i.fileSelected(t)&&l);return l},null,null)),a["\u0275did"](19,16384,null,0,km.FileSelectDirective,[a.ElementRef],{uploader:[0,"uploader"]},{onFileSelected:"onFileSelected"}),(e()(),a["\u0275eld"](20,0,null,null,23,"div",[["class","mt-3"]],null,null,null,null,null)),(e()(),a["\u0275eld"](21,0,null,null,22,"mat-form-field",[["class","mat-form-field"],["ngDefaultControl",""]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var l=!0,i=e.component;"input"===n&&(l=!1!==a["\u0275nov"](e,30)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,30).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,30)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,30)._compositionEnd(t.target.value)&&l);"ngModelChange"===n&&(l=!1!==(i.description=t)&&l);return l},no.b,no.a)),a["\u0275did"](22,7389184,null,7,to.b,[a.ElementRef,a.ChangeDetectorRef,[2,Ml.j],[2,Rl.b],[2,to.a],Dl.a,a.NgZone,[2,ma.a]],null,null),a["\u0275qud"](335544320,1,{_control:0}),a["\u0275qud"](335544320,2,{_placeholderChild:0}),a["\u0275qud"](335544320,3,{_labelChild:0}),a["\u0275qud"](603979776,4,{_errorChildren:1}),a["\u0275qud"](603979776,5,{_hintChildren:1}),a["\u0275qud"](603979776,6,{_prefixChildren:1}),a["\u0275qud"](603979776,7,{_suffixChildren:1}),a["\u0275did"](30,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](32,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},{update:"ngModelChange"}),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](34,16384,null,0,Si.n,[[4,Si.m]],null,null),(e()(),a["\u0275eld"](35,0,null,1,8,"textarea",[["class","mat-input-element mat-form-field-autofill-control cdk-textarea-autosize mat-autosize"],["matAutosizeMaxRows","5"],["matAutosizeMinRows","2"],["matInput",""],["matTextareaAutosize",""],["placeholder","Description"],["rows","1"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[8,"readOnly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(e,n,t){var l=!0;"input"===n&&(l=!1!==a["\u0275nov"](e,36)._handleInput(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,36).onTouched()&&l);"compositionstart"===n&&(l=!1!==a["\u0275nov"](e,36)._compositionStart()&&l);"compositionend"===n&&(l=!1!==a["\u0275nov"](e,36)._compositionEnd(t.target.value)&&l);"blur"===n&&(l=!1!==a["\u0275nov"](e,40)._focusChanged(!1)&&l);"focus"===n&&(l=!1!==a["\u0275nov"](e,40)._focusChanged(!0)&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,40)._onInput()&&l);"input"===n&&(l=!1!==a["\u0275nov"](e,41)._noopInputHandler()&&l);return l},null,null)),a["\u0275did"](36,16384,null,0,Si.d,[a.Renderer2,a.ElementRef,[2,Si.a]],null,null),a["\u0275prd"](1024,null,Si.l,function(e){return[e]},[Si.d]),a["\u0275did"](38,671744,null,0,Si.q,[[8,null],[8,null],[8,null],[6,Si.l]],{model:[0,"model"]},null),a["\u0275prd"](2048,null,Si.m,null,[Si.q]),a["\u0275did"](40,999424,null,0,lo.a,[a.ElementRef,Dl.a,[6,Si.m],[2,Si.p],[2,Si.h],Ml.d,[8,null],io.a,a.NgZone],{placeholder:[0,"placeholder"]},null),a["\u0275did"](41,4603904,null,0,lo.c,[a.ElementRef,Dl.a,a.NgZone],{matAutosizeMinRows:[0,"matAutosizeMinRows"],matAutosizeMaxRows:[1,"matAutosizeMaxRows"],matTextareaAutosize:[2,"matTextareaAutosize"]},null),a["\u0275did"](42,16384,null,0,Si.n,[[4,Si.m]],null,null),a["\u0275prd"](2048,[[1,4]],to.c,null,[lo.a]),(e()(),a["\u0275eld"](44,0,null,null,8,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),a["\u0275did"](45,16384,null,0,Ju.f,[],null,null),(e()(),a["\u0275eld"](46,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;"click"===n&&(l=!1!==i.saveProfile()&&l);return l},Ja.b,Ja.a)),a["\u0275did"](47,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(e()(),a["\u0275ted"](-1,0,["Save"])),(e()(),a["\u0275eld"](49,0,null,null,3,"button",[["class","float-right"],["color","warn"],["mat-dialog-close",""],["mat-raised-button",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==a["\u0275nov"](e,51).dialogRef.close(a["\u0275nov"](e,51).dialogResult)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](50,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),a["\u0275did"](51,606208,null,0,Ju.g,[[2,Ju.l],a.ElementRef,Ju.e],{dialogResult:[0,"dialogResult"]},null),(e()(),a["\u0275ted"](-1,0,["Cancel"]))],function(e,n){var t=n.component;e(n,1,0),e(n,10,0,t.data.avatarUrl||t.imagePreview),e(n,12,0,!t.data.avatarUrl&&!t.imagePreview),e(n,16,0,t.data.avatarUrl||t.imagePreview),e(n,19,0,t.uploader),e(n,32,0,t.description),e(n,38,0,t.description);e(n,40,0,"Description");e(n,41,0,"2","5","");e(n,47,0,!t.uploader.queue.length&&t.data.description===t.description,"primary");e(n,50,0,"warn");e(n,51,0,"")},function(e,n){e(n,0,0,a["\u0275nov"](n,1).id),e(n,21,1,["standard"==a["\u0275nov"](n,22).appearance,"fill"==a["\u0275nov"](n,22).appearance,"outline"==a["\u0275nov"](n,22).appearance,"legacy"==a["\u0275nov"](n,22).appearance,a["\u0275nov"](n,22)._control.errorState,a["\u0275nov"](n,22)._canLabelFloat,a["\u0275nov"](n,22)._shouldLabelFloat(),a["\u0275nov"](n,22)._hideControlPlaceholder(),a["\u0275nov"](n,22)._control.disabled,a["\u0275nov"](n,22)._control.autofilled,a["\u0275nov"](n,22)._control.focused,"accent"==a["\u0275nov"](n,22).color,"warn"==a["\u0275nov"](n,22).color,a["\u0275nov"](n,22)._shouldForward("untouched"),a["\u0275nov"](n,22)._shouldForward("touched"),a["\u0275nov"](n,22)._shouldForward("pristine"),a["\u0275nov"](n,22)._shouldForward("dirty"),a["\u0275nov"](n,22)._shouldForward("valid"),a["\u0275nov"](n,22)._shouldForward("invalid"),a["\u0275nov"](n,22)._shouldForward("pending"),!a["\u0275nov"](n,22)._animationsEnabled,a["\u0275nov"](n,34).ngClassUntouched,a["\u0275nov"](n,34).ngClassTouched,a["\u0275nov"](n,34).ngClassPristine,a["\u0275nov"](n,34).ngClassDirty,a["\u0275nov"](n,34).ngClassValid,a["\u0275nov"](n,34).ngClassInvalid,a["\u0275nov"](n,34).ngClassPending]),e(n,35,1,[a["\u0275nov"](n,40)._isServer,a["\u0275nov"](n,40).id,a["\u0275nov"](n,40).placeholder,a["\u0275nov"](n,40).disabled,a["\u0275nov"](n,40).required,a["\u0275nov"](n,40).readonly,a["\u0275nov"](n,40)._ariaDescribedby||null,a["\u0275nov"](n,40).errorState,a["\u0275nov"](n,40).required.toString(),a["\u0275nov"](n,42).ngClassUntouched,a["\u0275nov"](n,42).ngClassTouched,a["\u0275nov"](n,42).ngClassPristine,a["\u0275nov"](n,42).ngClassDirty,a["\u0275nov"](n,42).ngClassValid,a["\u0275nov"](n,42).ngClassInvalid,a["\u0275nov"](n,42).ngClassPending]),e(n,46,0,a["\u0275nov"](n,47).disabled||null,"NoopAnimations"===a["\u0275nov"](n,47)._animationMode),e(n,49,0,a["\u0275nov"](n,50).disabled||null,"NoopAnimations"===a["\u0275nov"](n,50)._animationMode,a["\u0275nov"](n,51).ariaLabel)})}var Am=a["\u0275ccf"]("edit-profile",Qu,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"edit-profile",[],null,null,null,Dm,Im)),a["\u0275did"](1,49152,null,0,Qu,[Rm.Cloudinary,O.n,Ju.l,Ju.a],null,null)],null,null)},{},{},[]),Em=[[""]],jm=a["\u0275crt"]({encapsulation:0,styles:Em,data:{}});function Fm(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,2,"h1",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),a["\u0275did"](1,81920,null,0,Ju.m,[[2,Ju.l],a.ElementRef,Ju.e],null,null),(e()(),a["\u0275ted"](2,null,["",""])),(e()(),a["\u0275eld"](3,0,null,null,1,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],[[8,"innerHTML",1]],null,null,null,null)),a["\u0275did"](4,16384,null,0,Ju.j,[],null,null),(e()(),a["\u0275eld"](5,0,null,null,5,"div",[["class","justify-content-end mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),a["\u0275did"](6,16384,null,0,Ju.f,[],null,null),(e()(),a["\u0275eld"](7,0,null,null,3,"button",[["color","primary"],["mat-button",""],["mat-dialog-close",""],["type","button"]],[[8,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0]],[[null,"click"]],function(e,n,t){var l=!0;"click"===n&&(l=!1!==a["\u0275nov"](e,9).dialogRef.close(a["\u0275nov"](e,9).dialogResult)&&l);return l},Ja.b,Ja.a)),a["\u0275did"](8,180224,null,0,eo.b,[a.ElementRef,Dl.a,kl.f,[2,ma.a]],{color:[0,"color"]},null),a["\u0275did"](9,606208,null,0,Ju.g,[[2,Ju.l],a.ElementRef,Ju.e],{dialogResult:[0,"dialogResult"]},null),(e()(),a["\u0275ted"](-1,0,["Continue"]))],function(e,n){e(n,1,0);e(n,8,0,"primary");e(n,9,0,"")},function(e,n){var t=n.component;e(n,0,0,a["\u0275nov"](n,1).id),e(n,2,0,t.data.title),e(n,3,0,t.data.content),e(n,7,0,a["\u0275nov"](n,8).disabled||null,"NoopAnimations"===a["\u0275nov"](n,8)._animationMode,a["\u0275nov"](n,9).ariaLabel)})}var Mm=a["\u0275ccf"]("tutorial-dialog",bp,function(e){return a["\u0275vid"](0,[(e()(),a["\u0275eld"](0,0,null,null,1,"tutorial-dialog",[],null,null,null,Fm,jm)),a["\u0275did"](1,49152,null,0,bp,[Ju.l,Ju.a],null,null)],null,null)},{},{},[]),Nm=t("iCtU"),Lm=t("Ovjw"),$m=t("O/bx"),zm=t("LKjY"),Vm=t("bt6x"),qm=t("0XGt"),Um=t("PsaP"),Bm=t("nhl2"),Hm=t("InZo"),Wm=t("C9m0"),Zm=t("+NDo"),Xm=t("4WQT"),Gm=t("wtSO"),Ym=t("gpiN"),Qm=t("NlYj"),Km=t("neuq"),Jm=t("y+WT"),eh=t("MVL9"),nh=t("j2fZ"),th=t("S6T7"),lh=t("FeSO");t.d(n,"GameModuleNgFactory",function(){return ih});var ih=a["\u0275cmf"](wl,[],function(e){return a["\u0275mod"]([a["\u0275mpd"](512,a.ComponentFactoryResolver,a["\u0275CodegenComponentFactoryResolver"],[[8,[_l.a,_l.b,Yl,Ql.a,Kl.a,Jl.a,ei.a,ni.a,ti.a,li.a,ii.a,ai.a,Gp,Bf,Cm,Qs,Vi,Ri,Am,Mm]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["\u0275mpd"](4608,Fl.NgLocalization,Fl.NgLocaleLocalization,[a.LOCALE_ID,[2,Fl["\u0275angular_packages_common_common_a"]]]),a["\u0275mpd"](4608,Pl.c,Pl.c,[Pl.i,Pl.e,a.ComponentFactoryResolver,Pl.h,Pl.f,a.Injector,a.NgZone,Fl.DOCUMENT,Rl.b]),a["\u0275mpd"](5120,Pl.j,Pl.k,[Pl.c]),a["\u0275mpd"](5120,hr.a,hr.b,[Pl.c]),a["\u0275mpd"](4608,Zl.c,Zl.c,[]),a["\u0275mpd"](4608,Ml.d,Ml.d,[]),a["\u0275mpd"](5120,zl,Vl,[Pl.c]),a["\u0275mpd"](5120,Ic,Oc,[[3,Ic]]),a["\u0275mpd"](5120,Ju.c,Ju.d,[Pl.c]),a["\u0275mpd"](4608,Ju.e,Ju.e,[Pl.c,a.Injector,[2,Fl.Location],[2,Ju.b],Ju.c,[3,Ju.e],Pl.e]),a["\u0275mpd"](4608,Si.z,Si.z,[]),a["\u0275mpd"](4608,Si.f,Si.f,[]),a["\u0275mpd"](4608,Nm.a,Nm.a,[a.ComponentFactoryResolver,a.Injector,Lm.a]),a["\u0275mpd"](5120,Rm.Cloudinary,$m.createCloudinary,[$m.CLOUDINARY_LIB,$m.CLOUDINARY_CONFIGURATION]),a["\u0275mpd"](4608,Ai.c,Ai.c,[I.a]),a["\u0275mpd"](4608,Di.a,Di.a,[]),a["\u0275mpd"](1073742336,Fl.CommonModule,Fl.CommonModule,[]),a["\u0275mpd"](1073742336,Rl.a,Rl.a,[]),a["\u0275mpd"](1073742336,Al.h,Al.h,[]),a["\u0275mpd"](1073742336,Dl.b,Dl.b,[]),a["\u0275mpd"](1073742336,Tl.b,Tl.b,[]),a["\u0275mpd"](1073742336,Pl.g,Pl.g,[]),a["\u0275mpd"](1073742336,Ml.n,Ml.n,[[2,Ml.f]]),a["\u0275mpd"](1073742336,Ml.y,Ml.y,[]),a["\u0275mpd"](1073742336,Ml.w,Ml.w,[]),a["\u0275mpd"](1073742336,Ml.u,Ml.u,[]),a["\u0275mpd"](1073742336,to.d,to.d,[]),a["\u0275mpd"](1073742336,hr.d,hr.d,[]),a["\u0275mpd"](1073742336,Dd,Dd,[]),a["\u0275mpd"](1073742336,eo.c,eo.c,[]),a["\u0275mpd"](1073742336,Op.e,Op.e,[]),a["\u0275mpd"](1073742336,Ya,Ya,[]),a["\u0275mpd"](1073742336,Zl.d,Zl.d,[]),a["\u0275mpd"](1073742336,kl.a,kl.a,[]),a["\u0275mpd"](1073742336,fa,fa,[]),a["\u0275mpd"](1073742336,io.c,io.c,[]),a["\u0275mpd"](1073742336,lo.b,lo.b,[]),a["\u0275mpd"](1073742336,Uo,Uo,[]),a["\u0275mpd"](1073742336,Wl,Wl,[]),a["\u0275mpd"](1073742336,np,np,[]),a["\u0275mpd"](1073742336,xu,xu,[]),a["\u0275mpd"](1073742336,$u,$u,[]),a["\u0275mpd"](1073742336,Ac,Ac,[]),a["\u0275mpd"](1073742336,Ju.k,Ju.k,[]),a["\u0275mpd"](1073742336,Si.w,Si.w,[]),a["\u0275mpd"](1073742336,Si.j,Si.j,[]),a["\u0275mpd"](1073742336,Si.t,Si.t,[]),a["\u0275mpd"](1073742336,Xd.p,Xd.p,[[2,Xd.v],[2,Xd.l]]),a["\u0275mpd"](1073742336,zm.a,zm.a,[]),a["\u0275mpd"](1073742336,Vm.a,Vm.a,[]),a["\u0275mpd"](1073742336,qm.a,qm.a,[]),a["\u0275mpd"](1073742336,Um.a,Um.a,[]),a["\u0275mpd"](1073742336,Bm.a,Bm.a,[]),a["\u0275mpd"](1073742336,Hm.a,Hm.a,[]),a["\u0275mpd"](1073742336,Wm.a,Wm.a,[]),a["\u0275mpd"](1073742336,Zm.a,Zm.a,[]),a["\u0275mpd"](1073742336,Xm.a,Xm.a,[]),a["\u0275mpd"](1073742336,Gm.a,Gm.a,[]),a["\u0275mpd"](1073742336,Ym.a,Ym.a,[]),a["\u0275mpd"](1073742336,Qm.a,Qm.a,[]),a["\u0275mpd"](1073742336,Km.a,Km.a,[]),a["\u0275mpd"](1073742336,Jm.a,Jm.a,[]),a["\u0275mpd"](1073742336,eh.a,eh.a,[]),a["\u0275mpd"](1073742336,nh.a,nh.a,[]),a["\u0275mpd"](1073742336,o.a,o.a,[]),a["\u0275mpd"](1024,O.j,function(){return[{key:"game",reducerFactory:O.z,metaReducers:[],initialState:void 0}]},[]),a["\u0275mpd"](1024,O.q,function(){return[{player:D,alliance:Rn,chat:Ln,town:L,map:Bn,rankings:et}]},[]),a["\u0275mpd"](1024,O.r,function(e){return[e]},[O.q]),a["\u0275mpd"](1024,O.b,function(e,n,t){return[O.w(e,n,t)]},[a.Injector,O.q,O.r]),a["\u0275mpd"](1073873408,O.o,O.o,[O.j,O.b,O.g,O.p]),a["\u0275mpd"](512,It,It,[r.a,Xd.l,I.a,O.n]),a["\u0275mpd"](512,At,At,[r.a,Xd.l,O.n,I.a]),a["\u0275mpd"](512,Ft,Ft,[r.a,Xd.l,O.n,I.a]),a["\u0275mpd"](512,fl,fl,[r.a,Xd.l,O.n,I.a]),a["\u0275mpd"](512,gl,gl,[r.a,O.n,I.a]),a["\u0275mpd"](512,yl,yl,[r.a,Xd.l,I.a,O.n]),a["\u0275mpd"](1024,r.i,function(e,n,t,l,i,a){return[r.e(e,n,t,l,i,a)]},[It,At,Ft,fl,gl,yl]),a["\u0275mpd"](1073742336,r.g,r.g,[r.f,r.i,[2,O.p],[2,O.o]]),a["\u0275mpd"](1073742336,ri.e,ri.e,[]),a["\u0275mpd"](1073742336,th.FileUploadModule,th.FileUploadModule,[]),a["\u0275mpd"](1073742336,$m.CloudinaryModule,$m.CloudinaryModule,[]),a["\u0275mpd"](512,lh.a,lh.a,[]),a["\u0275mpd"](1073742336,wl,wl,[lh.a]),a["\u0275mpd"](1024,Xd.j,function(){return[[{path:"",component:Ip,children:[{path:"",redirectTo:"town",pathMatch:"full"},{path:"town",component:Lf},{path:"map",component:bm},{path:"recruit",component:qs,pathMatch:"prefix",outlet:"popupRight"},{path:"command",component:Ti,pathMatch:"prefix",outlet:"popupLeft"},{path:"movement",component:gi,pathMatch:"prefix",outlet:"popupLeft"}]}]]},[]),a["\u0275mpd"](256,$m.CLOUDINARY_LIB,null,[]),a["\u0275mpd"](256,$m.CLOUDINARY_CONFIGURATION,{cloud_name:"divudlfux",upload_preset:"avatar"},[])])})},wfqj:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.attack=0]="attack",e[e.defense=1]="defense"}(n.CombatOutcome||(n.CombatOutcome={}))}}]);
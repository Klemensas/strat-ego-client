Architecture

Atm town has an action container for most actions while alliance only has one general handler.
A general one is easier to track but is limited in flexibility, ie. need additional state to differ which action failed. Also using a general one limits 
